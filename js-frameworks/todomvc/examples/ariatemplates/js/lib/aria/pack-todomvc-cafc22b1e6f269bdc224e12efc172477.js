/*
 * Aria Templates 1.3.5 - 22 Feb 2013
 *
 * Copyright 2009-2013 Amadeus s.a.s.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *    http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
//***MULTI-PART
//*******************
//LOGICAL-PATH:aria/DomEvent.js
//*******************
(function(){var e={target:"srcElement",type:"type",clientX:"clientX",clientY:"clientY",altKey:"altKey",ctrlKey:"ctrlKey",shiftKey:"shiftKey",pageX:"pageX",pageY:"pageY",relatedTarget:"relatedTarget",button:"button",direction:"direction",distance:"distance",duration:"duration",startX:"startX",startY:"startY",endX:"endX",endY:"endY",detail:"detail",wheelDelta:"wheelDelta",wheelDeltaX:"wheelDeltaX",wheelDeltaY:"wheelDeltaY",screenX:"screenX",screenY:"screenY"},t={focusin:"focus",focusout:"blur",dommousescroll:"mousewheel"
,webkitanimationstart:"animationstart",oanimationstart:"animationstart",msanimationstart:"animationstart",webkitanimationiteration:"animationiteration",oanimationiteration:"animationiteration",msanimationiteration:"animationiteration",webkitanimationend:"animationend",oanimationend:"animationend",msanimationend:"animationend",webkittransitionend:"transitionend",otransitionend:"transitionend",mstransitionend:"transitionend"},n=function(e){return e=e.toLowerCase(),t[e]||e},r,i;Aria.classDefinition({$classpath:"aria.DomEvent"
,$dependencies:["aria.core.Browser"],$onload:function(){r=aria.core.Browser.isIE6||aria.core.Browser.isIE7||aria.core.Browser.isIE8,i=!(aria.core.Browser.isIE||aria.core.Browser.isOpera||aria.core.Browser.isChrome||aria.core.Browser.isSafari)},$constructor:function(t){var s=t.$DomEvent!=null;if(!s&&r&&Aria.$window.event){t=Aria.$window.event;for(var o in e)e.hasOwnProperty(o)&&(this[o]=t[e[o]]);t.type=="mouseout"?this.relatedTarget=t.toElement:t.type=="mouseover"&&(this.relatedTarget=t.fromElement)}else for(
var o in e)e.hasOwnProperty(o)&&(this[o]=t[o]);this.type=n(t.type),this.charCode=0,this.keyCode=0;if(this.type=="keydown"||this.type=="keyup")this.keyCode=t.keyCode,this.isSpecialKey=this.isSpecialKey(this.keyCode,t);else if(this.type=="keypress"){var u=t.keyCode||t.charCode,a=i&&t.keyCode;this.keyCode=u,a||(this.keyCode=u,u>32&&u<38&&(this.keyCode=u+16),u>41&&u<48&&(this.keyCode=u+64),u>47&&u<58&&(this.keyCode=u+48),u>96&&u<123&&(this.keyCode=u-32)),this.charCode=u,this.isSpecialKey=this.isSpecialKey(this.keyCode
,t)}this.hasStopPropagation=!1,this.hasPreventDefault=!1,this.preventDefault=t.preventDefault?function(e){this.hasPreventDefault=!0,t.preventDefault(),e===!0&&this.stopPropagation()}:function(e){this.hasPreventDefault=!0,t.returnValue=!1,e===!0&&this.stopPropagation()},this.stopPropagation=t.stopPropagation?function(){this.hasStopPropagation=!0,t.stopPropagation()}:function(){this.hasStopPropagation=!0,t.cancelBubble=!0},this._dispose=function(){t=null,this.preventDefault=null,this.stopPropagation=null}},$destructor
:function(){this._dispose&&(this.target=null,this.delegateTarget=null,this._dispose())},$prototype:{_ariaDomEvent:!0,_wrapperNumber:0,disposeWrapper:function(){this._wrapperNumber===0?this.$dispose():this._wrapperNumber--},setTarget:function(e){this.target=e}},$statics:{getWrapper:function(e){return e&&e._ariaDomEvent?(e._wrapperNumber++,e):new aria.DomEvent(e)},KC_BACKSPACE:8,KC_TAB:9,KC_NUM_CENTER:12,KC_ENTER:13,KC_RETURN:13,KC_SHIFT:16,KC_CTRL:17,KC_CONTROL:17,KC_ALT:18,KC_PAUSE:19,KC_CAPS_LOCK:20,KC_ESCAPE
:27,KC_SPACE:32,KC_PAGEUP:33,KC_PAGE_UP:33,KC_PAGEDOWN:34,KC_PAGE_DOWN:34,KC_END:35,KC_HOME:36,KC_LEFT:37,KC_ARROW_LEFT:37,KC_UP:38,KC_ARROW_UP:38,KC_RIGHT:39,KC_ARROW_RIGHT:39,KC_DOWN:40,KC_ARROW_DOWN:40,KC_PRINT_SCREEN:44,KC_INSERT:45,KC_DELETE:46,KC_ZERO:48,KC_ONE:49,KC_TWO:50,KC_THREE:51,KC_FOUR:52,KC_FIVE:53,KC_SIX:54,KC_SEVEN:55,KC_EIGHT:56,KC_NINE:57,KC_A:65,KC_B:66,KC_C:67,KC_D:68,KC_E:69,KC_F:70,KC_G:71,KC_H:72,KC_I:73,KC_J:74,KC_K:75,KC_L:76,KC_M:77,KC_N:78,KC_O:79,KC_P:80,KC_Q:81,KC_R:82,KC_S:83,KC_T
:84,KC_U:85,KC_V:86,KC_W:87,KC_X:88,KC_Y:89,KC_Z:90,KC_CONTEXT_MENU:93,KC_NUM_ZERO:96,KC_NUM_ONE:97,KC_NUM_TWO:98,KC_NUM_THREE:99,KC_NUM_FOUR:100,KC_NUM_FIVE:101,KC_NUM_SIX:102,KC_NUM_SEVEN:103,KC_NUM_EIGHT:104,KC_NUM_NINE:105,KC_MULTIPLY:106,KC_PLUS:107,KC_MINUS:109,KC_PERIOD:110,KC_DIVISION:111,KC_DIVIDE:111,KC_F1:112,KC_F2:113,KC_F3:114,KC_F4:115,KC_F5:116,KC_F6:117,KC_F7:118,KC_F8:119,KC_F9:120,KC_F10:121,KC_F11:122,KC_F12:123,isSpecialKey:function(e,t){return e>32&&e<41?!0:e==8||e==9||e==13||e==27?!0:e==45||
e==46?!1:t.ctrlKey&&e!=this.KC_CTRL?!0:t.altKey&&e!=this.KC_ALT?!0:!1},isNavigationKey:function(e){return e>32&&e<41?!0:e==9||e==13||e==27?!0:!1},getFakeEvent:function(e,t){var n=new aria.DomEvent({type:e});return n.type=e,n.target=t,n}}})})();
//*******************
//LOGICAL-PATH:aria/core/environment/Customizations.js
//*******************
Aria.classDefinition({$classpath:"aria.core.environment.Customizations",$extends:"aria.core.environment.EnvironmentBase",$dependencies:["aria.core.environment.CustomizationsCfgBeans"],$singleton:!0,$statics:{DESCRIPTOR_NOT_LOADED:"A customization descriptor was specified but could not be loaded (url: '%1')",INVALID_DESCRIPTOR:"The Customization descriptor at '%1' is invalid"},$events:{descriptorLoaded:{description:""}},$constructor:function(){this._isCustomized=!1,this._descriptorLoaded=!1,this._customizationDescriptor=
null,this._customizations={templates:{},modules:{}},this.$EnvironmentBase.constructor.call(this)},$prototype:{_cfgPackage:"aria.core.environment.CustomizationsCfgBeans.AppCfg",_applyEnvironment:function(e){var t=this.checkApplicationSettings("customization");t&&(t.descriptor!==this._customizationDescriptor||aria.utils.Type.isObject(t.descriptor))&&(this._customizationDescriptor=t.descriptor,this.reloadCustomizationDescriptor()),this.$callback(e)},_onDescriptorReceive:function(e){var t=e.status!="200";if(t)this
.$logError(this.DESCRIPTOR_NOT_LOADED,this._customizationDescriptor);else{var n=aria.utils.Json.load(e.responseText);if(n==null){this.$logError(this.INVALID_DESCRIPTOR,this._customizationDescriptor),this.$raiseEvent("descriptorLoaded");return}this._setCustomizationDescriptor(n)}this._descriptorLoaded=!0,this.$raiseEvent("descriptorLoaded")},_setCustomizationDescriptor:function(e){var t=aria.core.JsonValidator.normalize({json:e,beanName:"aria.core.environment.CustomizationsCfgBeans.DescriptorCfg"});t?this._customizations=
e:this.$logError(this.INVALID_DESCRIPTOR,this._customizationDescriptor)},reloadCustomizationDescriptor:function(){this._isCustomized=this._customizationDescriptor?!0:!1,this._isCustomized&&(this._descriptorLoaded=!1,aria.utils.Type.isString(this._customizationDescriptor)?aria.core.IO.asyncRequest({url:this._customizationDescriptor,callback:{fn:this._onDescriptorReceive,onerror:this._onDescriptorReceive,scope:this}}):(this._setCustomizationDescriptor(this._customizationDescriptor),this._descriptorLoaded=!0,this
.$raiseEvent("descriptorLoaded")))},isCustomized:function(){return this._isCustomized},descriptorLoaded:function(){return this._descriptorLoaded},getFlowCP:function(e){var t=e;return this._isCustomized&&this._customizations.flows[e]!=null&&(t=this._customizations.flows[e]),t},getCustomModules:function(e){if(this._isCustomized){var t=this._customizations.modules[e];if(t)return t}return[]},getCustomizations:function(){return aria.utils.Json.copy(this._customizations)},getTemplateCP:function(e){var t=e;return this
._isCustomized&&this._customizations.templates[e]!=null&&(t=this._customizations.templates[e]),t},setCustomizations:function(e){var t=this.checkApplicationSettings("customization");t.descriptor=e,this._customizationDescriptor=e,this.reloadCustomizationDescriptor()}}});
//*******************
//LOGICAL-PATH:aria/core/environment/CustomizationsCfgBeans.js
//*******************
Aria.beanDefinitions({$package:"aria.core.environment.CustomizationsCfgBeans",$description:"",$namespaces:{json:"aria.core.JsonTypes"},$beans:{AppCfg:{$type:"json:Object",$description:"",$restricted:!1,$properties:{customization:{$type:"CustomizationCfg",$description:"",$default:{}}}},CustomizationCfg:{$type:"json:Object",$description:"",$properties:{descriptor:{$type:"json:MultiTypes",$description:"",$default:"",$contentTypes:[{$type:"json:ObjectRef",$description:""},{$type:"json:String",$description:""}]}}
},DescriptorCfg:{$type:"json:Object",$description:"",$properties:{templates:{$type:"json:Map",$description:"",$default:{},$keyType:{$type:"json:PackageName",$description:""},$contentType:{$type:"json:PackageName",$description:""}},modules:{$type:"json:Map",$default:{},$description:"",$keyType:{$type:"json:PackageName",$description:""},$contentType:{$type:"json:Array",$description:"",$contentType:{$type:"CustomModuleCfg"}}},flows:{$type:"json:Map",$description:"",$default:{},$keyType:{$type:"json:PackageName"
,$description:""},$contentType:{$type:"json:PackageName",$description:""}}}},CustomModuleCfg:{$type:"json:MultiTypes",$description:"",$contentTypes:[{$type:"json:String",$description:""},{$type:"json:Object",$description:"",$properties:{classpath:{$type:"json:PackageName",$description:""},refpath:{$type:"json:String",$regExp:/^custom:/,$description:""},initArgs:{$type:"json:ObjectRef",$description:""}}}]}}});
//*******************
//LOGICAL-PATH:aria/html/beans/CheckBoxCfg.js
//*******************
Aria.beanDefinitions({$package:"aria.html.beans.CheckBoxCfg",$description:"",$namespaces:{base:"aria.html.beans.ElementCfg",common:"aria.widgetLibs.CommonBeans"},$beans:{Properties:{$type:"base:Properties",$description:"",$properties:{bind:{$type:"base:Properties.$properties.bind",$properties:{checked:{$type:"common:BindingRef",$description:""}}}}}}});
//*******************
//LOGICAL-PATH:aria/html/beans/ElementCfg.js
//*******************
Aria.beanDefinitions({$package:"aria.html.beans.ElementCfg",$description:"",$namespaces:{json:"aria.core.JsonTypes",html:"aria.templates.CfgBeans"},$beans:{Properties:{$type:"json:Object",$description:"",$properties:{id:{$type:"json:String",$description:"",$mandatory:!1},tagName:{$type:"json:String",$description:"",$sample:"div",$mandatory:!0},attributes:{$type:"html:HtmlAttribute",$default:{}},bind:{$type:"json:Object",$description:"",$default:{},$restricted:!1},on:{$type:"json:Object",$description:"",$default
:{},$restricted:!1}},$restricted:!1}}});
//*******************
//LOGICAL-PATH:aria/html/CheckBox.js
//*******************
(function(){function e(e){var t=this._bindingListeners.checked,n=this._transform(t.transform,e.target.getProperty("checked"),"fromWidget");aria.utils.Json.setValue(t.inside,t.to,n,t.cb)}Aria.classDefinition({$classpath:"aria.html.CheckBox",$extends:"aria.html.Element",$dependencies:["aria.html.beans.CheckBoxCfg"],$statics:{INVALID_USAGE:"Widget %1 can only be used as a %2."},$constructor:function(t,n,r){this.$cfgBean="aria.html.beans.CheckBoxCfg.Properties",t.tagName="input",t.attributes=t.attributes||{},t.attributes
.type="checkbox",t.on=t.on||{},this._chainListener(t.on,"click",{fn:e,scope:this}),this.$Element.constructor.call(this,t,n,r)},$prototype:{writeMarkupBegin:function(e){this.$logError(this.INVALID_USAGE,[this.$class,"container"])},writeMarkupEnd:Aria.empty,initWidget:function(){this.$Element.initWidget.call(this);var e=this._cfg.bind;if(e.checked){var t=this._transform(e.checked.transform,e.checked.inside[e.checked.to],"toWidget");t!=null&&(this._domElt.checked=t)}},onbind:function(e,t,n){e==="checked"&&(this
._domElt.checked=t)}}})})();
//*******************
//LOGICAL-PATH:aria/html/Element.js
//*******************
(function(){function e(e){e.writeMarkup=Aria.empty,e.writeMarkupBegin=Aria.empty,e.writeMarkupEnd=Aria.empty,e.initWidget=Aria.empty}Aria.classDefinition({$classpath:"aria.html.Element",$extends:"aria.widgetLibs.BindableWidget",$dependencies:["aria.html.beans.ElementCfg","aria.core.JsonValidator","aria.utils.Html","aria.utils.Json","aria.utils.Delegate","aria.templates.DomEventWrapper","aria.utils.Dom","aria.utils.Type"],$constructor:function(t,n,r){this.$cfgBean=this.$cfgBean||"aria.html.beans.ElementCfg.Properties"
;var i=aria.core.JsonValidator.normalize({json:t,beanName:this.$cfgBean});this.$BindableWidget.constructor.apply(this,arguments);if(!i)return e(this);var s=t.id;this._id=s?this._context.$getId(s):this._createDynamicId(),this._domElt=null,this.__delegateId=null,this._registerBindings(),this._normalizeCallbacks()},$destructor:function(){this.__delegateId&&(aria.utils.Delegate.remove(this.__delegateId),this.__delegateId=null),this.$BindableWidget.$destructor.call(this),this._domElt=null},$prototype:{_normalizeCallbacks
:function(){var e=this._cfg.on,t=!1,n;for(var r in e)if(e.hasOwnProperty(r)){t=!0,n=e[r],aria.utils.Type.isArray(n)||(n=[n]);for(var i=0,s=n.length;i<s;i++)n[i]=this.$normCallback.call(this._context._tpl,n[i]);e[r]=n}if(t){var o=aria.utils.Delegate;this.__delegateId=o.add({fn:this._delegate,scope:this})}},_delegate:function(e){var t=e.type,n=this._cfg.on[t],r,i;if(n){var s=new aria.templates.DomEventWrapper(e);for(var o=0,u=n.length;o<u;o++){r=n[o],i=r.fn.call(r.scope,s,r.args);if(i===!1)break}return s.$dispose
(),i}},writeMarkup:function(e){this._openTag(e),e.write("/>")},writeMarkupBegin:function(e){this._openTag(e),e.write(">")},writeMarkupEnd:function(e){e.write("</"+this._cfg.tagName+">")},onbind:Aria.empty,initWidget:function(){this._domElt=aria.utils.Dom.getElementById(this._id)},_openTag:function(e){var t=this._cfg,n=aria.utils.Html.buildAttributeList(t.attributes),r=["<",t.tagName," id='",this._id,"' "];n&&r.push(n," "),this.__delegateId&&r.push(aria.utils.Delegate.getMarkup(this.__delegateId)," "),e.write
(r.join(""))},_notifyDataChange:function(e,t){this.onbind(t,this._transform(this._cfg.bind[t].transform,e.newValue,"toWidget"),e.oldValue)},_chainListener:function(e,t,n,r){var i=e[t]||[];aria.utils.Type.isArray(i)||(i=[i]),r?i.push(n):i.splice(0,0,n),e[t]=i}}})})();
//*******************
//LOGICAL-PATH:aria/html/HtmlLibrary.js
//*******************
Aria.classDefinition({$classpath:"aria.html.HtmlLibrary",$extends:"aria.widgetLibs.WidgetLib",$singleton:!0,$prototype:{widgets:{TextInput:"aria.html.TextInput",Template:"aria.html.Template",CheckBox:"aria.html.CheckBox"}}});
//*******************
//LOGICAL-PATH:aria/modules/requestHandler/environment/RequestHandler.js
//*******************
Aria.classDefinition({$classpath:"aria.modules.requestHandler.environment.RequestHandler",$dependencies:["aria.modules.requestHandler.environment.RequestHandlerCfgBeans"],$singleton:!0,$extends:"aria.core.environment.EnvironmentBase",$prototype:{_cfgPackage:"aria.modules.requestHandler.environment.RequestHandlerCfgBeans.AppCfg",getRequestHandlerCfg:function(){return aria.utils.Json.copy(this.checkApplicationSettings("requestHandler"))},getRequestJsonSerializerCfg:function(){return this.checkApplicationSettings
("requestJsonSerializer")}}});
//*******************
//LOGICAL-PATH:aria/modules/requestHandler/environment/RequestHandlerCfgBeans.js
//*******************
Aria.beanDefinitions({$package:"aria.modules.requestHandler.environment.RequestHandlerCfgBeans",$description:"",$namespaces:{json:"aria.core.JsonTypes"},$beans:{AppCfg:{$type:"json:Object",$description:"",$restricted:!1,$properties:{requestHandler:{$type:"RequestHandlerCfg",$description:"",$default:{implementation:"aria.modules.requestHandler.JSONRequestHandler"}},requestJsonSerializer:{$type:"RequestJsonSerializerCfg",$description:"",$default:{options:{encodeParameters:!0,keepMetadata:!1}}}}},RequestHandlerCfg
:{$type:"json:Object",$description:"",$properties:{implementation:{$type:"json:PackageName",$description:"",$default:null},args:{$type:"json:ObjectRef",$description:""}}},RequestJsonSerializerCfg:{$type:"json:Object",$description:"",$properties:{instance:{$type:"json:ObjectRef",$description:""},options:{$type:"json:Map",$description:"",$contentType:{$type:"json:MultiTypes",$description:""},$default:null}}}}});
//*******************
//LOGICAL-PATH:aria/modules/queuing/SimpleSessionQueuing.js
//*******************
Aria.classDefinition({$classpath:"aria.modules.queuing.SimpleSessionQueuing",$constructor:function(){this._idSessionMap={},this._sessionQueues={}},$statics:{NO_SESSION_ID_KEY:"1"},$destructor:function(){this._idSessionMap=null;for(var e in this._sessionQueues)this._sessionQueues.hasOwnProperty(e)&&delete this._sessionQueues[e];this._sessionQueues=null},$prototype:{pushRequest:function(e,t,n){var r,i=e.session.id;i||(i=this.NO_SESSION_ID_KEY),this._sessionQueues[i]||(this._sessionQueues[i]=[]),r=this._sessionQueues
[i],e.actionQueuing=this;if(r.length>0)return r.push({requestObject:e,jsonData:t,cb:n}),aria.modules.RequestMgr.QUEUE_STATUS;var s=this._sendRequest(e,t,n);return s===aria.modules.RequestMgr.ERROR_STATUS?s:(this._idSessionMap[s]=i,r.push(s),aria.modules.RequestMgr.EXECUTE_STATUS)},handleNextRequest:function(e){if(!this._idSessionMap)return;var t=this._idSessionMap[e],n,r;if(t){delete this._idSessionMap[e];var i=this._sessionQueues[t];this.$assert(99,i&&i.length>0),this.$assert(100,i[0]===e),i.splice(0,1);while(
i.length>0){n=i[0],r=this._sendRequest(n.requestObject,n.jsonData,n.cb);if(r!==aria.modules.RequestMgr.ERROR_STATUS){this._idSessionMap[r]=t,i[0]=r;return}i.splice(0,1)}}},_sendRequest:function(e,t,n){return aria.modules.RequestMgr.sendJsonRequest(e,t,n)}}});
//*******************
//LOGICAL-PATH:aria/modules/urlService/environment/UrlService.js
//*******************
Aria.classDefinition({$classpath:"aria.modules.urlService.environment.UrlService",$dependencies:["aria.modules.urlService.environment.UrlServiceCfgBeans"],$extends:"aria.core.environment.EnvironmentBase",$singleton:!0,$prototype:{_cfgPackage:"aria.modules.urlService.environment.UrlServiceCfgBeans.AppCfg",getUrlServiceCfg:function(){return aria.utils.Json.copy(this.checkApplicationSettings("urlService"))}}});
//*******************
//LOGICAL-PATH:aria/modules/urlService/environment/UrlServiceCfgBeans.js
//*******************
Aria.beanDefinitions({$package:"aria.modules.urlService.environment.UrlServiceCfgBeans",$description:"",$namespaces:{json:"aria.core.JsonTypes"},$beans:{AppCfg:{$type:"json:Object",$description:"",$restricted:!1,$properties:{urlService:{$type:"UrlServiceCfg",$description:"",$default:{implementation:"aria.modules.urlService.PatternURLCreationImpl",args:["${moduleName}/${actionName}","${moduleName}"]}}}},UrlServiceCfg:{$type:"json:Object",$description:"",$properties:{implementation:{$type:"json:PackageName",$description
:"",$default:null},args:{$type:"json:Array",$description:"",$default:[],$contentType:{$type:"json:String",$description:""}}}}}});
//*******************
//LOGICAL-PATH:aria/modules/RequestBeans.js
//*******************
Aria.beanDefinitions({$package:"aria.modules.RequestBeans",$description:"",$namespaces:{json:"aria.core.JsonTypes",env:"aria.modules.requestHandler.environment.RequestHandlerCfgBeans"},$beans:{RequestObject:{$type:"json:Object",$description:"",$restricted:!1,$properties:{moduleName:{$type:"json:String",$description:"",$mandatory:!0},actionName:{$type:"json:String",$description:"",$mandatory:!1},serviceSpec:{$type:"json:ObjectRef",$description:"",$mandatory:!1},session:{$type:"json:ObjectRef",$description:""}
,actionQueuing:{$type:"json:ObjectRef",$description:""},requestHandler:{$type:"json:ObjectRef",$description:""},urlService:{$type:"json:ObjectRef",$description:""},requestJsonSerializer:{$type:"env:RequestJsonSerializerCfg",$description:""},postHeader:{$type:"json:String",$description:""}}},RequestDetails:{$type:"json:Object",$description:"",$restricted:!1,$properties:{url:{$type:"json:String",$description:"",$mandatory:!0},method:{$type:"json:String",$description:""}}},SuccessResponse:{$type:"json:Object",$description
:"",$properties:{responseText:{$type:"json:String",$description:""},responseXML:{$type:"json:ObjectRef",$description:""},responseJSON:{$type:"json:ObjectRef",$description:""}}},FailureResponse:{$type:"json:Object",$description:"",$properties:{status:{$type:"json:Integer",$description:"",$mandatory:!0},error:{$type:"json:String",$description:""},responseText:{$type:"json:String",$description:""},responseXML:{$type:"json:ObjectRef",$description:""},responseJSON:{$type:"json:ObjectRef",$description:""}}},Request
:{$type:"json:Object",$description:"",$properties:{url:{$type:"json:String",$description:""},session:{$type:"json:ObjectRef",$description:""},requestObject:{$type:"RequestObject",$description:""}}},ProcessedResponse:{$type:"json:Object",$description:"",$restricted:!1,$properties:{response:{$type:"json:ObjectRef",$description:""},error:{$type:"json:Boolean",$description:""},errorData:{$type:"json:ObjectRef",$description:""}}}}});
//*******************
//LOGICAL-PATH:aria/modules/RequestMgr.js
//*******************
Aria.classDefinition({$classpath:"aria.modules.RequestMgr",$dependencies:["aria.modules.queuing.SimpleSessionQueuing","aria.modules.RequestBeans","aria.modules.urlService.environment.UrlService","aria.modules.requestHandler.environment.RequestHandler","aria.utils.Type"],$singleton:!0,$events:{error:{description:"",properties:{requestUrl:"URL for the request (the URL may have already been modified by some other request filters).",requestObject:"Request Object given to submitJsonRequest",httpError:"null if it is not an http error (i.e. a server side exception), otherwise contains information about http error, e.g.: { status: 404, error: 'Not found'}"
,errorData:"error structure to be displayed (if it's an HTTP error, it is filled by the framework client-side, or, if the error was server-side, it is the error messageBean returned in the <errors> tag)"}}},$constructor:function(){this.session={paramName:"jsessionid",id:""},this._params=null,this.defaultActionQueuing=new aria.modules.queuing.SimpleSessionQueuing,this._idCounter=1,this._urlService=null,this._requestHandler=null,aria.core.AppEnvironment.$on({changingEnvironment:{fn:this.__environmentUpdated,scope
:this},environmentChanged:{fn:this.__environmentUpdated,scope:this}})},$destructor:function(){this._params=null,this._urlService&&(this._urlService.$dispose(),this._urlService=null),this._requestHandler&&(this._requestHandler.$dispose(),this._requestHandler=null),this.defaultActionQueuing&&(this.defaultActionQueuing.$dispose(),this.defaultActionQueuing=null)},$statics:{ERROR_STATUS:-1,EXECUTE_STATUS:0,QUEUE_STATUS:1,DISCARD_STATUS:2,INVALID_REQUEST_OBJECT:"Provided request object does not match aria.modules.RequestBeans.RequestObject."
,FILTER_CREATION_ERROR:"An error occured while creating a Request filter:\nclass: %1",INVALID_BASEURL:"The base URL defined in the RequestMgr object is empty or invalid - please check: \nurl: %1",MISSING_SERVICESPEC:"Provided request object must contain an actionName or a serviceSpec element",CALLBACK_ERROR:"An error occured in the Request manager while processing the callback function.",INVALID_URL:"Url for request is invalid: %1"},$prototype:{addParam:function(e,t){if(t==null)return this.removeParam(e);this
._params==null&&(this._params=[]);for(var n=0,r=this._params.length;n<r;n++){var i=this._params[n];if(i.name===e){i.value=encodeURIComponent(t);return}}this._params.push({name:e,value:encodeURIComponent(t)})},getParam:function(e){if(e==null||this._params==null)return null;for(var t=0,n=this._params.length;t<n;t++){var r=this._params[t];if(r.name===e)return r.value}return null},removeParam:function(e){e==null&&(this._params=null);if(this._params==null)return;for(var t=0,n=this._params.length;t<n;t++){var r=this
._params[t];r.name===e&&(this._params.splice(t,1),n--)}},submitJsonRequest:function(e,t,n){try{aria.core.JsonValidator.normalize({json:e,beanName:"aria.modules.RequestBeans.RequestObject"},!0)}catch(r){return this.$logError(this.INVALID_REQUEST_OBJECT,null,e),this.DISCARD_STATUS}return e.actionQueuing||(e.actionQueuing=this.defaultActionQueuing),e.session||(e.session=this.session),e.requestHandler||(e.requestHandler=this._requestHandler),e.actionQueuing.pushRequest(e,t,n)},__getHandlersDependencies:function(
){var e=[],t=aria.modules.urlService.environment.UrlService;if(!this._urlService){var n=t.getUrlServiceCfg();e.push(n.implementation)}if(!this._requestHandler){var r=aria.modules.requestHandler.environment.RequestHandler.getRequestHandlerCfg();e.push(r.implementation)}return e},sendJsonRequest:function(e,t,n){var r={requestObject:e,jsonData:t,data:null,method:"POST"},i=this._idCounter++,s=this.__getHandlersDependencies(),o={req:r,cb:n,id:i,session:e.session,actionQueuing:e.actionQueuing,requestHandler:e.requestHandler
};return Aria.load({classes:s,oncomplete:{fn:this._onDependenciesReady,scope:this,args:o}}),i},_onDependenciesReady:function(e){var t=e.req,n=this.createRequestDetails(t.requestObject,e.session);if(!n||n.url==="")return this.$logError(this.INVALID_URL,[""]);t.url=n.url,n.method&&(t.method=n.method),this._callAsyncRequest(e)},_callAsyncRequest:function(e){var t=e.req,n=e.requestHandler;n==null&&(n=this.__getRequestHandler()),t.data=t.data==null&&t.method=="POST"?n.prepareRequestBody(t.jsonData,t.requestObject
):t.data;var r={classpath:this.$classpath,requestObject:t.requestObject,requestData:t.jsonData,responseData:null,responseErrorData:null},i={sender:r,url:t.url,method:t.method,postData:t.data,callback:{fn:this._onresponse,onerror:this._onresponse,scope:this,args:{requestObject:t.requestObject,senderObject:r,cb:e.cb,id:e.id,session:e.session,actionQueuing:e.actionQueuing,requestHandler:n}}};t.postHeader&&(i.postHeader=t.postHeader),n.expectedResponseType&&(i.expectedResponseType=n.expectedResponseType),aria.core
.IO.asyncRequest(i)},_onresponse:function(e,t){var n=t.cb,r=t.requestObject,i=t.actionQueuing,s=t.id,o=t.session,u=t.requestHandler,a=t.senderObject;i&&i.handleNextRequest(s);var f={requestUrl:e.url,requestObject:r,responseXML:e.responseXML,responseText:e.responseText,responseJSON:e.responseJSON,status:e.status,error:e.error,data:a.responseData,errorData:a.responseErrorData};t.res=f,this._processOnResponse(t)},_processOnResponse:function(e){var t=e.cb,n=e.res,r=e.requestHandler;n.error?r.processFailure({error
:n.error,status:n.status,responseXML:n.responseXML,responseText:n.responseText,responseJSON:n.responseJSON},{url:e.res.url,session:e.session,requestObject:e.requestObject},{fn:this._callRequestCallback,scope:this,args:e}):r.processSuccess({responseXML:n.responseXML,responseText:n.responseText,responseJSON:n.responseJSON},{url:n.url,session:e.session,requestObject:e.requestObject},{fn:this._callRequestCallback,scope:this,args:e})},_callRequestCallback:function(e,t){var n=t.res;n.errorData&&(e.error=!0),n.data&&
(e.data=n.data),n.errorData&&(e.errorData=n.errorData);if(e.error){var r={name:"error",requestUrl:n.requestUrl,requestObject:t.requestObject,errorData:e.errorData};n.error&&(r.httpError={error:n.error,status:n.status}),this.$raiseEvent(r)}this.$callback(t.cb,e,this.CALLBACK_ERROR)},createRequestDetails:function(e,t){var n=aria.utils.Type,r=e.urlService;r||(r=this.__getUrlService()),this.$assert(434,r!=null),t||(t=this.session);var i=e.moduleName.replace(/\./g,"/"),s;if(n.isString(e.actionName)){var o=this.__extractActionName
(e.actionName);s=r.createActionUrl(i,o.name,t.id)}else{if(!e.serviceSpec)return this.$logError(this.MISSING_SERVICESPEC,[s]),null;s=r.createServiceUrl(i,e.serviceSpec,t.id)}return!s||n.isObject(s)&&!s.url?(this.$logError(this.INVALID_BASEURL,[s]),null):(n.isString(s)&&(s={url:s}),s.method||(s.method="POST"),e.actionName&&(s.url=this.__appendActionParameters(s.url,o.params)),s.url=this.__appendGlobalParams(s.url,this._params),s)},createI18nUrl:function(e,t,n){var r=aria.modules.urlService.environment.UrlService
.getUrlServiceCfg();Aria.load({classes:[r.implementation],oncomplete:{fn:this.__onI18nReady,scope:this,args:{moduleName:e,locale:t,callback:n}}})},__onI18nReady:function(e){var t=this.__getUrlService();this.$assert(595,t!=null);var n=t.createI18nUrl(e.moduleName,this.session.id,e.locale);n=this.__appendGlobalParams(n,this._params),e.callback.args=e.callback.args||{},e.callback.args.full=n,this.$callback(e.callback)},__appendGlobalParams:function(e,t){if(!t||t.length===0)return e;var n=[];for(var r=0,i=t.length
;r<i;r+=1){var s=t[r];n.push(s.name+"="+s.value)}var o="&",u=n.join(o);return this.__appendActionParameters(e,u)},__appendActionParameters:function(e,t){e=e||"";if(!t)return e;var n=e.indexOf("?"),r="&";return n>-1?e+=r:e+="?",e+t},__extractActionName:function(e){e=e||"";var t=e.indexOf("?"),n={name:"",params:""};return t<0?n.name=e:n={name:e.substring(0,t),params:e.substring(t+1)},n},__getUrlService:function(){if(!this._urlService){var e=aria.modules.urlService.environment.UrlService.getUrlServiceCfg(),t=e.
args[0],n=e.args[1],r=Aria.getClassRef(e.implementation);this._urlService=new r(t,n)}return this._urlService},__getRequestHandler:function(){if(!this._requestHandler){var e=aria.modules.requestHandler.environment.RequestHandler.getRequestHandlerCfg();this._requestHandler=Aria.getClassInstance(e.implementation,e.args)}return this._requestHandler},__environmentUpdated:function(e){if(e.name=="environmentChanged"){this._urlService&&(this._urlService.$dispose(),this._urlService=null),this._requestHandler&&(this._requestHandler
.$dispose(),this._requestHandler=null);return}}}});
//*******************
//LOGICAL-PATH:aria/storage/AbstractStorage.js
//*******************
Aria.classDefinition({$classpath:"aria.storage.AbstractStorage",$dependencies:["aria.storage.EventBus","aria.utils.json.JsonSerializer","aria.utils.Type"],$implements:["aria.storage.IStorage"],$statics:{INVALID_SERIALIZER:"Invalid serializer configuration. Make sure it implements aria.utils.json.ISerializer",INVALID_NAMESPACE:"Inavlid namespace configuration. Must be a string.",EVENT_KEYS:["name","key","oldValue","newValue","url"]},$constructor:function(e){this._disposeSerializer=!1,this._eventCallback={fn:this
._onStorageEvent,scope:this},aria.storage.EventBus.$on({change:this._eventCallback});var t=e?e.serializer:null,n=!0;t&&("serialize"in t&&"parse"in t?n=!1:this.$logError(this.INVALID_SERIALIZER)),n&&(t=new aria.utils.json.JsonSerializer(!0),this._disposeSerializer=!0),this.serializer=t;var r="";e&&e.namespace&&(aria.utils.Type.isString(e.namespace)?r=e.namespace+"$":this.$logError(this.INVALID_NAMESPACE)),this.namespace=r},$destructor:function(){aria.storage.EventBus.$removeListeners({change:this._eventCallback
}),this._disposeSerializer&&this.serializer&&this.serializer.$dispose(),this.serializer=null,this._eventCallback=null},$prototype:{getItem:function(e){var t=this._get(this.namespace+e);return this.serializer.parse(t)},setItem:function(e,t){var n=this.getItem(e),r=this.serializer.serialize(t,{reversible:!0,keepMetadata:!1});aria.storage.EventBus.stop=!0,this._set(this.namespace+e,r),aria.storage.EventBus.stop=!1,t=this.serializer.parse(r),aria.storage.EventBus.notifyChange(this.type,e,t,n,this.namespace)},removeItem
:function(e){var t=this.getItem(e);t!==null&&(aria.storage.EventBus.stop=!0,this._remove(this.namespace+e),aria.storage.EventBus.stop=!1,aria.storage.EventBus.notifyChange(this.type,e,null,t,this.namespace))},clear:function(){aria.storage.EventBus.stop=!0,this._clear(),aria.storage.EventBus.stop=!1,aria.storage.EventBus.notifyChange(this.type,null,null,null)},_onStorageEvent:function(e){if(e.key===null||e.namespace===this.namespace){var t=aria.utils.Json.copy(e,!1,this.EVENT_KEYS);this.$raiseEvent(t)}}}});
//*******************
//LOGICAL-PATH:aria/storage/EventBus.js
//*******************
Aria.classDefinition({$classpath:"aria.storage.EventBus",$singleton:!0,$events:{change:"Raised when a change happens in any of the linked instances"},$prototype:{stop:!1,notifyChange:function(e,t,n,r,i){this.$raiseEvent({name:"change",location:e,namespace:i,key:t,newValue:n,oldValue:r,url:Aria.$window.location})}}});
//*******************
//LOGICAL-PATH:aria/storage/HTML5Storage.js
//*******************
Aria.classDefinition({$classpath:"aria.storage.HTML5Storage",$dependencies:["aria.utils.Event"],$extends:"aria.storage.AbstractStorage",$statics:{UNAVAILABLE:"%1 not supported by the browser."},$constructor:function(e,t,n){this.$AbstractStorage.constructor.call(this,e),this.type=t,this.storage=Aria.$window[t],this._browserEventCb={fn:this._browserEvent,scope:this};if(this.storage)aria.utils.Event.addListener(Aria.$window,"storage",this._browserEventCb);else if(n!==!1)throw this._disposeSerializer&&this.serializer&&
this.serializer.$dispose(),this.$logError(this.UNAVAILABLE,[this.type]),new Error(this.type)},$destructor:function(){aria.utils.Event.removeListener(Aria.$window,"storage",this._browserEventCb),this._browserEventCb=null,this.__target=null,this.$AbstractStorage.$destructor.call(this)},$prototype:{_get:function(e){return this.storage.getItem(e)},_set:function(e,t){this.storage.setItem(e,t)},_remove:function(e){this.storage.removeItem(e)},_clear:function(){this.storage.clear()},_browserEvent:function(e){if(aria
.storage.EventBus.stop)return;var t=this.namespace?e.key.substring(0,this.namespace.length)===this.namespace:!0;if(t){var n=e.oldValue,r=e.newValue;n&&(n=this.serializer.parse(n)),r&&(r=this.serializer.parse(r)),this._onStorageEvent({name:"change",key:e.key,oldValue:n,newValue:r,url:e.url,namespace:this.namespace})}},$on:function(e){aria.core.Browser.isIE8&&this.$logWarn(this.UNAVAILABLE,"change event"),this.$AbstractStorage.$on.call(this,e)}}});
//*******************
//LOGICAL-PATH:aria/storage/IStorage.js
//*******************
Aria.interfaceDefinition({$classpath:"aria.storage.IStorage",$events:{change:{description:"",properties:{key:"Name of the key that changed",oldValue:"Old value of the key in question, null if the key is newly added",newValue:"New value being set",url:"Address of the document whose storage object was affected"}}},$interface:{getItem:function(e){},setItem:function(e,t){},removeItem:function(e){},clear:function(){}}});
//*******************
//LOGICAL-PATH:aria/storage/LocalStorage.js
//*******************
(function(){function e(e,t){e._get=t._get,e._set=t._set,e._remove=t._remove,e._clear=t._clear,e.storage=aria.storage.UserData._STORAGE,e.__keys=aria.storage.UserData._ALL_KEYS}Aria.classDefinition({$classpath:"aria.storage.LocalStorage",$extends:"aria.storage.HTML5Storage",$dependencies:["aria.core.Browser","aria.storage.UserData"],$constructor:function(t){var n=aria.core.Browser.isIE7;this.$HTML5Storage.constructor.call(this,t,"localStorage",!n);if(!this.storage&&n){var r=new aria.storage.UserData(t);e(this
,r),this._fallback=r}},$destructor:function(){this._fallback&&(this._fallback.$dispose(),this._fallback=null),this.$HTML5Storage.$destructor.call(this)}})})();
//*******************
//LOGICAL-PATH:aria/storage/UserData.js
//*******************
(function(){function i(){t||(t=new aria.utils.json.JsonSerializer(!0));var n=e.getAttribute("kMap");return n?t.parse(n):{}}function s(r,i){r?n[i]=r:delete n[i],e.setAttribute("kMap",t.serialize(n)),e.save("JSONPersist")}function o(e,t){n=i();if(!t||e in n)return n[e];var o="uD"+r++;return s(o,e),o}var e,t,n={},r=4;Aria.classDefinition({$classpath:"aria.storage.UserData",$dependencies:["aria.utils.Object","aria.utils.Dom","aria.utils.json.JsonSerializer","aria.core.Browser"],$implements:["aria.storage.IStorage"
],$extends:"aria.storage.AbstractStorage",$onload:function(){if(aria.core.Browser.isIE)try{var t=Aria.$frameworkWindow.document.createElement("form");t.innerHTML="<input type='hidden' id='__aria_storage_UserData__' style='behavior:url(#default#userData)'>",Aria.$frameworkWindow.document.body.appendChild(t),e=t.firstChild,e.load("JSONPersist"),i()}catch(n){}},$onunload:function(){aria.core.Browser.isIE&&(e&&e.parentNode.removeChild(e),e=null),t&&t.$dispose(),t=null},$prototype:{_get:function(t){var n=o(t);return n?
e.getAttribute(n):null},_set:function(t,n){var r=o(t,!0);e.setAttribute(r,n),e.save("JSONPersist")},_remove:function(t){e.removeAttribute(o(t)),s(null,t),e.save("JSONPersist")},_clear:function(){var t=i();n={},e.removeAttribute("kMap");for(var r in t)t.hasOwnProperty(r)&&e.removeAttribute(t[r]);e.save("JSONPersist")}}})})();
//*******************
//LOGICAL-PATH:aria/templates/BaseCtxt.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.BaseCtxt",$singleton:!1,$constructor:function(){this._cfg=null,this._out=null,this._tpl=null,this._macrolibs=[],this._csslibs=[]},$destructor:function(){if(!this._macrolibs&&!this._csslibs)return;this.__disposeLibs(this._macrolibs),this.__disposeLibs(this._csslibs),this._macrolibs=null,this._csslibs=null},$statics:{TEMPLATE_CONSTR_ERROR:"Error while creating a new instance of template '%1' - please check script constructor.",TEMPLATE_DESTR_ERROR:"Error while destroying an instance of template '%1' - please check script destructor."
,MACRO_NOT_FOUND:"Missing macro '%1' in template '%2'.",MACRO_CALL_ERROR:"Error while calling macro '%1' in template '%2'.",LIBRARY_HANDLE_CONFLICT:"Template error: can't load shared macro library '%1'. A macro, text template, variable or another library has already been declared with the same name.",LIBRARY_ALREADY_LOADED:"Template error: library at classpath '%1' has already been loaded."},$prototype:{checkMacro:function(e){return e==null?this._cfg.macro:(typeof e=="string"?e={name:e,args:[],scope:this._tpl
}:(e.args==null&&(e.args=[]),e.scope==null&&(e.scope=this._tpl)),e)},_callMacro:function(e,t){this.$assert(62,this._out!=null),t=this.checkMacro(t);var n=t.scope,r=n["macro_"+t.name];r==null&&this.$logError(this.MACRO_NOT_FOUND,[t.name,n.$classpath]);try{r.apply(n,t.args)}catch(i){this.$logError(this.MACRO_CALL_ERROR,[t.name,n.$classpath],i)}},__loadLibs:function(e,t){this.$assert(134,t=="macrolibs"||t=="csslibs");if(t=="macrolibs")var n=this._macrolibs,r="__$macrolibs",i=aria.templates.TemplateCtxt,s=aria.templates
.ITemplate;else if(t=="csslibs")var n=this._csslibs,r="__$csslibs",i=aria.templates.CSSCtxt,s=aria.templates.ICSS;var o={},u=0;for(var a in e)if(e.hasOwnProperty(a)){if(this._tpl[a]!==undefined){delete e[a],this.$logError(this.LIBRARY_HANDLE_CONFLICT,[a]);continue}if(o[e[a]]){this.$logError(this.LIBRARY_ALREADY_LOADED,[a]);continue}o[e[a]]=!0,u++}if(u===0)return;for(var a in e)if(e.hasOwnProperty(a)){this._tpl[a]=Aria.getClassInstance(e[a]),this._tpl[a].__$write=this._tpl.__$write;var f=new i;f._tpl=this._tpl
[a],n.push(f),s.call(this._tpl[a],f),f._tpl.__$initTemplate(),f.__loadLibs(f._tpl[r],t)}},__disposeLibs:function(e){for(var t=0;t<e.length;t++){var n=e[t];aria.templates.ITemplate.prototype.$destructor.call(n._tpl),n.$dispose()}}}});
//*******************
//LOGICAL-PATH:aria/templates/BaseTemplate.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.BaseTemplate",$dependencies:["aria.templates.Modifiers","aria.templates.IBaseTemplate","aria.utils.Json"],$destructor:function(){},$statics:{EXCEPTION_IN_MACRO:"Uncaught exception in macro '%1', line %2",EXCEPTION_IN_VARINIT:"Uncaught exception when initializing global variables in template '%0'.",ITERABLE_UNDEFINED:"line %2: Template error: cannot iterate over a null or undefined variable.",EXCEPTION_IN_EXPRESSION:"line %2: Uncaught runtime exception in expression '%1'"
,EXCEPTION_IN_VAR_EXPRESSION:"line %2: Uncaught runtime exception in var expression '%1'",EXCEPTION_IN_SET_EXPRESSION:"line %2: Uncaught runtime exception in set expression '%1'",EXCEPTION_IN_CHECKDEFAULT_EXPRESSION:"line %2: Uncaught runtime exception in checkdefault expression '%1'",MACRO_NOT_FOUND:"line %1: Template error: macro '%2' is not defined."},$prototype:{$json:aria.utils.Json,$init:function(e,t){var n=aria.templates.IBaseTemplate.prototype;for(var r in n)n.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&
(e[r]=n[r]);e.$modifier=aria.templates.Modifiers.callModifier}}});
//*******************
//LOGICAL-PATH:aria/templates/CfgBeans.js
//*******************
Aria.beanDefinitions({$package:"aria.templates.CfgBeans",$description:"",$namespaces:{json:"aria.core.JsonTypes",coreBeans:"aria.core.CfgBeans",common:"aria.widgetLibs.CommonBeans"},$beans:{BaseTemplateCfg:{$type:"json:Object",$description:"",$properties:{$classpath:{$type:"json:PackageName",$description:"",$mandatory:!0},$dependencies:{$type:"json:Array",$description:"",$default:[],$contentType:{$type:"json:PackageName",$description:""}},$hasScript:{$type:"json:Boolean",$description:"",$default:!1},$extends
:{$type:"json:PackageName",$description:""},$texts:{$type:"json:Map",$description:"",$contentType:{$type:"json:PackageName",$description:"",$mandatory:!0}}}},TemplateCfg:{$type:"BaseTemplateCfg",$description:"",$mandatory:!0,$properties:{$width:{$type:"ContainerSizeCfg",$description:"",$default:null},$height:{$type:"ContainerSizeCfg",$description:"",$default:null},$wlibs:{$type:"json:Map",$description:"",$contentType:{$type:"json:PackageName",$description:"",$sample:"aria.widgets.AriaLib",$mandatory:!0},$default
:{}},$res:{$type:"json:Map",$description:"",$contentType:{$type:"json:MultiTypes",$description:"",$sample:"aria.widgets.WidgetsRes"}},$templates:{$type:"json:Array",$description:"",$contentType:{$type:"json:PackageName",$description:""}},$css:{$type:"json:Array",$description:"",$contentType:{$type:"json:PackageName",$description:""}},$macrolibs:{$type:"json:Map",$description:"",$contentType:{$type:"json:PackageName",$description:"",$mandatory:!0}}}},LibraryCfg:{$type:"BaseTemplateCfg",$description:"",$mandatory
:!0,$properties:{$wlibs:{$type:"json:Map",$description:"",$contentType:{$type:"json:PackageName",$description:"",$sample:"aria.widgets.AriaLib",$mandatory:!0},$default:{}},$templates:{$type:"json:Array",$description:"",$default:[],$contentType:{$type:"json:PackageName",$description:""}},$macrolibs:{$type:"json:Map",$description:"",$contentType:{$type:"json:PackageName",$description:"",$mandatory:!0}},$res:{$type:"json:Map",$description:"",$contentType:{$type:"json:PackageName",$description:"",$sample:"aria.widgets.WidgetsRes"
}}}},CSSTemplateCfg:{$type:"BaseTemplateCfg",$description:"",$properties:{$csslibs:{$type:"json:Map",$description:"",$contentType:{$type:"json:PackageName",$description:"",$mandatory:!0}},$prefix:{$type:"json:Boolean",$description:""}}},CSSLibraryCfg:{$type:"BaseTemplateCfg",$description:"",$mandatory:!0,$properties:{$csslibs:{$type:"json:Map",$description:"",$contentType:{$type:"json:PackageName",$description:"",$mandatory:!0}},$res:{$type:"json:Map",$description:"",$contentType:{$type:"json:PackageName",$description
:"",$sample:"aria.widgets.WidgetsRes"}}}},TextTemplateCfg:{$type:"BaseTemplateCfg",$description:"",$mandatory:!0,$properties:{$res:{$type:"json:Map",$description:"",$contentType:{$type:"json:PackageName",$description:"",$sample:"aria.widgets.WidgetsRes"}}}},ContainerSizeCfg:{$type:"json:Object",$description:"",$properties:{min:{$type:"json:Integer",$description:""},max:{$type:"json:Integer",$description:""},value:{$type:"json:Integer",$description:""},scrollbar:{$type:"json:Boolean",$description:""}},$default
:{}},RootDimCfg:{$type:"json:Object",$description:"",$mandatory:!0,$properties:{width:{$type:"ContainerSizeCfg",$description:""},height:{$type:"ContainerSizeCfg",$description:""}}},ModuleCtrl:{$type:"json:MultiTypes",$description:"",$contentTypes:[{$type:"json:ObjectRef",$description:"",$mandatory:!0},{$type:"InitModuleCtrl"}]},InitModuleCtrl:{$type:"json:Object",$description:"",$mandatory:!0,$properties:{classpath:{$type:"json:PackageName",$description:"",$mandatory:!0},autoDispose:{$type:"json:Boolean",$description
:"",$default:!0},constructorArgs:{$type:"json:ObjectRef",$description:"",$mandatory:!1},initArgs:{$type:"json:ObjectRef",$description:"",$mandatory:!1}}},Div:{$type:"json:MultiTypes",$description:"",$mandatory:!0,$contentTypes:[{$type:"json:ObjectRef",$description:""},{$type:"json:String",$description:""}]},TemplateSizeCfg:{$type:"json:MultiTypes",$description:"",$contentTypes:[{$type:"json:Integer",$description:""},{$type:"RelativeTemplateSizeCfg"}]},RelativeTemplateSizeCfg:{$type:"json:Object",$description
:"",$properties:{min:{$type:"json:Integer",$description:"",$mandatory:!0},incrementFactor:{$type:"json:Float",$description:"",$default:1},max:{$type:"json:Integer",$description:"",$default:null}}},PrintOptions:{$type:"json:Enum",$enumValues:["hidden","visible","adaptX","adaptY","adaptXY"],$description:"",$default:"visible"},BaseLoadTemplateCfg:{$type:"json:Object",$description:"",$properties:{classpath:{$type:"json:PackageName",$description:"",$mandatory:!0},origClasspath:{$type:"json:PackageName",$description
:"",$mandatory:!1},printOptions:{$type:"PrintOptions",$default:"adaptXY"},width:{$type:"TemplateSizeCfg",$description:"",$mandatory:!1},height:{$type:"TemplateSizeCfg",$description:"",$mandatory:!1},data:{$type:"json:ObjectRef",$description:"",$mandatory:!1},moduleCtrl:{$type:"ModuleCtrl",$mandatory:!1},args:{$type:"json:Array",$description:"",$default:[],$contentType:{$type:"json:MultiTypes",$description:""}},rootDim:{$type:"RootDimCfg",$description:"",$mandatory:!1},provideContext:{$type:"json:Boolean",$description
:"",$mandatory:!1,$default:!1},reload:{$type:"json:Boolean",$description:"",$default:!1},reloadByPassCache:{$type:"json:Boolean",$description:"",$default:!1}}},LoadTemplateCfg:{$type:"BaseLoadTemplateCfg",$description:"",$properties:{div:{$type:"Div",$description:"",$mandatory:!0}}},InitTemplateCfg:{$type:"BaseLoadTemplateCfg",$description:"",$properties:{id:{$type:"json:String",$description:"",$mandatory:!1},originalId:{$type:"json:String",$description:"",$mandatory:!1},div:{$type:"Div",$description:"",$mandatory
:!1},tplDiv:{$type:"Div",$description:"",$mandatory:!1},macro:{$type:"MacroCfg"},toDispose:{$type:"json:Array",$description:"",$contentType:{$type:"json:ObjectRef",$description:"",$mandatory:!0}},baseTabIndex:{$type:"json:Integer",$description:"",$default:0},isRootTemplate:{$type:"json:Boolean",$description:"",$default:!1},context:{$type:"json:ObjectRef",$description:"",$mandatory:!1}}},InitCSSTemplateCfg:{$type:"json:Object",$mandatory:!0,$description:"",$properties:{classpath:{$type:"json:PackageName",$description
:"",$mandatory:!0},isWidget:{$type:"json:Boolean",$description:"",$mandatory:!1,$default:!1},widgetName:{$type:"json:String",$description:"",$mandatory:!1,$default:""},isTemplate:{$type:"json:Boolean",$description:"",$mandatory:!1,$default:!1}}},InitTxtTemplateCfg:{$type:"json:Object",$mandatory:!0,$description:"",$properties:{classpath:{$type:"json:PackageName",$description:"",$mandatory:!0},data:{$type:"json:ObjectRef",$description:"",$mandatory:!1}}},MacroCfg:{$type:"json:MultiTypes",$description:"",$contentTypes
:[{$type:"json:String",$description:""},{$type:"json:Object",$description:"",$properties:{name:{$type:"json:String",$description:""},args:{$type:"json:Array",$description:"",$contentType:{$type:"json:MultiTypes",$description:""},$default:[]},scope:{$type:"json:ObjectRef",$description:""}}}]},HtmlAttribute:{$type:"json:Object",$description:"",$properties:{name:{$type:"json:String",$description:""},title:{$type:"json:String",$description:""},classList:{$type:"json:Array",$description:"",$contentType:{$type:"json:String"
,$description:""}},dataset:{$type:"json:ObjectRef",$description:""},style:{$type:"json:String",$description:""},dir:{$type:"json:String",$description:""},lang:{$type:"json:String",$description:""},abbr:{$type:"json:String",$description:""},height:{$type:"json:String",$description:""},width:{$type:"json:String",$description:""},size:{$type:"json:String",$description:""},cols:{$type:"json:String",$description:""},rows:{$type:"json:String",$description:""},rowspan:{$type:"json:String",$description:""},colspan:{
$type:"json:String",$description:""},nowrap:{$type:"json:String",$description:""},valign:{$type:"json:String",$description:""},align:{$type:"json:String",$description:""},border:{$type:"json:String",$description:""},cellpadding:{$type:"json:String",$description:""},cellspacing:{$type:"json:String",$description:""},disabled:{$type:"json:String",$description:""},readonly:{$type:"json:String",$description:""},checked:{$type:"json:String",$description:""},selected:{$type:"json:String",$description:""},multiple:{
$type:"json:String",$description:""},value:{$type:"json:String",$description:""},alt:{$type:"json:String",$description:""},maxlength:{$type:"json:String",$description:""},type:{$type:"json:String",$description:""},accesskey:{$type:"json:String",$description:""},tabindex:{$type:"json:Integer",$description:""},placeholder:{$type:"json:String",$description:""},autocomplete:{$type:"json:String",$description:""},autofocus:{$type:"json:String",$description:""},autocorrect:{$type:"json:String",$description:""},autocapitalize
:{$type:"json:String",$description:""},spellcheck:{$type:"json:String",$description:""}}},SectionCfg:{$type:"json:Object",$description:"",$properties:{id:{$type:"json:String",$description:""},type:{$type:"json:String",$description:"",$default:"span"},bindRefreshTo:{$type:"json:Array",$description:"",$default:[],$contentType:{$type:"BindingConfiguration",$description:"",$sample:"{inside : ..., to : ...}"}},bindProcessingTo:{$type:"BindingConfiguration",$description:"",$mandatory:!1},keyMap:{$type:"json:Array"
,$description:"",$mandatory:!1,$contentType:{$type:"KeyMapCfg",$description:""}},tableNav:{$type:"TableNavConfiguration",$description:"",$mandatory:!1},processingLabel:{$type:"json:String",$description:"",$mandatory:!1,$default:""},macro:{$type:"MacroCfg",$description:""},cssClass:{$type:"json:String",$description:""},attributes:{$type:"HtmlAttribute",$description:""},on:{$type:"json:Object",$description:"",$default:{},$restricted:!1},bind:{$type:"json:Object",$description:"",$properties:{attributes:{$type:"common:BindingRef"
}}}}},RepeaterCfg:{$type:"SectionCfg",$description:"",$mandatory:!0,$properties:{content:{$type:"json:ObjectRef",$description:"",$mandatory:!0},loopType:{$type:"json:Enum",$description:"",$enumValues:["array","pagedView","sortedView","filteredView","view","map"],$mandatory:!1},childSections:{$type:"json:Object",$restricted:!1,$description:"",$properties:{id:{$type:"json:MultiTypes",$description:"",$mandatory:!0},macro:{$type:"json:MultiTypes",$description:"",$mandatory:!0}}},macro:{$type:"SectionCfg.macro",$description
:""}}},BindingConfiguration:{$type:"json:Object",$description:"",$properties:{to:{$type:"json:JsonProperty",$description:"",$default:null},inside:{$type:"json:ObjectRef",$description:"",$mandatory:!0},recursive:{$type:"json:Boolean",$description:"",$default:!0}}},TableNavConfiguration:{$type:"json:MultiTypes",$description:""},RefreshCfg:{$type:"json:Object",$description:"",$default:{},$properties:{macro:{$type:"MacroCfg",$mandatory:!1},filterSection:{$type:"json:String",$description:"",$mandatory:!1},outputSection
:{$type:"json:String",$description:"",$mandatory:!1}}},GetRefreshedSectionCfg:{$type:"RefreshCfg",$properties:{writerCallback:{$type:"coreBeans:Callback",$description:""}}},InsertAdjacentSectionsCfg:{$type:"json:Object",$description:"",$mandatory:!0,$properties:{sections:{$type:"json:Array",$description:"",$mandatory:!0,$contentType:{$type:"json:MultiTypes",$mandatory:!0,$description:"",$contentTypes:[{$type:"json:String",$description:""},{$type:"SectionCfg",$description:""}]}},refSection:{$type:"json:Object"
,$mandatory:!0,$description:"",$properties:{object:{$type:"json:ObjectRef",$classpath:"aria.templates.Section",$description:"",$mandatory:!0},domElt:{$type:"json:ObjectRef",$description:"",$mandatory:!0}}},position:{$type:"json:Enum",$description:"",$mandatory:!0,$enumValues:["beforeBegin","afterBegin","beforeEnd","afterEnd"]}}},SubModuleDefinition:{$type:"json:Object",$description:"",$mandatory:!0,$properties:{refpath:{$type:"json:String",$description:"",$regExp:/./,$mandatory:!0,$sample:"pkg1.module"},arrayIndex
:{$type:"json:Integer",$description:"",$mandatory:!1},classpath:{$type:"json:PackageName",$description:"",$mandatory:!0},initArgs:{$type:"json:ObjectRef",$description:"",$mandatory:!1},display:{$type:"json:String",$description:"",$mandatory:!1}}},TplScriptDefinitionCfg:{$type:"json:Object",$description:"",$properties:{$classpath:{$type:"json:PackageName",$description:"",$mandatory:!0,$sample:"aria.jsunit.TestSuite"},$dependencies:{$type:"json:Array",$description:"",$default:[],$contentType:{$type:"json:PackageName"
,$description:""}},$resources:{$type:"json:Map",$description:"",$contentType:{$type:"json:MultiTypes",$description:"",$sample:"aria.widgets.WidgetsRes",$contentTypes:[{$type:"json:Object",$description:""},{$type:"json:String",$description:""}]}},$texts:{$type:"json:Map",$description:"",$contentType:{$type:"json:PackageName",$description:"",$mandatory:!0}},$statics:{$type:"json:Map",$description:"",$contentType:{$type:"json:MultiTypes",$description:""}},$prototype:{$type:"json:MultiTypes",$description:"",$contentTypes
:[{$type:"json:Map",$description:"",$contentType:{$type:"json:MultiTypes",$description:""}},{$type:"json:FunctionRef",$description:""}]},$constructor:{$type:"json:FunctionRef",$description:""},$destructor:{$type:"json:FunctionRef",$description:""}}},KeyMapCfg:{$type:"json:Object",$description:"",$properties:{key:{$type:"json:MultiTypes",$description:"",$mandatory:!0,$contentTypes:[{$type:"json:Integer",$description:""},{$type:"json:String",$description:"",$sample:"F4"}]},ctrl:{$type:"json:Boolean",$description
:""},shift:{$type:"json:Boolean",$description:""},alt:{$type:"json:Boolean",$description:""},callback:{$type:"json:MultiTypes",$description:"",$mandatory:!0,$contentTypes:[{$type:"json:FunctionRef",$description:""},{$type:"coreBeans:Callback",$description:""}]},event:{$type:"json:Enum",$description:"",$enumValues:["keyup","keydown"]}}},GlobalKeyMapCfg:{$type:"KeyMapCfg",$description:"",$properties:{modal:{$type:"json:Boolean",$description:"",$default:!1}}}}});
//*******************
//LOGICAL-PATH:aria/templates/ClassGenerator.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.ClassGenerator",$dependencies:["aria.templates.ClassWriter","aria.templates.TreeBeans","aria.templates.CfgBeans","aria.templates.Statements","aria.templates.Modifiers"],$singleton:!1,$constructor:function(){this._parser=null,this._superClass=null,this._classType=null,this._rootStatement=null,this._templateParamBean=null,this.STATEMENTS={},this.ALLSTATEMENTS=aria.templates.Statements.ALLSTATEMENTS,this._loadStatements(["#ROOT#","#TEXT#","#CDATA#","#EXPRESSION#"
,"if","elseif","else","for","foreach","separator","var","set","checkDefault","macro","call","memo"]),this._isDebug=aria.core.environment.Environment.isDebug(),aria.core.environment.Environment.$on({debugChanged:function(){this._isDebug=aria.core.environment.Environment.isDebug()},scope:this})},$statics:{TEMPLATE_STATEMENT_EXPECTED:"Template error: please check that the whole template is enclosed in a '%1' statement.",ERROR_IN_TEMPLATE_PARAMETER:"Template error, while evaluating the parameter of the '%1' statement."
,CHECK_ERROR_IN_TEMPLATE_PARAMETER:"Template error: the parameter of the '%1' statement does not respect the bean definition.",UNKNOWN_STATEMENT:"line %2: Template error: unknown statement '%1'.",EXPECTED_CONTAINER:"line %2: Template error: statement '%1' must be used as a container.",UNEXPECTED_CONTAINER:"line %2: Template error: statement '%1' cannot be used as a container.",SHOULD_BE_OUT_OF_MACRO:"line %2: Template error: statement '%1' cannot be used in a macro.",INVALID_STATEMENT_SYNTAX:"line %3: Template error: invalid parameter for statement '%1'; it should respect the regular expression %2."
},$prototype:{parseTemplate:function(e,t,n,r,i){var s=this._parser.parseTemplate(e,r,this.STATEMENTS);if(s==null){this.$callback(n,{classDef:null});return}this.__buildClass(s,t,n,r,i)},parseTemplateFromTree:function(e,t,n,r,i){this.__buildClass(e,t,n,r,i)},_loadStatements:function(e){for(var t=0,n=e.length;t<n;t+=1){var r=e[t];this.STATEMENTS[r]=this.ALLSTATEMENTS[r]}},getStatements:function(){return this.STATEMENTS},__buildClass:function(e,t,n,r,i){aria.core.JsonValidator.check(e,"aria.templates.TreeBeans.Root"
);var s=new aria.templates.ClassWriter({fn:this.__processStatement,scope:this},{fn:this.__logError,scope:this});s.errorContext=r,s.allDependencies=t,s.callback=n,s.tree=e,s.debug=i===!0,this._processRootStatement(s,e),s.errors&&(s.$dispose(),this.$callback(n,{classDef:null}))},_processRootStatement:function(out,tree){var rootStatement=tree.content[0];if(tree.content.length!=1||rootStatement.name!=this._rootStatement)return out.logError(tree,this.TEMPLATE_STATEMENT_EXPECTED,[this._rootStatement]);if(rootStatement
.content==null)return out.logError(rootStatement,this.EXPECTED_CONTAINER,[this._rootStatement]);var param;try{param=eval("("+rootStatement.paramBlock+")")}catch(e){return out.logError(rootStatement,this.ERROR_IN_TEMPLATE_PARAMETER,[this._rootStatement],e)}if(!aria.core.JsonValidator.normalize({json:param,beanName:this._templateParamBean}))return out.logError(rootStatement,this.CHECK_ERROR_IN_TEMPLATE_PARAMETER,[this._rootStatement]);out.templateParam=param,this._processTemplateContent({out:out,statement:rootStatement
})},__processStatement:function(e,t){var n=t.name;n.charAt(0)=="@"&&(n="@");var r=this.STATEMENTS[n];if(r==null)e.logError(t,this.UNKNOWN_STATEMENT,[n]);else if(r.container===!0&&t.content===undefined)e.logError(t,this.EXPECTED_CONTAINER,[n]);else if(r.container===!1&&t.content!==undefined)e.logError(t,this.UNEXPECTED_CONTAINER,[n]);else if(r.inMacro!==undefined&&e.isOutputReady()!==r.inMacro)r.inMacro?e.logError(t,aria.templates.Statements.SHOULD_BE_IN_MACRO,[n]):e.logError(t,this.SHOULD_BE_OUT_OF_MACRO,[n]
);else if(r.paramRegexp){var i=r.paramRegexp.exec(t.paramBlock);i==null?e.logError(t,this.INVALID_STATEMENT_SYNTAX,[n,r.paramRegexp]):(this._isDebug&&e.trackLine(t.lineNumber),r.process(e,t,i))}else this._isDebug&&e.trackLine(t.lineNumber),r.process(e,t,this)},__logError:function(e,t,n,r){n==null&&(n=[]),n.push(e.lineNumber),this.$logError(t,n,r)},_createBlocks:function(e){e.newBlock("classDefinition",0),e.newBlock("prototype",2),e.newBlock("globalVars",5),e.newBlock("initTemplate",3),e.newBlock("classInit",3
)},_writeClassDefHeaders:function(e){var t=e.templateParam;e.writeln("Aria.classDefinition({"),e.increaseIndent(),e.writeln("$classpath: ",e.stringify(t.$classpath),","),e.parentClasspath&&e.writeln("$extends: ",e.stringify(e.parentClasspath),","),e.parentClassType!="JS"&&e.writeln("$extendsType: ",e.stringify(e.parentClassType),",")},_getClassName:function(e){var t=e.split(".");return t[t.length-1]},_processInheritance:function(e){var t=e.templateParam;t.$extends?(e.parentClasspath=t.$extends,e.parentClassType=
this._classType):e.parentClasspath=this._superClass,e.parentClasspath&&(e.parentClassName=this._getClassName(e.parentClasspath))},_processScript:function(e){var t=e.templateParam;t.$hasScript&&(e.scriptClasspath=t.$classpath+"Script",e.scriptClassName=this._getClassName(e.scriptClasspath),e.addDependency(e.scriptClasspath))},_writeConstructor:function(e){e.writeln("$constructor: function() { "),e.increaseIndent();var t=e.parentClassName;t&&e.writeln("this.$",t,".constructor.call(this);");var n=e.scriptClassName
;n&&e.writeln("this.$",n,".constructor.call(this);"),e.decreaseIndent(),e.writeln("},")},_writeDestructor:function(e){e.writeln("$destructor: function() {"),e.increaseIndent();var t=e.scriptClassName;t&&e.writeln("this.$",t,".$destructor.call(this);");var n=e.parentClassName;n&&e.writeln("this.$",n,".$destructor.call(this);"),e.decreaseIndent(),e.writeln("},")},_writeDependencies:function(e){var t=e.templateParam,n=aria.utils.Json;e.writeln(e.getDependencies()),t.$res&&e.writeln("$resources: ",n.convertToJsonString
(t.$res),","),t.$templates&&e.writeln("$templates: ",n.convertToJsonString(t.$templates),","),t.$css&&e.writeln("$css: ",n.convertToJsonString(t.$css),",");if(t.$macrolibs){var r=aria.utils.Array.extractValuesFromMap(t.$macrolibs);r.length>0&&e.writeln("$macrolibs: ",n.convertToJsonString(r),",")}if(t.$csslibs){var i=aria.utils.Array.extractValuesFromMap(t.$csslibs);i.length>0&&e.writeln("$csslibs: ",n.convertToJsonString(i),",")}t.$texts&&e.writeln("$texts: ",n.convertToJsonString(t.$texts),",")},_writeMapInheritance
:function(e,t,n,r){if(e.parentClassType==this._classType){if(n){var i=e.newVarName();e.writeln("var ",i," = {};"),e.writeln("Aria.copyObject(proto.",t,",",i,");"),e.writeln("Aria.copyObject(",aria.utils.Json.convertToJsonString(n),",",i,");"),e.writeln("proto.",t," = ",i,";")}}else{var s=n?aria.utils.Json.convertToJsonString(n):r;e.writeln("proto.",t," = ",s,";")}},_writeValueInheritance:function(e,t,n,r){if(e.parentClassType==this._classType)n!=null&&e.writeln("proto.",t," = ",aria.utils.Json.convertToJsonString
(n),";");else{var i=n!=null?aria.utils.Json.convertToJsonString(n):r;e.writeln("proto.",t," = ",i,";")}},_writeClassInit:function(e){var t=e.scriptClasspath;t&&(e.enterBlock("classInit"),e.writeln("aria.core.TplClassLoader._importScriptPrototype("+t+",proto)"),e.leaveBlock());var n=e.getBlockContent("classInit");n.length>0&&(e.writeln("$init: function(proto) {"),e.increaseIndent(),e.write(n),e.decreaseIndent(),e.writeln("},"))},_writeInitTemplate:function(e){e.writeln("__$initTemplate: function() {"),e.increaseIndent
(),e.parentClassType==this._classType&&e.writeln("if (! this.$",e.parentClassName,".__$initTemplate.call(this)) { return false; }"),e.write(e.getBlockContent("initTemplate"));var t=e.getBlockContent("globalVars");t.length>0&&(e.writeln("try {"),e.increaseIndent(),e.writeln("with (this) {"),e.increaseIndent(),e.write(t),e.decreaseIndent(),e.writeln("}"),e.decreaseIndent(),e.writeln("} catch (_ex) {"),e.increaseIndent(),e.writeln("this.$logError(this.EXCEPTION_IN_VARINIT,[this.$classpath],_ex);"),e.writeln("return false;"
),e.decreaseIndent(),e.writeln("}")),e.writeln("return true;"),e.decreaseIndent(),e.writeln("}")},_writeClassDefEnd:function(e){e.writeln("$prototype: {"),e.increaseIndent(),e.write(e.getBlockContent("prototype")),e.decreaseIndent(),e.writeln("}"),e.decreaseIndent(),e.writeln("})"),e.leaveBlock()},_processTemplateContent:function(e){var t=e.out,n=t.templateParam,r=e.statement;t.addDependencies(n.$dependencies),this._createBlocks(t),this._processInheritance(t),this._processScript(t),t.enterBlock("classDefinition"
),this._writeClassDefHeaders(t),this._writeConstructor(t),this._writeDestructor(t),t.leaveBlock(),t.processContent(r.content);if(t.errors){t.$dispose(),this.$callback(t.callback,{classDef:null}),t.errors=!1;return}t.enterBlock("prototype"),this._writeClassInit(t),this._writeInitTemplate(t),t.leaveBlock(),t.enterBlock("classDefinition"),this._writeDependencies(t),this._writeClassDefEnd(t),t.leaveBlock();var i=null;i=t.getBlockContent("classDefinition"),t.$dispose(),this.$callback(t.callback,{classDef:i,tree:t
.tree,debug:t.debug})}}});
//*******************
//LOGICAL-PATH:aria/templates/ClassWriter.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.ClassWriter",$dependencies:["aria.utils.String"],$constructor:function(e,t){this._processStatement=e,this._processErrors=t,this._curindent="",this.indentUnit=" ",this._varNameNumber=0,this.errorContext=null,this.allDependencies=null,this.templateParam=null,this.parentClassType="JS",this.parentClassName=null,this.parentClasspath=null,this.scriptClassName=null,this.scriptClasspath=null,this.callback=null,this.wlibs={},this.macros={},this.views={},this._curblock=
null,this._blocks={},this._stack=[],this._dependencies=[],this.errors=!1,this.debug=!1,this.tree=null},$prototype:{addDependencies:function(e){for(var t=e.length-1;t>=0;t--)this.addDependency(e[t])},addDependency:function(e){this._dependencies[e]=1},getDependencies:function(){var e=[];for(var t in this._dependencies)this._dependencies.hasOwnProperty(t)&&e.push(this.stringify(t));return e.length>0?["$dependencies: [",e.join(","),"],"].join(""):""},getMacro:function(e){var t=this.macros[e];return t==null&&(t={
},this.macros[e]=t),t},getView:function(e){var t=this.views[e];return t==null&&(t={},this.views[e]=t),t},isOutputReady:function(){return this._curblock!=null},newBlock:function(e,t){var n={curindentnbr:t,out:[]};this._blocks[e]=n},enterBlock:function(e){this._stack.push(this._curblock),this._curblock=this._blocks[e],this.indentUnit&&this._curblock&&this._updateIndent()},leaveBlock:function(){this._curblock=this._stack.pop(),this.indentUnit&&this._curblock&&this._updateIndent()},getBlockContent:function(e){return this
._blocks[e].out.join("")},stringify:function(e){return this.stringify=aria.utils.String.stringify,this.stringify(e)},newVarName:function(){return this._varNameNumber++,"__v_"+this._varNameNumber+"_"+parseInt(10*Math.random(),10)},processContent:function(e){for(var t=0;t<e.length;t++)this.processStatement(e[t])},processStatement:function(e){this._processStatement.fn.call(this._processStatement.scope,this,e)},_updateIndent:function(){this._curindent=(new Array(1+this._curblock.curindentnbr)).join(this.indentUnit
)},logError:function(e,t,n){this.errors=!0,this._processErrors.fn.call(this._processErrors.scope,e,t,n,this.errorContext)},logWarn:function(e,t,n){this._processErrors.fn.call(this._processErrors.scope,e,t,n,this.errorContext)},increaseIndent:function(){this.indentUnit&&(this._curblock.curindentnbr++,this._curindent+=this.indentUnit)},decreaseIndent:function(){this.indentUnit&&(this._curblock.curindentnbr--,this._updateIndent())},writeln:function(){var e=this._curblock.out;this._curindent&&e.push(this._curindent
),e.push.apply(e,arguments),e.push("\n")},write:function(){var e=this._curblock.out;e.push.apply(e,arguments)},wrapExpression:function(e,t,n){var r=this.newVarName();return e=this.stringify(e),this.writeln("var "+r+" = null;"),this.writeln("try {"),this.increaseIndent(),e=e.substr(1,e.length-2),this.writeln('eval( "'+r+"=("+e+')" );'),this.decreaseIndent(),this.writeln("} catch (e) {"),this.increaseIndent(),this.writeln("this.$logError(",n,',["',e,'",',t.lineNumber,",",this.stringify(t.name),"], e);"),this.decreaseIndent
(),this.writeln("}"),r},trackLine:function(e){this._curblock&&this.writeln("this['"+Aria.FRAMEWORK_PREFIX+"currentLineNumber'] = "+e+";")}}});
//*******************
//LOGICAL-PATH:aria/templates/CSSClassGenerator.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.CSSClassGenerator",$extends:"aria.templates.ClassGenerator",$singleton:!0,$dependencies:["aria.templates.CSSParser"],$constructor:function(){this.$ClassGenerator.constructor.call(this),this._loadStatements(["CSSTemplate"]),this._parser=aria.templates.CSSParser,this._superClass="aria.templates.CSSTemplate",this._classType="CSS",this._rootStatement="CSSTemplate",this._templateParamBean="aria.templates.CfgBeans.CSSTemplateCfg"},$prototype:{_writeClassInit:function(
e){var t=e.templateParam;e.enterBlock("classInit"),this._writeMapInheritance(e,"__$csslibs",e.templateParam.$csslibs,"{}"),this._writeValueInheritance(e,"__$prefix",e.templateParam.$prefix,"true"),e.leaveBlock(),this.$ClassGenerator._writeClassInit.call(this,e)}}});
//*******************
//LOGICAL-PATH:aria/templates/CSSCtxt.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.CSSCtxt",$dependencies:["aria.templates.CfgBeans","aria.utils.String"],$implements:["aria.templates.ICSS"],$extends:"aria.templates.BaseCtxt",$constructor:function(e){this.$BaseCtxt.constructor.apply(this,arguments),this.tplClasspath=null,this.__cachedOutput=null,this.__prefix="",this.__prefixedText="",this.__numSelectors=NaN},$destructor:function(){if(this._tpl){try{this._tpl.$dispose()}catch(e){this.$logError(this.TEMPLATE_DESTR_ERROR,[this.tplClasspath],e)}
aria.templates.ICSS.prototype.$destructor.call(this._tpl),this._tpl=null}this.data=null,this.moduleRes=null,this.moduleCtrl=null,this.moduleCtrlPrivate=null,this.$BaseCtxt.$destructor.call(this)},$statics:{MEDIA_RULE:/@media\b/},$prototype:{initTemplate:function(e){if(!aria.core.JsonValidator.normalize({json:e,beanName:"aria.templates.CfgBeans.InitCSSTemplateCfg"}))return!1;this._cfg=e;var t=Aria.getClassInstance(e.classpath);if(!t)return this.$logError(this.TEMPLATE_CONSTR_ERROR,[e.classpath]),!1;this._tpl=
t,e.macro=this.checkMacro({name:"main",args:e.args}),this.tplClasspath=e.classpath,aria.templates.ICSS.call(t,this);var n=this;return t.__$write=function(){return n.__$write.apply(n,arguments)},t.__$initTemplate()?(this.__loadLibs(t.__$csslibs,"csslibs"),!0):!1},doPrefixing:function(){if(!this._tpl.__$prefix)return;return!this._cfg.isWidget},isWidget:function(){return this._cfg.isWidget},isTemplate:function(){return this._cfg.isTemplate},_getOutput:function(){if(this.__cachedOutput)return this.__cachedOutput
;this.$assert(156,this._out==null),this._out=[],this._callMacro(null,"main");var e=this._out.join("");return this._out=null,this.__cachedOutput=e,e},prefixText:function(e){var t=this._getOutput(),n="."+e+" ",r=this.__prefixingAlgorithm(t,n);this.__prefixedText=r.text,this.__numSelectors=r.selectors},__prefixingAlgorithm:function(e,t){var n=e.split("}"),r=n.length;if(r<2)return{text:e,selectors:0};var i=aria.utils.String.trim,s=this.MEDIA_RULE,o,u,a,f=0;for(var l=0;l<r;l+=1){o=n[l].split("{"),u=i(o[0]);if(!u)
continue;var c=s.test(u);if(c){o[0]=u,u=i(o[1]);if(!u)continue}u=u.split(","),a=[];for(var h=0,p=u.length;h<p;h+=1)a.push(t+i(u[h])),f+=1;c?(a[0]="\n"+a[0],o[1]=a.join(", ")):o[0]=a.join(", "),n[l]=o.join(" {")}return{text:n.join("}\n"),selectors:f}},getText:function(){return this.doPrefixing()?this.__prefixedText:this._getOutput()},getNumLines:function(){return this.__numSelectors},__$write:function(e){this._out=this._out.concat(e)}}});
//*******************
//LOGICAL-PATH:aria/templates/CSSCtxtManager.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.CSSCtxtManager",$dependencies:["aria.templates.CSSCtxt"],$singleton:!0,$constructor:function(){this._contexts={}},$destructor:function(){this.reset()},$prototype:{getContext:function(e,t){var n=this._contexts[e];return n||(n=new aria.templates.CSSCtxt,t||(t={}),t.classpath=e,n.initTemplate(t),this._contexts[e]=n),n},disposeContext:function(e){var t=this._contexts[e];t&&(t.$dispose(),delete this._contexts[e])},reset:function(){var e=[],t=this._contexts;for(var n in
t)t.hasOwnProperty(n)&&(e.push(n),t[n].$dispose());return this._contexts={},e}}});
//*******************
//LOGICAL-PATH:aria/templates/CSSMgr.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.CSSMgr",$singleton:!0,$dependencies:["aria.templates.CSSCtxtManager","aria.utils.Array","aria.utils.Object","aria.utils.AriaWindow"],$statics:{__NEXT_PREFIX_INDEX:0,__PREFIX:"CSS",__NEXT_TAG_INDEX:1,__TAG_PREFX:"xCss",CSSTEMPLATE_MAX_SELECTORS_REACHED:"More than 4000 CSS selectors are loaded at the same time. Please check your CSS Templates"},$events:{dependenciesLoaded:{description:"",properties:{templateClasspath:"{String} classpath of the template for which the dependencies are loaded"
}},dependenciesUnloaded:{description:"",properties:{templateClasspath:"{String} classpath of the template for which the dependencies are unloaded"}},styleChange:{description:"",properties:{templateClasspath:"{String} classpath of the template that caused the style tag to change"}}},$constructor:function(){this.__cssUsage={},this.__globalUsage={},this.__prefixes={},this.__pathsLoaded=[],this.__textLoaded={},this.__styleTagAssociation={},this.__styleTagPool={},this.__cssDependencies={},this.__invalidClasspaths=
{},this.__invalidStack=[],this.__isStopped=!1,this.__queuedChanges=[],this.__attachedToWindow=!1,aria.utils.AriaWindow.$on({unloadWindow:this.reset,scope:this})},$destructor:function(){this.reset(),this.__styleTagPool=null,aria.utils.AriaWindow.$unregisterListeners(this)},$prototype:{__checkAttachedToWindow:function(){this.__attachedToWindow||(this.__attachedToWindow=!0,aria.utils.AriaWindow.attachWindow())},loadDependencies:function(e){this.$assert(133,e.$TemplateCtxt);var t=e.getCSSDependencies(),n=e.tplClasspath
,r=this.loadClassPathDependencies(n,t,{isTemplate:!0});return r.changes&&this.$raiseEvent({name:"styleChange",templateClasspath:n}),this.$raiseEvent({name:"dependenciesLoaded",templateClasspath:n}),r.classes},loadWidgetDependencies:function(e,t){if(this.__cssDependencies[e])t=this.__cssDependencies[e];else{var n=Aria.getClassRef(e),r={};if(t)for(var i=0,s=t.length;i<s;i++)r[t[i]]=!0;n=n.superclass;while(n){var o=n.$css;if(o)for(var i=0,s=o.length;i<s;i++)r[o[i]]=!0;n=n.constructor.superclass}t=aria.utils.Object
.keys(r),this.__cssDependencies[e]=t}var u={isWidget:!0};this.loadClassPathDependencies(e,t,u)},loadClassPathDependencies:function(e,t,n){if(!t)return;var r=[],i=[];for(var s=0,o=t.length;s<o;s+=1){var u=t[s],a={};for(var f in n)n.hasOwnProperty(f)&&(a[f]=n[f]);r=this.__load(e,u,a).concat(r),this.__prefixes[u]&&i.push(this.__prefixes[u])}return r.length&&this.__textToDOM(r),{classes:i,changes:!!r.length}},__load:function(e,t,n){this.$assert(195,e&&t);var r=this.__cssUsage[t],i=[];if(r&&r.length){r.push(e),this
.__pathsLoaded.push(t);if(!this.__invalidClasspaths[t])return[]}else this.__cssUsage[t]=[e];delete this.__invalidClasspaths[t];var s=aria.templates.CSSCtxtManager.getContext(t,n);t=="aria.templates.GlobalStyle"&&this.__getPrefix(t),t=="aria.widgets.GlobalStyle"&&this.__getPrefix(t);if(s.doPrefixing()){var o=this.__getPrefix(t);s.prefixText(o)}this.__textLoaded[t]={text:s.getText(),lines:s.getNumLines()};var u=this.__getStyleTag(s);return this.__styleTagAssociation[t]=u,this.__pathsLoaded.push(t),[u]},__getStyleTag
:function(e){var t=e.tplClasspath,n=this.__styleTagAssociation[t];return n?n:(e.isTemplate()?n="tpl":e.isWidget()?n="wgt":(n="pool"+this.__NEXT_TAG_INDEX,this.__NEXT_TAG_INDEX+=1),n)},unloadWidgetDependencies:function(e,t){this.__cssDependencies[e]&&(t=this.__cssDependencies[e]),this.unloadClassPathDependencies(e,t)},unloadClassPathDependencies:function(e,t){if(!t)return;for(var n=0,r=t.length;n<r;n+=1){var i=t[n];this.__unload(e,i)}},unloadDependencies:function(e){this.$assert(169,e.$TemplateCtxt);var t=e.getCSSDependencies
(),n=e.tplClasspath;this.unloadClassPathDependencies(n,t),this.$raiseEvent({name:"dependenciesUnloaded",templateClasspath:n})},__getPrefix:function(e){var t=this.__prefixes[e];return t||(t=this.__PREFIX+this.__NEXT_PREFIX_INDEX,this.__NEXT_PREFIX_INDEX+=1,this.__prefixes[e]=t),t},__unload:function(e,t){this.$assert(230,e&&t);var n=aria.utils.Array.remove,r=this.__cssUsage[t];r&&r.length&&(n(r,e),n(this.__pathsLoaded,t),r.length||(delete this.__cssUsage[t],delete this.__textLoaded[t],delete this.__styleTagAssociation
[t]))},__textToDOM:function(e){if(this.__isStopped){this.__queuedChanges=e.concat(this.__queuedChanges);return}var t=this.__sortPaths(),n=this.__textLoaded,r=0,i={},s=aria.utils.Array;for(var o=0,u=t.length;o<u;o+=1){var a=t[o],f=this.__styleTagAssociation[a];if(!s.contains(e,f))continue;i[f]||(i[f]=[]),i[f].push("/**",a,"**/",this.__textLoaded[a].text),r+=this.__textLoaded[a].lines||0}return r>4e3&&this.$logWarn(this.CSSTEMPLATE_MAX_SELECTORS_REACHED),this.__reloadStyleTags(i)},__sortPaths:function(){var e=
aria.utils.Object.keys(this.__textLoaded),t=this.__prefixes,n=this.__PREFIX.length,r=function(e,r){var i=t[e]?parseInt(t[e].substring(n),10):Number.MAX_VALUE,s=t[r]?parseInt(t[r].substring(n),10):Number.MAX_VALUE;return i===s?0:i>s?1:-1},i=e.sort(r);return t=null,n=null,i},__reloadStyleTags:function(e){for(var t in e){if(!e.hasOwnProperty(t))continue;var n=this.__buildStyleIfMissing(t),r=e[t].join("\n");if(n.styleSheet)n.styleSheet.cssText=r;else{var i=Aria.$window.document.createTextNode(r);n.firstChild?n.replaceChild
(i,n.firstChild):n.appendChild(i)}n=null}},__buildStyleIfMissing:function(e){var t=this.__styleTagPool[e];if(!t){var n=Aria.$window.document,r=n.getElementsByTagName("head")[0];t=n.createElement("style"),t.id=this.__TAG_PREFX+e,t.type="text/css",t.media="all",r.appendChild(t),t=r.lastChild,this.__styleTagPool[e]=t}return t},reset:function(){for(var e in this.__styleTagPool)this.__styleTagPool.hasOwnProperty(e)&&this.__styleTagPool[e].parentNode.removeChild(this.__styleTagPool[e]);this.__attachedToWindow&&(aria
.utils.AriaWindow.detachWindow(),this.__attachedToWindow=!1),this.__styleTagPool={},this.__textLoaded={},this.__pathsLoaded=[],this.__prefixes={},this.__cssUsage={},this.__styleTagAssociation={},this.__invalidClasspaths={},this.__cssDependencies={},this.__PREFIX=this.classDefinition.$statics.__PREFIX,this.__NEXT_PREFIX_INDEX=this.classDefinition.$statics.__NEXT_PREFIX_INDEX,this.__NEXT_TAG_INDEX=this.classDefinition.$statics.__NEXT_TAG_INDEX,this.__TAG_PREFX=this.classDefinition.$statics.__TAG_PREFX},invalidate
:function(e,t){aria.templates.CSSCtxtManager.disposeContext(e),!this.__invalidClasspaths[e]&&t&&(this.__invalidClasspaths[e]=!0,this.__invalidStack.push(e))},stop:function(){this.__isStopped=!0},resume:function(){this.__isStopped=!1;var e=this.__queuedChanges;this.__queuedChanges=[];if(e.length>0)return this.__textToDOM(e)},registerDependencies:function(e,t){for(var n=0,r=t.length;n<r;n++){var i=t[n];this.__globalUsage[i]||(this.__globalUsage[i]=[]),this.__globalUsage[i].push(e)}},unregisterDependencies:function(
e,t,n,r){var i=aria.utils.Array,s=aria.core.ClassMgr;for(var o=0,u=t.length;o<u;o++){var a=t[o],f=this.__globalUsage[a];i.remove(f,e),n&&(s.unloadClass(a,r),this.invalidate(a,f.length>0))}},getInvalidClasspaths:function(e){var t=this.__invalidStack;return e&&(this.__invalidStack=[]),t}}});
//*******************
//LOGICAL-PATH:aria/templates/CSSParser.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.CSSParser",$extends:"aria.templates.Parser",$dependencies:["aria.utils.String"],$singleton:!0,$statics:{MISSING_OPENINGBRACES:"line %1: Template parsing error: could not find corresponding '{'."},$prototype:{parseTemplate:function(e,t,n){return this.context=t,this._prepare(e),this.__preprocess(n)?(this._computeLineNumbers(),this._buildTree()):null},__preprocess:function(e){var t=this.template,n=aria.utils.String,r=0,i=-1,s=-1,o=[],u=/^\{[\s\/]*?([\w]+)\b/,a=0,
f=t.length,l=-1,c=0,h=-1;while(a<f){i<r&&(i=n.indexOfNotEscaped(t,"{",r)),s<r&&(s=n.indexOfNotEscaped(t,"}",r));if(i>-1&&(s>i||s==-1)){c===0&&(h=i),c++;if(l==-1)if(t.charAt(i-1)=="$")l=c;else{var p=t.substring(i,s),d=u.exec(p);d&&e[d[1]]?l=c:(o.push(t.substring(a,i)),o.push("\\{"),a=i+1)}r=i+1}else if(s>-1){if(c===0)return this._computeLineNumbers(),this.$logError(this.MISSING_OPENINGBRACES,[this.positionToLineNumber(s)],this.context),!1;l==c?l=-1:l==-1&&(o.push(t.substring(a,s)),o.push("\\}"),a=s+1),c--,r=s+1
}else this.$assert(94,i==-1&&s==-1),r=f,o.push(t.substring(a,f)),a=f}return c>0?(this._computeLineNumbers(),this.$logError(this.MISSING_CLOSINGBRACES,[this.positionToLineNumber(h)],this.context),!1):(this.template=o.join(""),!0)}}});
//*******************
//LOGICAL-PATH:aria/templates/CSSTemplate.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.CSSTemplate",$extends:"aria.templates.BaseTemplate",$dependencies:["aria.templates.ICSS"],$constructor:function(){this.$BaseTemplate.constructor.call(this);var e=aria.core.Cache.getFilename(this.$classpath),t=aria.core.DownloadMgr.resolveURL(e,!0);this.cssPath="/"+this.$classpath.replace(/\./g,"/"),this.cssFolderPath=t.substring(0,t.lastIndexOf("/"))},$destructor:function(){this.$BaseTemplate.$destructor.call(this)},$prototype:{$init:function(e,t){e.$BaseTemplate
.constructor.classDefinition.$prototype.$init(e,t);var n=aria.templates.ICSS.prototype;for(var r in n)n.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=n[r])}}});
//*******************
//LOGICAL-PATH:aria/templates/DomElementWrapper.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.DomElementWrapper",$dependencies:["aria.utils.Dom","aria.utils.DomOverlay","aria.utils.ClassList","aria.utils.sandbox.DOMProperties"],$constructor:function(e,t){if(e&&e.nodeType)while(e.nodeType!=1)e=e.parentNode;var n=e.tagName;this.tagName=n,this.getChild=function(t){var n=aria.utils.Dom.getDomElementChild(e,t);return n?new aria.templates.DomElementWrapper(n):null},this.getAttribute=function(t){if(!this.attributesWhiteList.test(t))return this.$logError(this.
INVALID_ATTRIBUTE_NAME,[t]),null;var n=e.attributes[t];return n?n.value:null},this.getData=function(t,n){if(!/^\w+$/.test(t)||t.charAt(0)=="_")return this.$logError(this.INVALID_EXPANDO_NAME,[t]),null;var r="_"+t,i="data-"+t,s=e.attributes[r]||e.attributes[i];e.attributes[r]!=null&&this.$logWarn("The '_' usage is deprecated for the expando %1, please use the dataset html attribute instead.",[r]);if(!s&&n){var o=e.parentNode;while(!s&&o!=null&&o.attributes!=null)s=o.attributes[r]||o.attributes[i],e.attributes
[r]!=null&&this.$logWarn("The '_' usage is deprecated for the expando %1, please use the dataset html attribute instead.",[r]),o=o.parentNode}return s?s.value:null},this.getParentWithData=function(t){if(!/^\w+$/.test(t)||t.charAt(0)=="_")return this.$logError(this.INVALID_EXPANDO_NAME,[t]),null;var n="data-"+t,r=e,i=r.attributes[n];while(!i&&r.parentNode!=null)r=r.parentNode,r.attributes&&(i=r.attributes[n]);return i?new aria.templates.DomElementWrapper(r):null},this.classList=new aria.utils.ClassList(e),this
.focus=function(){try{return e.focus()}catch(t){this.$logDebug(this.FOCUS_FAILURE,e)}},this.setStyle=function(t){e.style.cssText=t},this.getProperty=function(t){if(aria.utils.sandbox.DOMProperties.isReadSafe(n,t))return e[t];this.$logError(this.READ_ACCESS_DENIED,[t,n])},this.setProperty=function(t,r){aria.utils.sandbox.DOMProperties.isWriteSafe(n,t)?e[t]=r:this.$logError(this.WRITE_ACCESS_DENIED,[t,n])},this.getParentWithName=function(t){if(!t||!e)return null;var n=Aria.$window.document.body;t=t.toUpperCase
();var r=e.parentNode;while(r&&r!=n){if(r.nodeName==t)return new aria.templates.DomElementWrapper(r);r=r.parentNode}return null},this.setProcessingIndicator=function(n,r){var i,s=!0;n?i=aria.utils.DomOverlay.create(e,r):(i=aria.utils.DomOverlay.detachFrom(e,r),i||(s=!1)),t&&s&&t.registerProcessingIndicator(n,i)},this.scrollIntoView=function(t){aria.utils.Dom.scrollIntoView(e,t)},this.getScroll=function(){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}},this.setScroll=function(t){t&&(t.hasOwnProperty("scrollLeft"
)&&t.scrollLeft!=null&&(e.scrollLeft=t.scrollLeft),t.hasOwnProperty("scrollTop")&&t.scrollTop!=null&&(e.scrollTop=t.scrollTop))},this._dispose=function(){this.setProcessingIndicator(!1),e=null,t=null,this.getChild=null,this.classList.$dispose(),this.getData=null,this.getAttribute=null,this.getProperty=null,this.setProperty=null,this.focus=null,this.setStyle=null,this.getParentWithName=null,this.getParentWithData=null,this.setProcessingIndicator=null}},$destructor:function(){this._dispose&&(this._dispose(),this
._dispose=null)},$statics:{attributesWhiteList:/^(name|title|style|dir|lang|abbr|height|width|size|cols|rows|rowspan|colspan|nowrap|valign|align|border|cellpadding|cellspacing|disabled|readonly|checked|selected|multiple|value|alt|maxlength|type|accesskey|tabindex|placeholder|autocomplete|autofocus|autocorrect|autocapitalize|spellcheck)$/,INVALID_EXPANDO_NAME:"Invalid expando name: '%1'.",INVALID_ATTRIBUTE_NAME:"Invalid attribute name: '%1'.",FOCUS_FAILURE:"Could not focus element",READ_ACCESS_DENIED:"Access to property %1 of tag %2 is not allowed."
,WRITE_ACCESS_DENIED:"Write access to property %1 of tag %2 is not allowed."},$prototype:{getChild:function(e){},getAttribute:function(e){},getData:function(e,t){},getParentWithData:function(e){},focus:function(){},setStyle:function(e){},getValue:function(){return this.getProperty("value")},setValue:function(e){this.setProperty("value",e)},_dispose:function(){},getParentWithName:function(e){},setProcessingIndicator:function(e,t){},scrollIntoView:function(e){},getScroll:function(){},setScroll:function(e){}}});
//*******************
//LOGICAL-PATH:aria/templates/DomEventWrapper.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.DomEventWrapper",$extends:"aria.DomEvent",$dependencies:["aria.templates.DomElementWrapper"],$constructor:function(e){var t=aria.templates.DomElementWrapper;this.$DomEvent.constructor.call(this,e),this.target=this.target?new t(this.target):null,this.relatedTarget=this.relatedTarget?new t(this.relatedTarget):null},$destructor:function(){this.target&&(this.target.$dispose(),this.target=null),this.relatedTarget&&(this.relatedTarget.$dispose(),this.relatedTarget=null
),this.$DomEvent.$destructor.call(this)},$prototype:{setTarget:function(e){this.target&&this.target.$dispose(),this.target=e?new aria.templates.DomElementWrapper(e):null}}});
//*******************
//LOGICAL-PATH:aria/templates/GlobalStyle.tpl.css
//*******************
{CSSTemplate {
    $classpath : "aria.templates.GlobalStyle"
}}

{macro main()}

.xLDI-text {
    position: relative;
    top: 50%;
    display:block;
    text-align:center;
    padding-top: 20px;
}

.xLDI {
	/* These default values can be overridden in the skin */
    background-color: #fff;
    {call opacity(80)/}
    width: 100%;
    height: 100%;
}

.xOverlay {
	/* These default values can be overridden in the skin */
    background-color: #ddd;
    border: 1px solid black;
    {call opacity(40)/}
}

.xModalMask-default {
    width:100%;
    height:100%;
    background-color: black;
    {call opacity(40)/}
}

.xOverflowAuto {
    overflow: auto;
}

.xOverflowHidden {
    overflow: hidden;
}

.xOverflowXAuto {
    overflow-x: auto;
}

.xOverflowYAuto {
    overflow-y: auto;
}

.xOverflowXHidden {
    overflow-x: hidden;
}

.xOverflowYHidden {
    overflow-y: hidden;
}

/* template div container style */
.xTplContent {
}

{/macro}

{macro opacity(percent)}
    filter: alpha(opacity=${percent});
    -moz-opacity: ${percent/100};
    opacity: ${percent/100};
{/macro}

{/CSSTemplate}
//*******************
//LOGICAL-PATH:aria/templates/IBaseTemplate.js
//*******************
Aria.interfaceDefinition({$classpath:"aria.templates.IBaseTemplate",$events:{},$interface:{__$write:function(e){}}});
//*******************
//LOGICAL-PATH:aria/templates/ICSS.js
//*******************
Aria.interfaceDefinition({$classpath:"aria.templates.ICSS",$extends:"aria.templates.IBaseTemplate",$events:{},$interface:{prefix:"Object"}});
//*******************
//LOGICAL-PATH:aria/templates/IModuleCtrl.js
//*******************
Aria.interfaceDefinition({$classpath:"aria.templates.IModuleCtrl",$events:{methodCallBegin:{description:"",properties:{method:"Name of the method about to be called."}},methodCallEnd:{description:"",properties:{method:"Name of the method which was called."}},methodCallback:{description:"",properties:{method:"Name of the method which was called."}},beforeDispose:{description:"",properties:{reloadingObject:"If the module controller is about to be reloaded, it contains an object which raises an 'objectLoaded' event when the module controller is reloaded."
}}},$interface:{init:{$type:"Function",$callbackParam:1},getData:function(){},setData:function(e,t){},getResourceSet:function(){},getSubModuleCtrl:function(e){},registerListener:function(e){},unregisterListeners:function(e){},setSession:function(e){}}});
//*******************
//LOGICAL-PATH:aria/templates/IObjectLoading.js
//*******************
Aria.interfaceDefinition({$classpath:"aria.templates.IObjectLoading",$events:{objectLoaded:{description:"",properties:{object:"Reference to the object just loaded."}}},$interface:{}});
//*******************
//LOGICAL-PATH:aria/templates/ITemplate.js
//*******************
Aria.interfaceDefinition({$classpath:"aria.templates.ITemplate",$extends:"aria.templates.IBaseTemplate",$events:{SectionRefreshed:{description:"",properties:{sectionID:"{String} ID of the section which has been refreshed - if defined, null otherwise."}}},$interface:{data:"Object",moduleCtrl:"Object",flowCtrl:"Object",moduleRes:"Object",$refresh:function(e){},$getChild:function(e,t){},$getElementById:function(e){},$focus:function(e){},$getFocusedWidget:function(){},$setFocusedWidget:function(){},$hdim:function(
e,t,n){},$vdim:function(e,t,n){},$getId:function(e){},getContainerScroll:function(){},setContainerScroll:function(e){},__$writeId:function(e){},__$processWidgetMarkup:function(e,t,n,r){},__$beginContainerWidget:function(e,t,n,r){},__$endContainerWidget:function(){},__$statementOnEvent:function(e,t,n){},__$statementRepeater:function(e,t){},__$createView:function(e,t,n){},__$beginSection:function(e,t,n,r){},__$endSection:function(){},__$bindAutoRefresh:function(){}}});
//*******************
//LOGICAL-PATH:aria/templates/ITemplateCtxt.js
//*******************
Aria.interfaceDefinition({$classpath:"aria.templates.ITemplateCtxt",$interface:{tplClasspath:"Object",moduleCtrl:"Object",moduleCtrlPrivate:"Object",moduleRes:"Object",flowCtrl:"Object",flowCtrlPrivate:"Object",data:"Object",$reload:"Function"}});
//*******************
//LOGICAL-PATH:aria/templates/Layout.js
//*******************
(function(){var e,t,n,r,i={width:{},height:{}},s,o=null,u=function(){o==null&&(o=[],aria.utils.AriaWindow.attachWindow(),n.addListener(Aria.$window,"resize",{fn:c}))},a=function(){r&&(t.cancelCallback(r),r=null),o!=null&&(n.removeListener(Aria.$window,"resize",{fn:c}),aria.utils.AriaWindow.detachWindow(),o=null)},f=function(){o==null&&e._listeners&&e._listeners.viewportResized?u():o!=null&&o.length===0&&(e._listeners==null||e._listeners["viewportResized"]==null)&&a()},l=function(t){var n;if(t.min!=null||t.max!=
null)n=Aria.minSizeMode&&t.min!=null?t.min:t.viewport,n!=null?(t.scrollbar&&(n-=e.getScrollbarsWidth()),t.min!=null&&n<t.min&&(n=t.min),t.max!=null&&n>t.max&&(n=t.max)):t.min==t.max&&(n=t.min);t.value=n},c=function(){r&&(t.cancelCallback(r),r=null),r=t.addCallback({fn:p,scope:e,delay:50})},h=function(){var t=e.viewportSize,n=aria.utils.Dom._getViewportSize();return n.width!=t.width||n.height!=t.height?(e.viewportSize=n,e.setSOViewport(i.width,n.width),e.setSOViewport(i.height,n.height),!0):!1},p=function(){r=
null;if(h()){var t=o.length;for(var n=0;n<t;n++){var i=o[n];e.setDivSize(i.domElt,i.width,i.height);var s=aria.templates.TemplateCtxtManager.getFromDom(i.domElt);if(s){var u=!1;s.$setViewportWidth(d(i.width,"width"))&&(u=!0),s.$setViewportHeight(d(i.height,"height"))&&(u=!0),u&&s.$refresh()}}h(),e.$raiseEvent({name:"viewportResized",viewportNewSize:e.viewportSize})}},d=function(t,n){return typeof t=="object"&&(t=e.getSODim(i[n],t.min,t.incrementFactor,t.max)),t};Aria.classDefinition({$classpath:"aria.templates.Layout"
,$dependencies:["aria.templates.CfgBeans","aria.templates.TemplateCtxtManager","aria.utils.Event","aria.core.Browser","aria.utils.Dom","aria.utils.AriaWindow"],$singleton:!0,$events:{viewportResized:{description:"",properties:{viewportNewSize:"{Object} New size of the viewport"}}},$constructor:function(){e=this,t=aria.core.Timer,h(),n=aria.utils.Event},$destructor:function(){a(),e=null,t=null,n=null},$statics:{LAYOUT_INCOHERENT_MIN_MAX:"Error while setting size configuration: min (%1) > max (%2).",MINSIZE_UNDEFINED
:"vdim or hdim cannot be used if container has no minimum size."},$prototype:{viewportSize:{width:null,height:null},$on:function(){this.$JsObject.$on.apply(this,arguments),f()},$unregisterListeners:function(){this.$JsObject.$unregisterListeners.apply(this,arguments),f()},$addListeners:function(){this.$JsObject.$addListeners.apply(this,arguments),f()},$removeListeners:function(){this.$JsObject.$removeListeners.apply(this,arguments),f()},registerAutoresize:function(e,t,n){o==null&&u(),o.push({domElt:e,width:t,
height:n})},unregisterAutoresize:function(e){if(o==null)return;var t=o.length,n=[];for(var r=0;r<t;r++){var i=o[r];i.domElt!=e&&n.push(i)}o=n,n.length===0&&f()},setRootDim:function(e){aria.core.JsonValidator.check(e,"aria.templates.CfgBeans.RootDimCfg"),this.setSOSizeCfg(i.width,e.width),this.setSOSizeCfg(i.height,e.height)},realWidth:function(e){return d(e,"width")},realHeight:function(e){return d(e,"height")},setDivSize:function(e,t,n,r){r==null&&(r="auto"),t=d(t,"width"),n=d(n,"height");var i=e.style;t&&(
i.width=t+"px"),n&&(i.height=n+"px");var s="";if(t!=null||n!=null)r=="auto"?s=" xOverflowAuto":r=="hidden"&&(s=" xOverflowHidden");var o=e.className;o?(o=o.replace(/\s*xOverflow\w+/g,""),o+=s):o=s,e.className=o},setSOSizeCfg:function(e,t){t.value!=null&&(t.min=t.value,t.max=t.value),e.min=t.min,e.max=t.max,e.scrollbar=t.scrollbar,e.min!=null&&e.max!=null&&e.min>e.max&&(this.$logError(this.LAYOUT_INCOHERENT_MIN_MAX,[e.min,e.max]),e.max=undefined),l(e)},setSOViewport:function(e,t){e.viewport=t,l(e)},getSODim:function(
e,t,n,r){var i=e.min;if(i==null)return this.$logError(this.MINSIZE_UNDEFINED),t;var s=e.value;n==null&&(n=1);var o=parseInt(t+(s-i)*n,10);return r!=null&&o>r&&(o=r),o},getScrollbarsWidth:function(){if(s!=null)return s;var e=Aria.$window.document,t=e.createElement("div"),n=e.createElement("div");return t.style.overflow="",t.style.position="absolute",t.style.left="-10000px",t.style.top="-10000px",t.style.width="500px",t.style.height="500px",aria.core.Browser.isIE7||(n.style.width="100%"),n.style.height="100%",
e.body.appendChild(t),t.appendChild(n),s=n.offsetWidth,t.style.overflow="scroll",s-=n.offsetWidth,e.body.removeChild(t),s}}})})();
//*******************
//LOGICAL-PATH:aria/templates/MarkupWriter.js
//*******************
(function(){Aria.classDefinition({$classpath:"aria.templates.MarkupWriter",$dependencies:["aria.templates.Section","aria.utils.Delegate","aria.templates.DomEventWrapper","aria.utils.Type"],$constructor:function(e,t){var n=t?t.filterSection:null;this._out=[],this._ctrlStack=[],this.tplCtxt=e,this.sectionState=n?this.SECTION_SEARCHING:this.SECTION_KEEP,this.write=n?this.__writeSkip:this.__writeOK,this._filterSection=n,this._topSection=n?null:new aria.templates.Section(this.tplCtxt,null,{isRoot:!0,ownIdMap:t&&t
.ownIdMap}),this._currentSection=this._topSection,this._delegateMap=null},$destructor:function(){this._currentSection=null,this._delegateMap=null,this._topSection&&(this._topSection.$dispose(),this._topSection=null)},$statics:{SECTION_SEARCHING:0,SECTION_KEEP:1,SECTION_SKIP:2,SECTION_FILTER_NOT_FOUND:"Error while refreshing template '%1': filter section '%2' was not found."},$prototype:{skipContent:!1,_beginSectionOrRepeater:function(e,t){if(this.sectionState==this.SECTION_SKIP)return;var n=e.id;if(this.sectionState!=
this.SECTION_KEEP&&n!=this._filterSection)return;var r=new t(this.tplCtxt,e);if(!r.cfgOk){r.$dispose();return}this.sectionState==this.SECTION_KEEP?(this._currentSection&&this._currentSection.addSubSection(r),r.writeBegin(this)):(this.sectionState=this.SECTION_KEEP,this.write=this.__writeOK),this._currentSection=r,r.writeContent(this)},repeater:function(e){this._beginSectionOrRepeater(e,aria.templates.Repeater),this.endSection()},beginSection:function(e){this._beginSectionOrRepeater(e,aria.templates.Section)}
,endSection:function(){if(this.sectionState!=this.SECTION_KEEP)return;var e=this._currentSection;e.id==this._filterSection?(this._topSection=this._currentSection,this.sectionState=this.SECTION_SKIP,this.write=this.__writeSkip):this.sectionState==this.SECTION_KEEP&&(e.writeEnd(this),this._currentSection=e.parent),this.$assert(99,!!this._currentSection)},addToCtrlStack:function(e){this._ctrlStack.push(e)},removeFromCtrlStack:function(){return this._ctrlStack.pop()},__writeOK:function(e){if(this._delegateMap)if(
e||e===0){e=""+e;var t=e.indexOf(">");if(t!=-1){var n=this._delegateMap;this._delegateMap=null;var r=function(e){var t=new aria.templates.DomEventWrapper(e),r=!0,i=n[e.type];return i&&(r=i.call(t)),t.$dispose(),r},i=aria.utils.Delegate.add(r);this._currentSection.delegateIds.push(i),this._out.push(e.substring(0,t)),this._out.push(" "+aria.utils.Delegate.getMarkup(i)),this._out.push(e.substring(t));return}}this._out.push(e)},__writeSkip:function(){},pushDelegate:function(e,t){if(!this._currentSection)return;var n=
aria.utils.Delegate;if(this.sectionState!=this.SECTION_KEEP)return;if(!n.isDelegated(e)){var r=n.add(t);this._currentSection.delegateIds.push(r),this.write(n.getFallbackMarkup(e,r,!0));return}t=new aria.utils.Callback(t),this._currentSection.delegateCallbacks.push(t),this._delegateMap||(this._delegateMap={}),this._delegateMap[e]=t},registerBehavior:function(e){this._currentSection&&this._currentSection.addBehavior(e)},callMacro:function(e){this.tplCtxt._callMacro(this,e)},getSection:function(){var e=this._topSection
;return e?(e.html=this._out.join(""),this._delegate=null):this.$logError(this.SECTION_FILTER_NOT_FOUND,[this.tplCtxt.tplClasspath,this._filterSection]),this._out=null,this._topSection=null,e}}})})();
//*******************
//LOGICAL-PATH:aria/templates/Modifiers.js
//*******************
(function(){var e,t={eat:{fn:function(){return""}},escape:{init:function(e){e.addDependencies(["aria.utils.String"])},fn:function(e){return aria.utils.String.escapeHTML(String(e))}},escapeforhtml:{init:function(e){e.addDependencies(["aria.utils.String"])},fn:function(e,t){return e==null?e:aria.utils.String.escapeForHTML(e+"",t)}},capitalize:{fn:function(e){return String(e).toUpperCase()}},"default":{fn:function(e,t,n){return e!=null?e:n?aria.templates.Modifiers.callModifier(n,[t]):t}},empty:{fn:function(e,t,
n){return!!e&&!/^\s*$/.test(e)?e:n?aria.templates.Modifiers.callModifier(n,[t]):t}},pad:{fn:function(e,t,n){e=""+e;var r=e.length;if(r<t){var i=n===!0,s=[],o=t-r,u="&nbsp;";i||s.push(e);for(var a=0;o>a;a++)s.push(u);return i&&s.push(e),s.join("")}return e}},dateformat:{init:function(e){e.addDependencies(["aria.utils.Date","aria.utils.Type"])},fn:function(e,t){if(aria.utils.Type.isDate(e))return aria.utils.Date.format(e,t);this.$logError(aria.templates.Modifiers.DATEFORMAT_MODIFIER_ENTRY,[e])}},timeformat:{init
:function(e){e.addDependencies(["aria.utils.Date","aria.utils.Type"])},fn:function(e,t){if(aria.utils.Type.isDate(e))return aria.utils.Date.format(e,t);this.$logError(aria.templates.Modifiers.DATEFORMAT_MODIFIER_ENTRY,[e])}},highlightfromnewword:{init:function(e){e.addDependencies(["aria.utils.String","aria.utils.Type"])},fn:function(t,n){var r=aria.utils,i=n.length;if(r.Type.isString(t)&&i){n=n.toLowerCase();var s=t.toLowerCase(),o;if(s.indexOf(n)===0)o=0;else{var u=n.replace(e,"\\$1"),a=(new RegExp("\\s"+u
,"i")).exec(s);if(!a)return t;o=a.index+1}var f=o,l=o+i,c=t.substring(f,l),h=r.String.stripAccents(c).toLowerCase();if(h===n)return t.substring(0,f)+"<strong>"+c+"</strong>"+t.substring(l)}return t}},starthighlight:{init:function(e){e.addDependencies(["aria.utils.String","aria.utils.Type"])},fn:function(e,t){if(aria.utils.Type.isString(e)&&t.length){var n=aria.utils.String.stripAccents(e.substring(0,t.length)).toLowerCase();t=t.toLowerCase();if(n===t)return"<strong>"+e.substring(0,t.length)+"</strong>"+e.substring
(t.length)}return e}},highlight:{init:function(e){e.addDependencies(["aria.utils.String","aria.utils.Type"])},fn:function(t,n){if(aria.utils.Type.isString(t)&&aria.utils.Type.isString(n)){var r=t.split(" "),i=n.split(" ").sort(function(e,t){var n=e.length,r=t.length;return n===r?0:n<r?1:-1});return aria.utils.Array.forEach(r,function(t,n,r){for(var s=0,o=i.length;t&&s<=o;s+=1){if(i[s]==null||i[s]==="")continue;var u=i[s].replace(e,"\\$1"),a=new RegExp("\\b"+u,"gim");!u.match(/\(/)||(a=new RegExp("[\\b\\(]"+u
.replace("\\(",""),"gim"));var f=a.exec(t);if(f!=null&&f.length>0){var l="<strong>"+f[0]+"</strong>";r[n]=t.replace(a,l);if(!!t.match(a))break}}}),r.join(" ")}return t}}};Aria.classDefinition({$classpath:"aria.templates.Modifiers",$singleton:!0,$constructor:function(){e=new RegExp("(\\"+"/.*+?|()[]{}\\".split("").join("|\\")+")","g")},$statics:{UNKNOWN_MODIFIER:"Unknown modifier %1.",DATEFORMAT_MODIFIER_ENTRY:"Entry %1 is not a date."},$prototype:{callModifier:function(e,n){e=""+e;var r=t[e.toLowerCase()];if(
r)return r.fn.apply(this,n);this.$logError(aria.templates.Modifiers.UNKNOWN_MODIFIER,[e])},initModifier:function(e,n){var r=t[e];r&&r.init&&r.init(n)}}})})();
//*******************
//LOGICAL-PATH:aria/templates/ModuleCtrl.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.ModuleCtrl",$extends:"aria.templates.PublicWrapper",$implements:["aria.templates.IModuleCtrl"],$dependencies:["aria.utils.Json","aria.utils.Type","aria.templates.ModuleCtrlFactory","aria.templates.RefreshManager","aria.modules.RequestMgr"],$constructor:function(){this.$PublicWrapper.constructor.call(this),this._data={},this._dataBeanName=null,this._smList=null,this.__resources=null,this._session=null,this.$requestHandler=null,this.$requestJsonSerializer=null,this
._enableMethodEvents==null&&(this.$logWarn(this.DEPRECATED_METHOD_EVENTS),this._enableMethodEvents=!0),this._enableMethodEvents=this._enableMethodEvents!==!0?!1:this._enableMethodEvents,this._enableMethodEvents&&this.$addInterceptor(this.$publicInterfaceName,{fn:this._interceptPublicInterface,scope:this})},$destructor:function(){this.$raiseEvent({name:"beforeDispose",reloadingObject:this.__$reloadingObject}),this._enableMethodEvents&&this.$removeInterceptors(this.$publicInterfaceName,this,this._interceptPublicInterface
),this._smLoads=null,this._data=null,this._resources=null,this._smList=null,aria.templates.ModuleCtrlFactory.__notifyModuleCtrlDisposed(this),this.$PublicWrapper.$destructor.call(this),this.$requestJsonSerializer=null},$statics:{INIT_CALLBACK_ERROR:"An error occured while processing a Module init callback in class %1",DATA_CONTENT_INVALID:"Content of datamodel does not match databean:\nbean name: %1,\nmodule class: %2",DEPRECATED_METHOD_EVENTS:"Generic method events (methodCallBegin, methodCallEnd, methodCallback) will be turned off by default in a future release. If the application relies on those events please set the enableMethodEvents variable to true. To already benefit from performance improvements by disabling them, you can set this variable to false."
},$prototype:{$hasFlowCtrl:!1,$publicInterfaceName:"aria.templates.IModuleCtrl",$init:function(e,t,n){e.json=aria.utils.Json},init:function(e,t){this.$callback(t,!0,this.INIT_CALLBACK_ERROR)},_interceptPublicInterface:function(e){e.step=="CallBegin"&&!aria.templates.ModuleCtrl.prototype[e.method]&&aria.templates.RefreshManager.stop();var t={name:"method"+e.step,method:e.method};this.$raiseEvent(t),e.step=="CallEnd"&&!aria.templates.ModuleCtrl.prototype[e.method]&&aria.templates.RefreshManager.resume()},submitJsonRequest
:function(e,t,n){var r=aria.utils.Type;if(r.isString(n)||r.isFunction(n)){var i={fn:n,scope:this};n=i}else r.isObject(n)&&n.scope==null&&(n.scope=this);var s={fn:this._submitJsonRequestCB,scope:this,args:{cb:n}},o={moduleName:this.$package,session:this._session,actionQueuing:null,requestHandler:this.$requestHandler,urlService:this.$urlService,requestJsonSerializer:this.$requestJsonSerializer};r.isString(e)?o.actionName=e:o.serviceSpec=e,aria.modules.RequestMgr.submitJsonRequest(o,t,s)},_submitJsonRequestCB:function(
e,t){aria.templates.RefreshManager.stop(),this.$callback(t.cb,e),aria.templates.RefreshManager.resume()},onSubModuleEvent:function(e,t){},_onSubModuleBeforeDisposeEvent:function(e,t){var n=this._smList;if(n)for(var r=0,i=n.length;r<i;r++)if(n[r]==e.src){aria.utils.Array.removeAt(n,r),e.reloadingObject&&e.reloadingObject.$onOnce({objectLoaded:{scope:this,fn:this.__onSubModuleReloaded}});break}},__onSubModuleReloaded:function(e){this._smList&&this._smList.push(e.object)},loadSubModules:function(e,t){aria.templates
.ModuleCtrlFactory.__loadSubModules(this,e,{fn:this.__onLoadSubModulesComplete,scope:this,args:t})},__onLoadSubModulesComplete:function(e,t){var n=e.subModules;n&&n.length>0&&(this._smList||(this._smList=[]),this._smList=this._smList.concat(e.subModules)),this.$callback(t,e)},disposeSubModule:function(e){aria.templates.ModuleCtrlFactory.__disposeSubModule(this,e)},getData:function(){return this._data},setData:function(e,t){this.json.inject(e,this._data,t),this._dataBeanName&&(aria.core.JsonValidator.normalize
({json:this._data,beanName:this._dataBeanName})||this.$logError(this.DATA_CONTENT_INVALID,[this._dataBeanName,this.$classpath]))},getResourceSet:function(){if(!this.__resources){if(!this.$resources)return undefined;this.__resources={};for(var e in this.$resources)this.$resources[e].hasOwnProperty("provider")?this.__resources[e]=this[e]:this.__resources[e]=Aria.getClassRef(this.$resources[e])}return this.__resources},getSubModuleCtrl:function(e){if(this._smList){var t=this._smList.length;for(var n=0;n<t;n++){
var r=this._smList[n];if(r&&e==r.getData())return r}}return this.$publicInterface()},registerListener:function(e){var t=this.$publicInterface();this.$on({"*":e},t)},unregisterListeners:function(e){var t=this.$publicInterface();this.$unregisterListeners(e,t)},setSession:function(e){this._session=e;if(this._smList){var t=this._smList.length;for(var n=0;n<t;n++){var r=this._smList[n];r&&r.setSession(e)}}}}});
//*******************
//LOGICAL-PATH:aria/templates/ModuleCtrlFactory.js
//*******************
(function(){var e="__$moduleCtrlId",t={},n=aria.core.Interfaces.generateKey,r=function(e,t){t&&this.$logError(this.EXCEPTION_CREATING_MODULECTRL,[e.desc.classpath],t),this.$callback(e.cb,{error:!0})},i=function(e){var t=new Function;return t.prototype=e,new t},s,o,u,a,f,l,c,h,p,d,v,m,g;s=function(e){var t=Aria.getClassRef(e.desc.classpath);t?(e.moduleCtrlConstr=t,o.call(this,e)):Aria.load({classes:[e.desc.classpath],oncomplete:{args:e,scope:this,fn:o},onerror:{args:e,scope:this,fn:r}})},o=function(e){try{var t=
e.desc.classpath,n=e.moduleCtrlConstr;n||(n=Aria.getClassRef(t),e.moduleCtrlConstr=n);if(!n||!aria.utils.Type.isInstanceOf(n.prototype,"aria.templates.ModuleCtrl"))return this.$logError(this.INVALID_MODULE_CTRL,[t]),r.call(this,e);var i=new e.moduleCtrlConstr(e.desc.constructorArgs);e.moduleCtrlPrivate=i;if(i.$hasFlowCtrl){var s=i.$hasFlowCtrl,o;s===!0&&(s=t+"Flow"),s=aria.core.environment.Customizations.getFlowCP(s),e.flowCtrlClasspath=s,o=Aria.getClassRef(s),o?(e.flowCtrlConstr=o,u.call(this,e)):Aria.load(
{classes:[s],oncomplete:{args:e,scope:this,fn:u},onerror:{args:e,scope:this,fn:r}})}else u.call(this,e)}catch(a){return r.call(this,e,a)}},u=function(s){try{var o=s.moduleCtrlPrivate,u=o.$publicInterface(),f,l;if(s.flowCtrlClasspath){s.flowCtrlConstr||(s.flowCtrlConstr=Aria.getClassRef(s.flowCtrlClasspath));if(!s.flowCtrlConstr||!aria.utils.Type.isInstanceOf(s.flowCtrlConstr.prototype,"aria.templates.FlowCtrl"))return this.$logError(this.INVALID_FLOW_CTRL,[s.flowCtrlClasspath]),r.call(this,s);f=new s.flowCtrlConstr
,f.setModuleCtrl(u),o.$addInterceptor(o.$publicInterfaceName,f),l=f.$publicInterface()}var c=n(t),h={moduleCtrlPrivate:o,moduleCtrl:u,flowCtrlPrivate:f,flowCtrl:l,subModuleInfos:s.subModuleInfos};t[c]=h,u[e]=c,o[e]=c,s.res={error:!1,moduleCtrlPrivate:o,moduleCtrl:u};var p=aria.core.environment.Customizations.getCustomModules(s.desc.classpath);if(p.length>0){var d=s.recursionCheck;d?d=i(d):d={},d[s.desc.classpath]=1,m.call(this,h,p,{fn:a,scope:this,args:s},!0,d)}else a.call(this,null,s)}catch(v){return r.call
(this,s,v)}},a=function(e,t){try{var n=t.registerListeners;n&&t.res.moduleCtrl.$on(n),t.session&&t.res.moduleCtrl.setSession(t.session);if(t.skipInit)this.$callback(t.cb,t.res);else{var i=t.desc.initArgs;i||(i={}),t.res.moduleCtrl.init(i,{fn:f,args:t,scope:this})}}catch(s){return r.call(this,t,s)}},f=function(e,t){this.$callback(t.cb,t.res)},l=function(n){var r=n[e],i=t[r];return i?i:(aria.templates.ModuleCtrlFactory.$logError(aria.templates.ModuleCtrlFactory.MODULECTRL_BYPASSED_FACTORY,[n.$classpath]),null)
},c=l,h=function(e,t){var n=l(e);return n?n.moduleCtrlPrivate!=e?(aria.templates.ModuleCtrlFactory.$logError(aria.templates.ModuleCtrlFactory.EXPECTING_MODULECTRL_PRIVATE,[t,e.$classpath]),null):n:null},p=function(e,t,n,r){var i=n.length,s;for(var o=0;o<i-1;o++)s=n[o],e[s]==null&&(e[s]={}),e=e[s];s=n[i-1];var u=!1;return r!=null?(e[s]==null&&(e[s]=[]),e=e[s],e[r]&&(u=!0),e[r]=t):(e[s]&&(u=!0),e[s]=t),u},d=function(e,t,n,r){var i=t.refpath,s=e.moduleCtrlPrivate,o=e.moduleCtrl.getData(),u=e.moduleCtrl,a=n?n.getData
():null,f;r?(f=[i],s=null):(f=i.split("."),i.charAt(0)=="_"&&(o=null,u=null));var l=!1;s&&(l=p(s,n,f,t.arrayIndex)||l),o&&(l=p(o,a,f,t.arrayIndex)||l),u&&(l=p(u,n,f,t.arrayIndex)||l),n!=null&&l&&this.$logError(this.SUBMODULE_REFPATH_ALREADY_USED,[i,t.classpath,e.moduleCtrlPrivate.$classpath])},v=function(e,t){var n=t.common,r=t.subModuleDesc,i=e.moduleCtrl;n.res.subModules[t.subModuleIdx]=i,n.alreadyLoaded++;if(i){var s=n.parentModule,o=s.subModules;d.call(this,s,r,i,n.customModules),o?o.push(e.moduleCtrlPrivate
):s.subModules=[e.moduleCtrlPrivate]}else{var u=t.error||this.SM_CREATION_FAILED;n.res.errors++,this.$logError(u,[r.refpath,r.classpath,n.parentModule.moduleCtrlPrivate.$classpath])}n.alreadyLoaded>=n.toBeLoaded&&this.$callback(n.cb,n.res)},m=function(e,t,n,r,i){var o=t.length;if(o===0){this.$callback(n,{subModules:[],errors:0});return}var u=e.moduleCtrlPrivate,a={cb:n,res:{subModules:[],errors:0},parentModule:e,alreadyLoaded:0,toBeLoaded:o,customModules:r},f=null,l=aria.utils.Type;for(var c=0;c<o;c++){var h=
t[c],p=!1;r&&l.isString(h)&&(h={classpath:h,refpath:"custom:"+h});var d=h.classpath;aria.core.JsonValidator.check(h,"aria.templates.CfgBeans.SubModuleDefinition")?r&&h.refpath.substring(0,7)!="custom:"?p=this.INVALID_CUSTOM_MODULE_REFPATH:i&&i[d]&&(p=this.CUSTOM_MODULES_INFINITE_RECURSION):p=this.INVALID_SM_DEF;if(p){v.call(this,{},{error:p,subModuleIdx:c,subModuleDesc:h,common:a});continue}s.call(this,{recursionCheck:i,subModuleInfos:{parentModule:e,customModule:r,subModuleDesc:h},registerListeners:r?null:{"*"
:{fn:u.onSubModuleEvent,scope:u,args:{smRef:h.refpath}},beforeDispose:{fn:u._onSubModuleBeforeDisposeEvent,scope:u,args:{smRef:h.refpath}}},desc:{classpath:d,initArgs:h.initArgs,constructorArgs:h.constructorArgs},session:e.moduleCtrlPrivate._session,cb:{fn:v,scope:this,args:{subModuleIdx:c,subModuleDesc:h,common:a}}})}},g=function(e,t){var n=t.objectLoading,r=e.subModules[0];if(r){var i=aria.core.Interfaces;i.linkItfWrappers(t.oldModuleCtrl,r);if(t.oldFlowCtrl){var s=l(r),o=s.flowCtrl;o&&i.linkItfWrappers(t.
oldFlowCtrl,o)}}n.notifyObjectLoaded(r),n.$dispose(),this.$callback(t.callback)},Aria.classDefinition({$classpath:"aria.templates.ModuleCtrlFactory",$dependencies:["aria.templates.CfgBeans","aria.templates.ObjectLoading","aria.core.environment.Customizations"],$singleton:!0,$statics:{INVALID_SM_DEF:"Sub-module load failure: invalid module definition:\nreference: %1,\nclasspath: %2,\nparent class: %3",INVALID_CUSTOM_MODULE_REFPATH:"Error : invalid custom module refpath.\nrefpath: %1\nmodule class: %2\nparent class: %3"
,CUSTOM_MODULES_INFINITE_RECURSION:"Error: custom modules infinite recursion detected.\nrefpath: %1\nmodule class: %2\nparent class: %3",SM_CREATION_FAILED:"Sub-module creation failed:\nmodule name: %1,\nmodule class: %2\nparent class: %3",MODULECTRL_BYPASSED_FACTORY:"Error : module controller is already disposed or was not created using the module controller factory.\nmodule class: %1.",INVALID_MODULE_CTRL:"Error: %1 is not a module controller.",INVALID_FLOW_CTRL:"Error: %1 is not a flow controller.",EXPECTING_MODULECTRL_PRIVATE
:"Error: %1 expected the whole module controller and only an interface was provided.\nmodule class: %2",EXCEPTION_CREATING_MODULECTRL:"Error: an exception occurred during the process of module controller creation.\nmodule class: %1",SUBMODULE_REFPATH_ALREADY_USED:"Sub-module refpath is already used (the existing path was replaced).\nrefpath: %1\nmodule class: %2\nparent class: %3",EXCEPTION_SUBMODULE_DISPOSE:"An exception occurred while disposing a sub-module.\nparent module class: %1\nchild module class: %2"
,RELOAD_ONLY_FOR_SUBMODULES:"The module reload feature is only available for sub-modules, and not for root modules.\nmodule class: %1",DISPOSE_NOT_SUBMODULE:"Error: disposeSubModule was called with a parameter which is not a sub-module of the current module.\nparent module class: %1\nclass of the parameter: %2"},$prototype:{createModuleCtrl:function(e,t,n){var r={desc:e,cb:t,skipInit:n};s.call(this,r)},__disposeSubModule:function(e,t){var n=l(t);if(!n)return;var r=n.subModuleInfos;if(!r||r.parentModule.moduleCtrlPrivate!=
e){this.$logError(this.DISPOSE_NOT_SUBMODULE,[e.$classpath,n.moduleCtrlPrivate.$classpath]);return}n.moduleCtrlPrivate.$dispose()},__loadSubModules:function(e,t,n){var r=h(e,"loadSubModules");if(!r)return this.$callback(n,{error:!0});m.call(this,r,t,n,!1)},__getModulePrivateInfoMethod:function(){var e=c;return c=null,e},isModuleCtrlReloadable:function(n){if(n==null)return!1;var r=n[e],i=t[r];if(!i)return!1;if(i.moduleCtrlPrivate!=n)return!1;var s=i.subModuleInfos;return s!=null},reloadModuleCtrl:function(e,t
){var n=h(e,"reloadModuleCtrl");if(!n)return;var r=n.subModuleInfos;if(r==null){this.$logError(this.RELOAD_ONLY_FOR_SUBMODULES,[e.$classpath]);return}var i=r.parentModule;this.$assert(668,i!=null);var s=n.moduleCtrl,o=n.flowCtrl,u=aria.core.ClassMgr,a=[e.$classpath,e.$publicInterfaceName],f=n.flowCtrlPrivate;f&&(a[2]=f.$classpath,a[3]=f.$publicInterfaceName);var l=new aria.templates.ObjectLoading;e.__$reloadingObject=l,e.$dispose();for(var c=0,p=a.length;c<p;c++)u.unloadClass(a[c],!0);m.call(this,i,[r.subModuleDesc
],{fn:g,scope:this,args:{objectLoading:l,oldModuleCtrl:s,oldFlowCtrl:o,callback:t}},r.customModule)},__notifyModuleCtrlDisposed:function(n){var r=n[e],i=h(n,"notifyModuleCtrlDisposed");if(!i)return;i.isDisposing=!0;var s=i.subModuleInfos,o=s?s.parentModule:null;o&&!o.isDisposing&&(aria.utils.Array.remove(o.subModules,n),d.call(this,o,s.subModuleDesc,null,s.customModule));var u=i.subModules;if(u){for(var a=u.length-1;a>=0;a--)try{u[a].$dispose()}catch(f){this.$logError(this.EXCEPTION_SUBMODULE_DISPOSE,[n.$classpath
,u[a].$classpath],f)}i.subModules=null}t[r]=null,delete t[r],i.flowCtrlPrivate&&(i.flowCtrlPrivate.$dispose(),i.flowCtrlPrivate=null,i.flowCtrl=null),i.moduleCtrl=null,i.moduleCtrlPrivate=null,i.subModuleInfos=null}}})})();
//*******************
//LOGICAL-PATH:aria/templates/NavigationManager.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.NavigationManager",$singleton:!0,$dependencies:["aria.utils.Type","aria.templates.CfgBeans"],$constructor:function(){this._tableNavMarker=Aria.FRAMEWORK_PREFIX+"tableNavDone",this._keyMapMarker=Aria.FRAMEWORK_PREFIX+"keyMapDone",this.globalKeyMap=[],this._hasModalBehaviour=!1},$statics:{INVALID_GLOBAL_KEYMAP_CFG:"Invalid global keymap configuration."},$prototype:{addGlobalKeyMap:function(e){var t={json:e,beanName:"aria.templates.CfgBeans.GlobalKeyMapCfg"};aria
.core.JsonValidator.normalize(t)?(e=t.json,this.globalKeyMap.push(e)):this.$logError(this.INVALID_GLOBAL_KEYMAP_CFG)},removeGlobalKeyMap:function(e){for(var t=0,n=this.globalKeyMap.length,r;t<n;t++){r=this.globalKeyMap[t];if(r.key==e.key&&!!e.alt==!!r.alt&&!!e.shift==!!r.shift&&!!e.ctrl==!!r.ctrl)return this.globalKeyMap.splice(t,1),!0}return!1},handleNavigation:function(e,t,n,r){var i;if(n.type=="keyup"||n.type=="keydown")!n[this._tableNavMarker]&&n.type=="keydown"&&(n[this._tableNavMarker]=this._handleTableNavigation
(t,n)),n[this._keyMapMarker]||(n[this._keyMapMarker]=this._handleKeyMap(e,n))},handleGlobalNavigation:function(e){if(e.type=="keyup"||e.type=="keydown")e[this._keyMapMarker]||(e[this._keyMapMarker]=this._handleKeyMap(this.globalKeyMap,e,!0))},focusFirst:function(e,t){var n;if(e.nodeType==1){var r=e.childNodes,i=r.length,s=t?i-1:0,o;for(;s>-1&&s<i;t?s--:s++){o=r[s],n={fn:function(){this._focusNext(o,t)},scope:this};if(this._doFocus(o,n))return!0;if(this.focusFirst(o,t))return!0}return!1}return!1},setModalBehaviour
:function(e){this._hasModalBehaviour=e},_focusNext:function(e,t){var n=Aria.$window.document.body,r;while(!r){t?r=e.previousSibling:r=e.nextSibling;if(!r){e=e.parentNode;if(!e||e==n)return!1}}return!this._doFocus(r)&&!this.focusFirst(r,t)?this._focusNext(r,t):!0},_doFocus:function(e,t){if(e.nodeType!=1)return!1;if(e.__widget){if(e.__widget.focus){var n=e.__widget.focus(null,t);return!!n}return!1}var r=e.nodeName,i=e.getAttributeNode("tabindex");if((r=="INPUT"||r=="TEXTAREA"||r=="A"||r=="BUTTON"||i&&i.specified&&
i.nodeValue!=-1)&&!e.disabled)try{return e.focus(),!0}catch(s){return!1}return!1},_handleTableNavigation:function(e,t){var n=t.keyCode,r=!1;if(e===!1||n>40||n<37)return!0;if(!e)return!1;e===!0&&(e={});var i=this._validateModifiers(e,t);if(i){var s=t.target,o=this._getContainingTD(s);if(o){var u=o.parentNode.parentNode,a=this._getTableMap(u,o);r=this._navigateMap(u,a,t)}else n==t.KC_ARROW_DOWN?r=this._focusNext(s):n==t.KC_ARROW_UP&&(r=this._focusNext(s,!0));return r&&t.preventDefault(),!0}},_validateModifiers
:function(e,t){return t.altKey==!!e.alt&&t.shiftKey==!!e.shift&&t.ctrlKey==!!e.ctrl},_navigateMap:function(e,t,n){var r=n.keyCode,i=t.map,s=t.pos,o=0,u=0;r==n.KC_ARROW_UP?o=-1:r==n.KC_ARROW_DOWN?o=1:r==n.KC_ARROW_LEFT?u=-1:u=1;var a=!1,f=s,l,c,h,p,d=s.rowIndex,v=s.mapCellIndex;do{u!==0?v+=u:d+=o;if(d<0||d>=i.length)return this._focusNext(e,d<0);l=i[d],p=!1;if(v<0||v>=l.length){if(o===0)return!1;u==1?(u=-1,v=s.mapCellIndex):(u=1,v=s.mapCellIndex-1,d+=o),p=!0}if(!p){h=i[d][v];if(h!=f){o!==0&&u!==0&&(o==-1&&h.rowIndex+
h.rowSpan-1!=d?p=!0:o==1&&h.rowIndex!=d&&(p=!0));if(!p){c=e.rows[h.rowIndex].cells[h.cellIndex],f=h;if(!c)return!1;a=this.focusFirst(c),!a&&o!==0&&u===0&&(u=1)}}}}while(!a);return!0},_getContainingTD:function(e){var t=Aria.$window.document.body,n=e;while(n&&n!=t){if(n.nodeName=="TD"&&!n.parentNode.parentNode.attributes.isFrame)return n;n=n.parentNode}return},_getTableMap:function(e,t){var n=[],r,i=e.rows;for(var s=0,o=i.length;s<o;s++){var u=i[s].cells,a=n[s];a||(a=[],n[s]=a);var f=0;for(var l=0,c=u.length;l<
c;l++){var h=u[l],p=h.rowSpan,d=h.colSpan,v=a[f];while(v)v=a[++f];var m={rowIndex:s,cellIndex:l,rowSpan:p,mapCellIndex:f};h==t&&(r=m);for(var g=0;g<p;g++){var y=n[s+g];y||(y=[],n[s+g]=y);for(var b=0;b<d;b++)y[f+b]=m}f+=d}}return{map:n,pos:r}},_handleKeyMap:function(e,t,n){var r=t.keyCode,i=!1,s=!1,o,u;if(!e||!r)return!1;for(var a=0,f;f=e[a];a++)if(this._validateModifiers(f,t)){u=f&&"event"in f?f.event:"keydown";if(!f.key||u!=t.type)return!1;if(n===!0&&this._hasModalBehaviour&&!f.modal)continue;if(aria.utils.
Type.isNumber(f.key)){if(f.key==r){i=this.$callback(f.callback),s=!0;break}}else if(f.key!=="*"){if(t["KC_"+f.key.toUpperCase()]==r){i=this.$callback(f.callback),s=!0;break}}else o=f.callback}return s?i?!1:(t.preventDefault(),!0):o?!this.$callback(o):!1}}});
//*******************
//LOGICAL-PATH:aria/templates/ObjectLoading.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.ObjectLoading",$extends:"aria.templates.PublicWrapper",$implements:["aria.templates.IObjectLoading"],$constructor:function(){this.$PublicWrapper.constructor.call(this)},$prototype:{$publicInterfaceName:"aria.templates.IObjectLoading",notifyObjectLoaded:function(e){this.$raiseEvent({name:"objectLoaded",object:e})}}});
//*******************
//LOGICAL-PATH:aria/templates/Parser.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.Parser",$dependencies:["aria.utils.String"],$singleton:!1,$constructor:function(){this.template=null,this.__lineNumbers=null,this.__currentLn=0,this._keepWhiteSpace=!1},$statics:{MISSING_CLOSINGBRACES:"line %1: Template parsing error: could not find corresponding '}'.",EXPECTING_OTHER_CLOSING_STATEMENT:"line %4: Template parsing error: found closing statement '%2', but '%1' (line %3) should be closed first.",INVALID_STATEMENT_NAME:"line %2: Template parsing error: invalid statement name: '%1'"
,STATEMENT_CLOSED_NOT_OPEN:"line %2: Template parsing error: could not find corresponding open statement for closing statement '%1'.",MISSING_CLOSING_STATEMENT:"line %2: Template parsing error: statement '%1' was open but never closed."},$prototype:{parseTemplate:function(e,t,n){},_prepare:function(e){e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),e=e.replace(/\/\/.*\{(\/)?CDATA\}.*$/gm,"");var t=e.split("{CDATA}"),n=[],r;n.push(t[0]);for(var i=1,s=t.length;i<s;i++){r=t[i].split("{/CDATA}");if(r.length!=2){this
.$logError(this.MISSING_CLOSING_STATEMENT,"CDATA",this.context),this.template=e;return}n=n.concat(r)}for(var o=0,s=n.length,u,a;o<s;o++){u=n[o];if(o%2===0){var f=/\/\*(.|\n|\r)*?\*\//m;while(a=u.match(f)){a+="";var l="",c=-1;while((c=a.indexOf("\n",c+1))!=-1)l+="\n";u=u.replace(f,l)}u=u.replace(/^\/\/.*$/gm,""),u=u.replace(/([^\:])\/\/(?=(?:(?:[^"]*"){2})*[^"]*$).*$/gm,"$1"),this._keepWhiteSpace||(u=u.replace(/^[ \t]+/gm,""),u=u.replace(/[ \t]+$/gm,""))}else u="{CDATA}"+u+"{/CDATA}";n[o]=u}e=n.join(""),this.
template=e},_computeLineNumbers:function(){var e=this.template;this.__lineNumbers=[0];var t=e.indexOf("\n");while(t!=-1)this.__lineNumbers.push(t),t=e.indexOf("\n",t+1)},positionToLineNumber:function(e){var t=this.__lineNumbers,n=t.length,r;for(r=this.__currentLn;r<n;r++)if(e<t[r]){if(r>0&&t[r-1]>e)break;return this.__currentLn=r,r}for(r=0;r<this.__currentLn;r++)if(e<t[r])return this.__currentLn=r,r;return this.__lineNumbers.length},__findClosingBraces:function(e,t){var n=t,r=0,i=-1,s=-1,o=aria.utils.String;
do i<n&&(i=o.indexOfNotEscaped(e,"{",n)),s<n&&(s=o.indexOfNotEscaped(e,"}",n)),i>-1&&i<s?(r++,n=i+1):s>-1&&(r--,n=s+1);while(r>=0&&s>-1);return this.$assert(163,s==-1||r<0&&(s<i||i==-1)),{indexClose:s,indexOpen:i}},__unescapeParam:function(e,t,n){var r=e.substring(t,n);return r=r.replace(/^[\r\n]+/,""),r=r.replace(/[\r\n]+$/,""),r=r.replace(/\\([\/\{\}\$\\*])/g,"$1"),r},__unescapeText:function(e,t,n){var r=e.substring(t,n);return/^[\r\n]*$/.test(r)?"":(r=r.replace(/\\([\/\{\}\$\\*])/g,"$1"),r)},__logError:function(
e,t,n){n||(n=[]),n.push(this.positionToLineNumber(e)),this.$logError(t,n,this.context)},_buildTree:function(){var e=aria.utils.String;this.__currentLn=0;var t=this.template,n=0,r=0,i=e.indexOfNotEscaped(t,"{"),s=!1,o,u=[],a={name:"#ROOT#",paramBlock:"",parent:null,content:u,lineNumber:0},f=[a];while(i!=-1){s=t.charAt(i-1)=="$"&&!e.isEscaped(t,i-1),r=s?i-1:i,r-n>0&&(o={name:"#TEXT#",parent:f[f.length-1],firstCharParamIndex:n,lastCharParamIndex:r,paramBlock:this.__unescapeText(t,n,r),lineNumber:this.positionToLineNumber
(n)},o.paramBlock.length>0&&u.push(o)),n=i+1;var l=this.__findClosingBraces(t,n);r=l.indexClose,i=l.indexOpen;if(r==-1)return this.__logError(n,this.MISSING_CLOSINGBRACES),null;if(s)u.push({name:"#EXPRESSION#",parent:f[f.length-1],firstCharParamIndex:n,lastCharParamIndex:r,paramBlock:this.__unescapeParam(t,n,r),lineNumber:this.positionToLineNumber(n)}),n=r+1;else if(t.charAt(n)=="/"){n++,o=f.pop();var c=t.substring(n,r);if(f.length===0)return this.__logError(n,this.STATEMENT_CLOSED_NOT_OPEN,[c]),null;if(o.name!=
c){for(var h=f.length-1;h>=1;h--)if(f[h].name==c)return this.__logError(n,this.EXPECTING_OTHER_CLOSING_STATEMENT,[o.name,c,o.lineNumber]),null;return this.__logError(n,this.STATEMENT_CLOSED_NOT_OPEN,[c]),null}o.lastCharContentIndex=n-2,u=f[f.length-1].content,n=r+1,c=null}else{var p=r+1,d=t.charAt(r-1)=="/"&&!e.isEscaped(t,r-1),v,m;d&&r--,o={parent:f[f.length-1],lastCharParamIndex:r},u.push(o),m=e.nextWhiteSpace(t,n,r,/[\s\{]/),m==-1?(m=r,v=t.substring(n,r)):(v=t.substring(n,m),t.charAt(m)!="{"&&m++),o.firstCharParamIndex=
m,o.lineNumber=this.positionToLineNumber(m);if(v!="CDATA"){o.name=v,d||(o.content=[],o.firstCharContentIndex=p,f.push(o),u=o.content);if(!/^[_\w@:]+$/.test(o.name))return this.__logError(n,this.INVALID_STATEMENT_NAME,[o.name]),null;o.paramBlock=this.__unescapeParam(t,m,r),n=p}else{o.name="#CDATA#";var g=t.indexOf("{/CDATA}");if(g==-1)return this.__logError(n,this.MISSING_CLOSING_STATEMENT,["CDATA"]),null;o.paramBlock=t.substring(r+1,g);var l=this.__findClosingBraces(t,g+1);n=l.indexClose+1,i=l.indexOpen}}}return r=
t.length,r-n>0&&(o={name:"#TEXT#",parent:f[f.length-1],firstCharParamIndex:n,lastCharParamIndex:r,paramBlock:this.__unescapeText(t,n,r),lineNumber:this.positionToLineNumber(n)},o.paramBlock.length>0&&u.push(o)),f.length>1?(this.__logError(f[f.length-1].firstCharContentIndex,this.MISSING_CLOSING_STATEMENT,[f[f.length-1].name]),null):(this.template=this.__lineNumbers=null,a)}}});
//*******************
//LOGICAL-PATH:aria/templates/PublicWrapper.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.PublicWrapper",$prototype:{$publicInterfaceName:null,$publicInterface:function(){return this.$interface(this.$publicInterfaceName)}}});
//*******************
//LOGICAL-PATH:aria/templates/RefreshManager.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.RefreshManager",$singleton:!0,$constructor:function(){this._stops=0,this._queue=[],this._hierarchies=[],this._updatedNodes=[],this._nodesToRefresh=[],this._isResuming=!1},$destructor:function(){this._queue=null,this._hierarchies=null,this._updatedNodes=null,this._nodesToRefresh=null},$statics:{PARENT_PROP:Aria.FRAMEWORK_PREFIX+"containedIn"},$prototype:{queue:function(e,t){this._queue.push({cb:e,elem:t})},stop:function(){this._isResuming||this._stops++},_triggerCB
:function(e){var t=e.scope,n;t=t?t:this,e.fn?n=e.fn:n=e,typeof n=="string"&&(n=t[n]),e.scope.$Widget?n.call(t,null,e.args):n.call(t,e.args)},resume:function(){if(this._isResuming)return;this._stops--;if(this._stops>0)return;this._stops=0,this._isResuming=!0;var e=this._queue.length;if(Aria.rootTemplates==null||Aria.rootTemplates.length===0){for(var t=0;t<e;t++)this._triggerCB(this._queue[t].cb);this._queue=[],this._isResuming=!1;return}this.updateHierarchies(),this._updatedNodes.length=0;var n=this._hierarchies
.length,r=[];for(var i=0;i<n;i++){var s=this._hierarchies[i];for(var o=0;o<e;o++){var u=this._queue[o],a=this._findInHierarchy(u,s);a&&(a.updated||(a.updated=!0,a.qElem=u,this._updatedNodes.push(a)),this._queue.splice(o,1),o--,e--)}}this._computeMinimal();var u,f;for(var t=0,l=this._nodesToRefresh.length;t<l;t++)u=this._nodesToRefresh[t].qElem,f=u.cb,this._triggerCB(f);for(var c=0;c<e;c++)u=this._queue[c],f=u.cb,this._triggerCB(f);this._queue=[],this._isResuming=!1},isResuming:function(){return this._isResuming
},_findInHierarchy:function(e,t){if(this._elemMatches(e,t))return t;if(t.content==null)return null;if(t.content.length>0)for(var n=0;n<t.content.length;n++){var r=t.content[n],i=this._findInHierarchy(e,r);if(i!=null)return i}return null},_elemMatches:function(e,t){var n=e.cb.args&&(e.cb.args.filterSection!=null||e.cb.args.outputSection!=null);if(n){if(t.type=="section"){var r=t.elem.tplCtxt;if(r!=e.elem)return!1;var i=e.cb.args.filterSection||e.cb.args.outputSection,s=t.elem.id;return i==s}return!1}if(t.type=="template"
)return e.elem==t.elem;if(t.type=="templateWidget")return t.elem.behavior?t.elem.behavior.subTplCtxt==e.elem:t.elem.subTplCtxt==e.elem;if(t.type=="widget")return t.elem.behavior._subTplCtxt==e.elem?!0:t.elem.behavior==e.elem;if(t.type=="section")return t.elem==e.elem},isStopped:function(){return this._stops>0},getHierarchies:function(){return this._hierarchies},updateHierarchies:function(){this._hierarchies.length=0;for(var e=0;e<Aria.rootTemplates.length;e++){var t=Aria.rootTemplates[e];if(t._mainSection){var n=
this._fillNode(t);this._hierarchies.push(n)}}},_computeMinimal:function(){this._nodesToRefresh.length=0;for(var e=0;e<this._hierarchies.length;e++)this._markSubnodesToRefresh(this._hierarchies[e])},_markSubnodesToRefresh:function(e){if(e.updated){this._nodesToRefresh.push(e);var t=e.elem;if(!t.refreshManagerWholeUpdate)return;if(t.refreshManagerWholeUpdate())return}if(e.content&&e.content.length>0)for(var n=0;n<e.content.length;n++){var r=e.content[n];this._markSubnodesToRefresh(r)}},_fillNode:function(e){var t=
[],n={type:null,elem:e,content:[]};if(e.$classpath=="aria.templates.TemplateCtxt"){n.type="template";var r=e._mainSection._content;this._addContent(n,r)}else if(e.$classpath=="aria.widgets.Template"){n.type="templateWidget";if(e.subTplCtxt&&e.subTplCtxt._mainSection){var i=e.subTplCtxt._mainSection._content;this._addContent(n,i)}}else if(e._type==1){var s=e.behavior;if(s.$classpath=="aria.widgets.Template"){n.type="templateWidget";if(s.subTplCtxt&&s.subTplCtxt._mainSection){var i=s.subTplCtxt._mainSection._content
;this._addContent(n,i)}}else{n.type="widget";if(e.behavior._subTplCtxt){var o=e.behavior._subTplCtxt._mainSection._content;this._addContent(n,o)}else if(e.behavior.$classpath=="aria.widgets.form.DatePicker"){if(e.behavior.controller._calendar&&e.behavior.controller._calendar._tplWidget){var u=[e.behavior.controller._calendar._tplWidget];this._addContent(n,u)}}else if(e.behavior.$classpath=="aria.widgets.form.MultiSelect"){if(e.behavior.controller._listWidget){var u=[e.behavior.controller._listWidget._tplWidget
];this._addContent(n,u)}}else n.content=null}}else if(e.idMap!=null){n.type="section";var a=e._content;this._addContent(n,e._content)}return n},_addContent:function(e,t){for(var n=0;n<t.length;n++){var r=this._fillNode(t[n]);r[this.PARENT_PROP]=e,e.content.push(r)}}}});
//*******************
//LOGICAL-PATH:aria/templates/Repeater.js
//*******************
(function(){var e=null,t=null,n=null,r=null,i=function(e){return e&&(t.isFunction(e)||e.fn)};Aria.classDefinition({$classpath:"aria.templates.Repeater",$extends:"aria.templates.Section",$constructor:function(t,n,r){n.id==null&&(n.id=e.getId(),this._dynamicId=n.id),this.$Section.constructor.call(this,t,n,r);if(!this.cfgOk)return;if(n.macro){this.cfgOk=!1,this.$logError(this.REPEATER_MACRO_NOT_SUPPORTED,[this.tplCtxt.tplClasspath,this.id]);return}this.items=[],this.itemsMap=null,this._childIdSuffix=0,this._loopType=
n.loopType,this.iteratedSet=n.content;if(!this._updateLoopType()){this.cfgOk=!1;return}this._registerIteratedSetListener(),this._setChildSectionsCfg(n.childSections)},$destructor:function(){this._dynamicId&&e.releaseId(this._dynamicId),this._unregisterIteratedSetListener(),this.$Section.$destructor.call(this)},$onload:function(){e=new aria.utils.IdManager("__repeater"),t=aria.utils.Type,n=aria.utils.Json,r=aria.utils.Array},$onunload:function(){e.$dispose(),e=null,t=null,r=null,n=null},$statics:{REPEATER_INVALID_ITERATED_SET
:"Error in template '%1': the value declared in bindContentTo in the repeater '%2' is not valid or not compatible with the loopType property (%3).",VIEWS_NOT_SUPPORTED:"Template %1, repeater %2: support for views is not yet implemented in the repeater.",REPEATER_MACRO_NOT_SUPPORTED:"Error in template '%1', in the repeater '%2': the macro property is not supported for repeaters."},$prototype:{beforeRefresh:function(e){e.writerCallback={fn:this._refreshWriterCallback,scope:this}},_refreshWriterCallback:function(
e){this.items=[],this.itemsMap={},this._childIdSuffix=0,this.writeContent(e)},_createSectionParam:function(e){var t=this._childSections,n=this._childSectCBProp,r=this._childSectConstProp,i={};e.sectionId=this.tplCtxt.evalCallback(t.id,e),i.id=e.sectionId;var s,o,u;for(s=0,o=n.length;s<o;s++)u=n[s],i[u]=this.tplCtxt.evalCallback(t[u],e);for(s=0,o=r.length;s<o;s++)u=r[s],i[u]=t[u];return i},_initItem:function(e){e.iteratedSet=this.iteratedSet,e.sectionIdSuffix=""+this._childIdSuffix,this._childIdSuffix++},_writeRepeaterItem
:function(e){this._initItem(e),this.items[e.ct-1]=e;var t=this._createSectionParam(e);this.tplCtxt.__$beginSection(0,!1,t),this.tplCtxt.__$endSection()},_loopOver_array:function(e,t,n){for(var r=0,i=e.length;r<i;r++)t.call(this,{index:r,ct:r+1,item:e[r]},n)},_loopOver_sortedView:function(e,t,n){e.refresh();var r=e.items;for(var i=0,s=r.length;i<s;i++){var o=r[i];t.call(this,{index:i,ct:i+1,info:o,item:o.value},n)}},_loopOver_filteredView:function(e,t,n){e.refresh();var r=e.items,i=1;for(var s=0,o=r.length;s<
o;s++){var u=r[s];u.filteredIn&&(t.call(this,{index:s,ct:i,info:u,item:u.value},n),i++)}},_loopOver_pagedView:function(e,t,n){e.refresh();var r=e.pages[e.currentPageIndex],i=e.items,s=1;for(var o=r.firstItemIndex,u=r.lastItemIndex;o<=u;o++){var a=i[o];a.filteredIn&&(t.call(this,{index:o,ct:s,info:a,item:a.value},n),s++)}},_loopOver_map:function(e,t,r){var i=1;this.itemsMap={};for(var s in e)if(e.hasOwnProperty(s)&&!n.isMetadata(s)){var o={index:s,ct:i,item:e[s]};t.call(this,o,r),this.itemsMap[s]=o,i++}},_defaultCallback_id
:function(e,t){return t+e.sectionIdSuffix},_defaultCallback_macro:function(e,t){var n=r.clone(t.args);return n.push(e),{name:t.name,args:n,scope:t.scope}},_setChildSectionsCfg:function(e){var t={},n=[],r=[];for(var s in e)if(e.hasOwnProperty(s)){var o=e[s];t[s]=o,i(o)?s!="id"&&n.push(s):s=="id"||s=="macro"?(s=="macro"&&(o=this.tplCtxt.checkMacro(o)),t[s]={fn:this["_defaultCallback_"+s],args:o,scope:this},s!="id"&&n.push(s)):r.push(s)}this._childSectCBProp=n,this._childSectConstProp=r,this._childSections=t},_registerIteratedSetListener
:function(){var e=this._loopType;if(e=="array"||e=="map"){var t={scope:this,fn:this._notifyChange};n.addListener(this.iteratedSet,null,t),this._iteratedSetListener=t}},_unregisterIteratedSetListener:function(){var e=this._iteratedSetListener;e&&(n.removeListener(this.iteratedSet,null,e),this._iteratedSetListener=null)},_notifyIteratedSetReplaced:function(e){this._unregisterIteratedSetListener(),this.tplCtxt.$refresh({outputSection:this.id})},refreshManagerWholeUpdate:function(){return this.$assert(341,this._refreshMgrInfo
),this._refreshMgrInfo.queue==null},_refreshManagerCallback:function(){var e=this._refreshMgrInfo;if(!e)return;this._refreshMgrInfo=null;var t=e.queue;if(t)for(var n=0,r=t.length;n<r;n++)this._notifyChange(t[n]);else this.tplCtxt.$refresh(e.refreshArgs)},_checkRefreshManager:function(e){if(aria.templates.RefreshManager.isStopped()){var t=this._registerInRefreshMgr().queue;return t&&t.push(e),!0}return!1},_notifyChange_array:function(e){if(this._checkRefreshManager(e))return;var t=e.change,r=this.items;if(t==
n.VALUE_CHANGED||t==n.KEY_REMOVED||t==n.KEY_ADDED){var i=parseInt(e.dataName,10);if(i!=e.dataName||i<0)return;if(i<r.length)n.setValue(r[i],"item",e.newValue),this.tplCtxt.$refresh({outputSection:r[i].sectionId});else{var s=r.length,o=[];for(var u=s;u<=i;u++){var a={index:u,ct:u+1,item:u==i?e.newValue:undefined};r[u]=a,this._initItem(a),o[u-s]=this._createSectionParam(a)}this.tplCtxt.insertAdjacentSections({refSection:{domElt:this.getDom(),object:this},sections:o,position:"beforeEnd"})}}else if(t==n.SPLICE){
var i=e.index,f=e.removed.length;if(f)for(var u=0;u<f;u++){var l=this.items[i+u],c=this.tplCtxt.$getElementById(l.sectionId);c.remove()}var h=e.added,p=h.length;if(p){var o=[],d=[i,f];for(var u=0;u<p;u++){var a={index:i+u,ct:i+u+1,item:h[u]};d[u+2]=a,this._initItem(a),o[u]=this._createSectionParam(a)}r.splice.apply(r,d);if(i>0){var v=this.getSectionById(r[i-1].sectionId);this.tplCtxt.insertAdjacentSections({refSection:{domElt:v.getDom(),object:v},sections:o,position:"afterEnd"})}else this.tplCtxt.insertAdjacentSections
({refSection:{domElt:this.getDom(),object:this},sections:o,position:"afterBegin"})}else r.splice(i,f);p!=f&&this._updateRemainingItems(i+p,!0)}},_updateRemainingItems:function(e,t){var r=this.items,s=this._childSections.cssClass;i(s)||(s=null);for(var o=r.length-1;o>=e;o--){var u=r[o];t&&n.setValue(u,"index",o),n.setValue(u,"ct",o+1);if(s){var a=this.getSectionById(u.sectionId),f=a.cssClass,l=this.tplCtxt.evalCallback(s,u);if(f!=l){var c=a.getDom();c.className=l,a.cssClass=l}}}},_notifyChange_map:function(e)
{var t=e.change;if(t!=n.VALUE_CHANGED&&t!=n.KEY_REMOVED&&t!=n.KEY_ADDED)return;if(this._checkRefreshManager(e))return;var r=this.itemsMap,i=this.items,s=this.iteratedSet,o=e.dataName;if(n.isMetadata(o))return;if(r.hasOwnProperty(o)){var u=r[o];if(t==n.KEY_REMOVED){var a=this.tplCtxt.$getElementById(u.sectionId);a.remove(),i.splice(u.ct-1,1),delete r[o],this._updateRemainingItems(u.ct-1,!1)}else n.setValue(u,"item",s[o]),this.tplCtxt.$refresh({outputSection:u.sectionId})}else if(t!=n.VALUE_CHANGED){var u={index
:o,ct:i.length+1,item:s[o]};this._initItem(u),i[u.ct-1]=u,this.tplCtxt.insertAdjacentSections({refSection:{domElt:this.getDom(),object:this},sections:[this._createSectionParam(u)],position:"beforeEnd"})}},_updateLoopType:function(){var e=!0,n=this._loopType,r=this.iteratedSet;return n=="array"?e=t.isArray(r):n=="map"?e=t.isObject(r):n!=null?(e=t.isInstanceOf(r,"aria.templates.View"),n=="view"&&(n="pagedView")):(t.isArray(r)?n="array":t.isInstanceOf(r,"aria.templates.View")?n="pagedView":t.isObject(r)?n="map"
:e=!1,this._loopType=n),e?n!="map"&&n!="array"?(this.$logError(this.VIEWS_NOT_SUPPORTED,[this.tplCtxt.tplClasspath,this.id]),!1):(this._loopOver=this["_loopOver_"+n],this._notifyChange=this["_notifyChange_"+n],!0):(this.$logError(this.REPEATER_INVALID_ITERATED_SET,[this.tplCtxt.tplClasspath,this.id,n],r),!1)},writeContent:function(e){this._loopOver(this.iteratedSet,this._writeRepeaterItem)}}})})();
//*******************
//LOGICAL-PATH:aria/templates/Section.js
//*******************
(function(){var e=null,t=0,n=1,r=/^[\w\-:\.]+\+?$/;Aria.classDefinition({$classpath:"aria.templates.Section",$dependencies:["aria.utils.Array","aria.utils.Json","aria.utils.Delegate","aria.templates.NavigationManager","aria.templates.CfgBeans","aria.utils.Dom","aria.utils.String","aria.utils.Json","aria.templates.DomElementWrapper","aria.utils.Html","aria.templates.DomEventWrapper","aria.utils.IdManager","aria.templates.SectionWrapper"],$onload:function(){e=new aria.utils.IdManager("s")},$onunload:function()
{e.$dispose(),e=null},$constructor:function(e,t,n){var i,s,o,u,a;this._content=[],this.parent=null,this._initWidgetsDone=!1,this.html=null,this._bindings=[],this._processing=null,this.delegateIds=[],this.cfgOk=!0,this.tplCtxt=e,this.delegateCallbacks=[],this.isRoot=n&&n.isRoot===!0,this.idMap=n&&n.ownIdMap?{}:null,this._cfg=t,this._normalizeCallbacks(),this.delegateId=aria.utils.Delegate.add({fn:this._onDomEvent,scope:this});if(this.isRoot)return;try{aria.core.JsonValidator.normalize({json:t,beanName:"aria.templates.CfgBeans."+
this.$class+"Cfg"},!0)}catch(f){this.cfgOk=!1;var l=aria.core.Log;if(l){for(var c=0,h=f.errors.length,p;c<h;c++)p=f.errors[c],p.message=l.prepareLoggedMessage(p.msgId,p.msgArgs);this.$logError(this.INVALID_CONFIGURATION,[this.tplCtxt.tplClasspath,t.id],f)}return}u=t.type,s=t.bindRefreshTo,o=t.id;var d;if(o){if(!r.test(o)){this.$logError(this.INVALID_SECTION_ID,[this.tplCtxt.tplClasspath,o]),this.cfgOk=!1;return}o.indexOf("+")>-1&&(Aria.testMode&&(d=this.tplCtxt.$getAutoId(o)),delete t.id,o=null)}this.domType=
u,this._domId=d||(o?this.tplCtxt.$getId(o):this._createDynamicId()),this.id=o||"_gen_"+this._domId,this.cssClass=t.cssClass,this.keyMap=t.keyMap,this.tableNav=t.tableNav,this.processingLabel=t.processingLabel,this.__skipProcessingChange=!1,this.macro=t.macro?e.checkMacro(t.macro):null,this.wrapper=null;for(var v=0;i=s[v];v++)this.registerBinding(i,this._notifyDataChange);this.registerProcessing(t.bindProcessingTo),this._refreshMgrInfo=null,this.attributes=t.attributes;var m=t.bind&&t.bind.attributes?t.bind.attributes
:null;m&&(this.attributes=m.inside[m.to],this.registerBinding(m,this._notifyAttributeChange))},$destructor:function(){this.removeDelegateIdsAndCallbacks(),this._releaseAllDynamicIds(),this.delegateId&&(aria.utils.Delegate.remove(this.delegateId),this.delegateId=null),this._content&&(this.removeContent(),this.id&&this.idMap&&(this.idMap[this.id]=null,delete this.idMap[this.id]),this._content=null,this.idMap=null);var e=this.parent;e&&(this.parent=null,e.removeSubSection(this)),this._listenersStopped!==!0&&this
.stopListeners(),this._processing=null,this.setDom(null),this.html=null,this._refreshMgrInfo=null,this.tplCtxt=null,this._cfg=null},$events:{beforeRemoveContent:"Raised just before the section content is disposed.",afterRemoveContent:"Raised just after the section content is disposed."},$statics:{MISSING_TO_BINDING:"Invalid Binding Configuration: 'to' is mandatory",INVALID_TO_BINDING:"Invalid Binding Configuration: 'to' must be a Boolean value or null",WIDGETCALL_ERROR:"Error in '%2' for widget '%1'.",INVALID_SECTION_ID
:"Error in template '%1': invalid section id '%2'.",SECTION_ALREADY_EXISTS:"Error in template '%1': section uses already used id '%2'.",SECTION_BINDING_ERROR:"Section binding failed. Inside: %1, to: %2. Section id: %3, template: %4.",INVALID_CONFIGURATION:"Error in template '%1': invalid configuration for section id '%2'.",WIDGET_ID_NOT_UNIQUE:"The %1 widget with id %2 does not have a unique id",SECTION_CALLBACK_ERROR:"The callback function raised an exception. Template: '%1'\nSection: '%2'\nEvent: '%3' "},$prototype
:{$init:function(e,t,n){e.__navigationManager=aria.templates.NavigationManager,e.__json=aria.utils.Json},_type:t,initWidgets:function(){var e=[];if(this._initWidgetsDone)return e;this._initWidgetsDone=!0,this.html=null;var t=this._content,r=t.length;for(var i=0;i<r;i++){var s=t[i];if(s._type==n){var o=s.behavior;if(o.initWidget)try{o.initWidget(),o.isDiffered&&e.push(o)}catch(u){this.$logError(this.WIDGETCALL_ERROR,[o.$classpath,"initWidget"],u)}}else e=e.concat(s.initWidgets())}return this.refreshProcessingIndicator
(),e},removeContent:function(){this.$raiseEvent("beforeRemoveContent"),this._removingContent=!0;var e=this._content,t=e.length;for(var r=0;r<t;r++){var i=e[r];if(i._type==n){var s=i.behavior;i.id&&this.idMap&&(this.idMap[i.id]=null,delete this.idMap[i.id]),s.$dispose()}else i.$dispose()}this._content=[],this._initWidgetsDone=!1,this._removingContent=!1,this.$raiseEvent("afterRemoveContent")},removeDelegateIdsAndCallbacks:function(){if(this.delegateIds){for(var e=0,t=this.delegateIds.length;e<t;e++)aria.utils
.Delegate.remove(this.delegateIds[e]);this.delegateIds=[]}for(var e=0,t=this.delegateCallbacks.length;e<t;e++)this.delegateCallbacks[e].$dispose();this.delegateCallbacks=[]},addBehavior:function(e){var t=e.getId?e.getId():null,r={_type:n,behavior:e,section:this,id:t};t&&this.idMap&&(this.idMap[t]?(this.$logError(this.WIDGET_ID_NOT_UNIQUE,[this.tplCtxt.tplClasspath,t,e.$class]),r.id=null):this.idMap[t]=r),this._content.push(r)},getBehaviorById:function(e){var t=this.idMap?this.idMap[e]:null;return t&&t._type==
n?t.behavior:null},getSectionById:function(e){var n=this.idMap?this.idMap[e]:null;return n&&n._type==t?n:null},addSubSection:function(e){this.$assert(141,!e.parent),this.$assert(142,e._type==t),this.$assert(143,e.tplCtxt==this.tplCtxt),e.parent=this,e.__updateIdMap(this.idMap),this._content.push(e)},__updateIdMap:function(e){if(this.idMap==e)return;this.idMap=e;var n=this.id;n&&e&&(e[n]?this.$logError(this.SECTION_ALREADY_EXISTS,[this.tplCtxt.tplClasspath,n]):e[n]=this);var r=this._content,i=r.length;for(var s=0
;s<i;s++){var o=r[s];o._type==t?o.__updateIdMap(e):(n=o.id,n&&e&&(e[n]?this.$logError(this.WIDGET_ID_NOT_UNIQUE,[this.tplCtxt.tplClasspath,n,o.behavior.$class]):e[n]=o))}},removeSubSection:function(e){this._removingContent||aria.utils.Array.remove(this._content,e)},registerBinding:function(e,t){if(e){var n={fn:t||this._notifyDataChange,scope:this,args:{tplCtxt:this.tplCtxt}};try{e.recursive=e.recursive!==!1,this.__json.addListener(e.inside,e.to,n,!0,e.recursive),this._bindings.push({inside:e.inside,callback:
n,to:e.to,recursive:e.recursive})}catch(r){this.$logError(this.SECTION_BINDING_ERROR,[e.inside,e.to,this.id,this.tplCtxt.tplClasspath])}}},__isValidProcessingBind:function(e){if(!e||e.to==null)return this.$logError(this.MISSING_TO_BINDING),!1;var t=e.inside[e.to];return t==null||aria.utils.Type.isBoolean(t)?!0:(this.$logError(this.INVALID_TO_BINDING),!1)},registerProcessing:function(e){if(!e||!this.__isValidProcessingBind(e))return;this.registerBinding(e,this._notifyProcessingChange),this._processing={inside
:e.inside,to:e.to}},registerProcessingIndicator:function(e,t){var n=this._processing,r=!!n;this.tplCtxt.registerProcessingIndicator(e,t,this.id),r&&(this.__skipProcessingChange=!0,this.__json.setValue(n.inside,n.to,e),this.__skipProcessingChange=!1)},refreshProcessingIndicator:function(e){if(e){var t=this._content;for(var n=0,r=t.length;n<r;n++)t[n].refreshProcessingIndicator?t[n].refreshProcessingIndicator(!0):t[n].behavior&&t[n].behavior.subTplCtxt&&t[n].behavior.subTplCtxt.refreshProcessingIndicator()}var i=
this._processing,s=!!i;s&&i.inside[i.to]&&this.getWrapper().setProcessingIndicator(!0,this.processingLabel)},_notifyDataChange:function(e,t){if(!this._initWidgetsDone||!t.tplCtxt._cfg||!t.tplCtxt._cfg.tplDiv)return;this.macro?t.tplCtxt.$refresh({outputSection:this.id,macro:this.macro}):t.tplCtxt.$refresh({filterSection:this.id})},_notifyAttributeChange:function(e){var t,n=this.getDom(),r;if(this._cfg.bind&&e.dataName===this._cfg.bind.attributes.to){for(t in e.oldValue)e.oldValue.hasOwnProperty(t)&&!e.newValue
[t]&&n.removeAttribute(t);for(t in e.newValue)e.newValue.hasOwnProperty(t)&&!aria.utils.Json.isMetadata(t)&&aria.templates.DomElementWrapper.attributesWhiteList.test(t)&&e.newValue[t]!==e.oldValue[t]&&e.newValue[t]!=null&&n.setAttribute(t,e.newValue[t])}else aria.templates.DomElementWrapper.attributesWhiteList.test(e.dataName)&&e.newValue!==e.oldValue&&(r=e.newValue?!1:!0,r?n.removeAttribute(e.dataName,e.newValue):n.setAttribute(e.dataName,e.newValue))},_notifyProcessingChange:function(e){if(this.__skipProcessingChange
)return;this.getWrapper().setProcessingIndicator(e.newValue,this.processingLabel)},getWrapper:function(){var e=this.wrapper;return e||(this.wrapper=e=new aria.templates.SectionWrapper(this.getDom(),this)),e},writeBegin:function(e){if(this.domType){var t=this.cssClass?' class="'+this.cssClass+'"':"",n=this.attributes?aria.utils.Html.buildAttributeList(this.attributes):"",r=["<",this.domType,n,t,' id="',this._domId,'" ',aria.utils.Delegate.getMarkup(this.delegateId),">"];e.write(r.join(""))}},writeEnd:function(
e){this.domType&&e.write("</"+this.domType+">")},_onDomEvent:function(e){this.__navigationManager.handleNavigation(this.keyMap,this.tableNav,e);if(this._cfg&&this._cfg.on){var t=this._cfg.on[e.type];if(t){var n=new aria.templates.DomEventWrapper(e),r;try{r=t.fn.call(t.scope,n,t.args)}catch(i){this.$logError(this.SECTION_CALLBACK_ERROR,[this.tplCtxt.tplClasspath,this._cfg.id,e.type],i)}return n.$dispose(),r}}},_normalizeCallbacks:function(){var e=this._cfg?this._cfg.on:null;if(e)for(var t in e)e.hasOwnProperty
(t)&&(e[t]=this.$normCallback(e[t]))},copyConfigurationTo:function(e){this.$assert(708,e.idMap==null),e.id=this.id,e.domType=this.domType,e.tableNav=this.tableNav,e.keyMap=this.keyMap,e.macro=this.macro},notifyRefreshPlanned:function(e){var t=this._registerInRefreshMgr();t.queue=null,t.refreshArgs=e},_registerInRefreshMgr:function(){var e=this._refreshMgrInfo;return e||(e={refreshArgs:null,queue:[]},this._refreshMgrInfo=e,aria.templates.RefreshManager.queue({fn:this._refreshManagerCallback,scope:this},this))
,e},_refreshManagerCallback:function(){var e=this._refreshMgrInfo;if(!e)return;this._refreshMgrInfo=null;var t=e.queue;t||this.tplCtxt.$refresh(e.refreshArgs)},beforeRefresh:function(e){var t=this.macro;if(t)if(!e.macro)e.macro=t;else{var n=e.macro;aria.utils.Type.isObject(n)&&!n.name&&(n.name=t.name,n.scope=t.scope,n.args||(n.args=t.args))}this._domElt=null},getDom:function(){return this._domElt||(this._domElt=aria.utils.Dom.getElementById(this._domId)),this._domElt},setDom:function(e){this._domElt=e,this.wrapper&&
(this.wrapper.$dispose(),this.wrapper=null)},_createDynamicId:function(){var t=e.getId();return this._dynamicIds?this._dynamicIds.push(t):this._dynamicIds=[t],t},_releaseAllDynamicIds:function(){var t=this._dynamicIds;if(t){for(var n=t.length-1;n>=0;n--)e.releaseId(t[n]);this._dynamicIds=null}},moveContentTo:function(e){var n=this._content;this.$assert(805,this.idMap==null),this.$assert(806,n);var r=e._content,i=r.length;for(var s=0,o=n.length;s<o;s++){var u=n[s];r[i+s]=u,u._type==t&&(u.parent=e)}this.__updateIdMap
(e.idMap),e.delegateIds=e.delegateIds.concat(this.delegateIds),e.delegateCallbacks=e.delegateCallbacks.concat(this.delegateCallbacks),this.delegateIds=[],this.delegateCallbacks=[];var a=null;return e._initWidgetsDone&&(a=this.initWidgets()),this.idMap=null,this._content=[],a},stopListeners:function(){this.$assert(838,this._listenersStopped!==!0),this._listenersStopped=!0;var e=this._bindings;if(e)for(var t=0,n;n=e[t];t++)this.__json.removeListener(n.inside,n.to,n.callback,n.recursive)},resumeListeners:function(
){this.$assert(859,this._listenersStopped===!0),this._listenersStopped=!1;var e=this._bindings;if(e)for(var t=0,n;n=e[t];t++)this.__json.addListener(n.inside,n.to,n.callback,!0,n.recursive)},writeContent:function(e){this.macro&&e.callMacro(this.macro)}}})})();
//*******************
//LOGICAL-PATH:aria/templates/SectionWrapper.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.SectionWrapper",$extends:"aria.templates.DomElementWrapper",$dependencies:["aria.utils.DomOverlay","aria.utils.Dom"],$constructor:function(e,t){if(e)while(e.nodeType!=1)e=e.parentNode;this.$DomElementWrapper.constructor.call(this,e,t.tplCtxt),this.insertAdjacentSection=function(n,r){if(n!="beforeBegin"&&n!="afterBegin"&&n!="beforeEnd"&&n!="afterEnd"){this.$logError(aria.utils.Dom.INSERT_ADJACENT_INVALID_POSITION,[n]);return}t.tplCtxt.insertAdjacentSections({position
:n,refSection:{domElt:e,object:t},sections:[r]})},this.remove=function(){t.$dispose();var n=e.parentNode;aria.utils.Dom.removeElement(e),aria.utils.Dom.refreshDomElt(n),this.$dispose()},this.setProcessingIndicator=function(n,r){var i,s=!0;n?i=aria.utils.DomOverlay.create(e,r):(i=aria.utils.DomOverlay.detachFrom(e),i||(s=!1)),s&&t.registerProcessingIndicator(n,i)};var n=this.classList.setClassName;this.classList.setClassName=function(e){n.call(this,e),t.cssClass=e};var r=this.setClassName;this.setClassName=function(
e){r.call(this,e),t.cssClass=e};var i=this._dispose;this._dispose=function(){i.call(this),t=null,i=null,r=null}},$prototype:{}});
//*******************
//LOGICAL-PATH:aria/templates/Statements.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.Statements",$dependencies:["aria.utils.String","aria.templates.Modifiers","aria.utils.Path","aria.utils.Delegate"],$singleton:!0,$statics:{SHOULD_BE_IN_MACRO:"line %2: Template error: statement '%1' cannot be used out of a macro.",TEMPLATE_STATEMENT_MISUSED:"Template error: the '%1' statement is misused, it should only be used as the root statement in a template.",ELSE_WITHOUT_IF:"line %1: Template error: 'else' or 'elseif' is used outside an 'if' structure.",
ELSEIF_AFTER_ELSE:"line %1: Template error: 'elseif' is used after 'else' in the same 'if' structure.",ELSE_ALREADY_USED:"line %1: Template error: an 'else' statement has already been used in this 'if' structure.",INVALID_WIDGET_SYNTAX:"line %1: Template error: invalid syntax for the widget statement; expected syntax: @lib:widget",UNDECLARED_WIDGET_LIBRARY:"line %2: Template error: found widget library '%1', which is undeclared in the wlibs parameter of the 'Template' statement.",INVALID_MODIFIER_SYNTAX:"line %2: Template error: invalid modifier syntax '%1'."
,UNKNOWN_WIDGET:"line %2: Template error: unknown widget '%1'.",MACRO_ALREADY_DEFINED:"line %3: Template error: macro '%1' is already defined line %2.",SEPARATOR_NOT_FIRST_IN_FOREACH:"line %1: Template error: the separator statement can only be used as the first statement inside a {foreach ...} ... {/foreach} loop.",INCOMPATIBLE_CREATEVIEW:"line %2: Template error: two createView statements with the same view base name must have the same depth (previous definition line %1).",INCORRECT_VARIABLE_NAME:"line %2: Template error: incorrect variable name '%1'."
,INVALID_FOREACH_INKEYWORD:"line %2: Template error: invalid foreach syntax, expected one of 'in', 'inView', 'inFilteredView', 'inSortedView', 'inPagedView' but found: '%1'.",INVALID_WIDGET_LIBRARY:"line %3: Template error: %1 (%2) is not a valid widget library. A widget library must extend aria.widgetLibs.WidgetLib.",INVALID_EVENT_TYPE:"The event type: '%1' is an invalid event type."},$constructor:function(){var e=aria.utils.String,t=aria.templates.Modifiers,n=aria.utils.Path,r=this,i={inMacro:!1,container:!0
,process:function(e,t){return e.logError(t,r.TEMPLATE_STATEMENT_MISUSED,[t.name])}};this.ALLSTATEMENTS={Template:i,Library:i,CSSTemplate:i,CSSLibrary:i,TextTemplate:i,"#TEXT#":{container:!1,process:function(e,t){if(e.isOutputReady()){var n=e.stringify(t.paramBlock);e.writeln("this.__$write(",n,",",t.lineNumber,");")}else t.paramBlock.replace(/[ \t\r\n]+/gm,"")!==""&&e.logError(t,r.SHOULD_BE_IN_MACRO,["#TEXT# - "+t.paramBlock])}},"#CDATA#":{inMacro:!0,container:!1,process:function(e,t){var n=e.stringify(t.paramBlock
);e.writeln("this.__$write(",n,",",t.lineNumber,");")}},"#EXPRESSION#":{inMacro:!0,container:!1,process:function(n,i,s){var o=i.paramBlock,u=e.indexOfNotEscaped(o,"|"),a=[];while(u!=-1)a.push(o.substr(0,u)),o=o.substr(u+1),u=e.indexOfNotEscaped(o,"|");a.push(o);var f=!0,l=s.escapeModifier;if(!l)f=!1;else for(var c=a.length-1;c>=1;c--){var h=a[c];if(h.indexOf(l)===0){f=!1;break}}var f=!1;f&&a.splice(1,0,l);var p=[],d=[],v,m=/^(\w+)(?::([\s\S]*))?$/;for(var c=a.length-1;c>=1;c--){var g=a[c],y=m.exec(g);if(!y)return n
.logError(i,r.INVALID_MODIFIER_SYNTAX,[g]);var b=y[1];t.initModifier(b,n),p.push("this.$modifier('"+b+"',["),v=y[2],v?(d[c]=", "+v,f&&(d[c]+=", '"+l+"'"),d[c]+="])"):d[c]="])"}v=a[0],p.push(v),v=p.concat(d).join(""),n.debug&&(v=n.wrapExpression(v,i,"this.EXCEPTION_IN_EXPRESSION")),n.writeln("this.__$write(",v,",",i.lineNumber,");")}},separator:{inMacro:!0,container:!0,paramRegexp:/^$/,process:function(e,t){var n=t.parent,i=n.content[0]==t||n.content[1]==t&&n.content[0].name=="#TEXT#";if(n.name!="foreach"||!i
){e.logError(t,r.SEPARATOR_NOT_FIRST_IN_FOREACH);return}var s=n[Aria.FRAMEWORK_PREFIX+"foreachCounter"];e.writeln("if (",s,">1) {"),e.increaseIndent(),e.processContent(t.content),e.decreaseIndent(),e.writeln("}")}},id:{inMacro:!0,container:!1,paramRegexp:/^\s*(\S[\s\S]*)\s*$/,process:function(e,t,n){var r=n[0];e.writeln("this.__$writeId(",r,",",t.lineNumber,");")}},on:{inMacro:!0,container:!1,paramRegexp:/^(\w+)\s+([\s\S]+)$/,process:function(e,t,n){var i=n[1],s=n[2],o=aria.utils.Delegate,u=o.delegatedGestures
[i];u&&e.addDependency(u),o.supportedEvents[i]||e.logWarn(t,r.INVALID_EVENT_TYPE,[i]),e.writeln("this.__$statementOnEvent(",e.stringify(i),",this.$normCallback(",s,"),",t.lineNumber,");")}},bindRefreshTo:{inMacro:!0,container:!1,paramRegexp:/^([\s\S]+)$/,process:function(t,r,i){var s=r.paramBlock,o,u;u=n.parse(e.trim(s)),u.length>1?(i=t.stringify(u.pop()),o=n.pathArrayToString(u)):(i="null",o=u[0]),t.writeln("this.__$bindAutoRefresh(",o,", ",i,", ",r.lineNumber,");")}},"if":{inMacro:!0,container:!0,process:function(
e,t){var n=t.paramBlock;e.writeln("if (",n,") {"),e.increaseIndent(),e.processContent(t.content),delete t[Aria.FRAMEWORK_PREFIX+"elsepresent"],e.decreaseIndent(),e.writeln("}")}},elseif:{inMacro:!0,container:!1,process:function(e,t){var n=t.paramBlock,i=t.parent;if(i.name!="if")return e.logError(t,r.ELSE_WITHOUT_IF);if(i[Aria.FRAMEWORK_PREFIX+"elsepresent"])return e.logError(t,r.ELSEIF_AFTER_ELSE);e.decreaseIndent(),e.writeln("} else if (",n,") {"),e.increaseIndent()}},"else":{inMacro:!0,container:!1,paramRegexp
:/^$/,process:function(e,t){var n=t.parent;if(n.name!="if")return e.logError(t,r.ELSE_WITHOUT_IF);if(n[Aria.FRAMEWORK_PREFIX+"elsepresent"])return e.logError(t,r.ELSE_ALREADY_USED);n[Aria.FRAMEWORK_PREFIX+"elsepresent"]=!0,e.decreaseIndent(),e.writeln("} else {"),e.increaseIndent()}},createView:{inMacro:undefined,container:!1,paramRegexp:/^([_\w]+)(\[([^\[\]]+(\]\[[^\[\]])*)\])?\s+on\s+([\s\S]+)$/,process:function(e,t,n){var i=n[1];if(Aria.isJsReservedWord(i))return e.logError(t,r.INCORRECT_VARIABLE_NAME,[i]
);var s=n[3],o=n[5],u=[],a=0;s?(u=s.split("]["),a=u.length,s=["[(",u.join("),("),")]"].join("")):s="[]";var f=e.getView(i);if(f.firstDefinition){if(f.nbParams!=a){e.logError(t,r.INCOMPATIBLE_CREATEVIEW,[f.firstDefinition.lineNumber]);return}}else f.firstDefinition=t,f.nbParams=a;e.addDependency("aria.templates.View");var l=!e.isOutputReady();l&&e.enterBlock("globalVars"),e.writeln(l?"this.":"var ",i,"=this.__$createView(",e.stringify(i),",",s,",(",o,"));"),l&&e.leaveBlock()}},"for":{inMacro:!0,container:!0,process
:function(e,t){e.writeln("for (",t.paramBlock,") {"),e.increaseIndent(),e.processContent(t.content),e.decreaseIndent(),e.writeln("}")}},foreach:{inMacro:!0,container:!0,paramRegexp:/^([_\w]+)\s+(\w+)\s+([\s\S]+)$/,process:function(e,t,n){var i=e.newVarName(),s=n[1];if(Aria.isJsReservedWord(s))return e.logError(t,r.INCORRECT_VARIABLE_NAME,[s]);var o=n[2];if(o!="in"&&o!="inArray"&&o!="inView"&&o!="inSortedView"&&o!="inFilteredView"&&o!="inPagedView")return e.logError(t,r.INVALID_FOREACH_INKEYWORD,[o]);var u=o!="in"&&
o!="inArray";o=="inView"&&(o="inPagedView");var a=n[3],f=s+"_index";e.debug&&(a=e.wrapExpression(a,t,"this.ITERABLE_UNDEFINED")),e.writeln("var ",i,"=(",a,");"),e.writeln("if(",a,"==undefined){"),e.increaseIndent(),e.writeln("this.$logError(this.ITERABLE_UNDEFINED,[",e.stringify(t.name),", ",t.lineNumber,"]);"),e.decreaseIndent(),e.writeln("}");var l=s+"_ct";t[Aria.FRAMEWORK_PREFIX+"foreachCounter"]=l,e.writeln("var ",l,"=0;");var c;if(u){c=e.newVarName(),e.writeln(i,".refresh();");if(o=="inPagedView"){var h=
e.newVarName();e.writeln("var ",h,"=",i,".currentPageIndex;"),e.writeln("var ",c,"=",i,".pages[",h,"].lastItemIndex;"),e.writeln("for (var ",f,"=",i,".pages[",h,"].firstItemIndex;",f,"<=",c,";",f,"++) {")}else e.writeln("var ",c,"=",i,".items.length;"),e.writeln("for (var ",f,"=0;",f,"<",c,";",f,"++) {");e.increaseIndent(),e.writeln("var ",s,"_info=",i,".items[",f,"];"),o=="inPagedView"?e.writeln("if (",s,"_info.pageIndex==",h,") {"):o=="inFilteredView"&&e.writeln("if (",s,"_info.filteredIn) {"),e.increaseIndent
(),e.writeln("var ",s,"=",s,"_info.value;")}else o=="inArray"?(c=e.newVarName(),e.writeln("var ",c,"=",i,".length;"),e.writeln("for (var ",f,"=0;",f,"<",c,";",f,"++) {"),e.increaseIndent(),e.writeln("var ",s,"=",i,"[",f,"];")):(e.writeln("for (var ",f," in ",i,") {"),e.increaseIndent(),e.writeln("if (",i,".hasOwnProperty(",f,") && !this.$json.isMetadata(",f,")) {"),e.increaseIndent(),e.writeln("var ",s,"=",i,"[",f,"];"));e.writeln(l,"++;"),e.processContent(t.content),o!="inSortedView"&&o!="inArray"&&(e.decreaseIndent
(),e.writeln("}")),e.decreaseIndent(),e.writeln("}")}},repeater:{inMacro:!0,container:!1,process:function(e,t){var n=t.paramBlock;e.debug&&(n=e.wrapExpression(n,t,"this.EXCEPTION_IN_REPEATER_PARAMETER")),e.addDependency("aria.templates.Repeater"),e.writeln("this.__$statementRepeater(",t.lineNumber,",(",n,"));")}},macro:{inMacro:!1,container:!0,paramRegexp:/^([_\w]+)\s*(\(\s*([_\w]+\s*(,\s*[_\w]+\s*)*)?\))\s*$/,process:function(e,t,n){var i=n[1],s=e.getMacro(i);if(s.definition!=null)return e.logError(t,r.MACRO_ALREADY_DEFINED
,[i,s.definition.lineNumber]);s.definition=t,e.enterBlock("prototype"),e.writeln("macro_",i,": function ",n[2],"{"),e.increaseIndent(),e.writeln("try {"),e.increaseIndent(),e.writeln("with (this) {"),e.increaseIndent(),e.processContent(t.content),e.decreaseIndent(),e.writeln("}"),e.decreaseIndent(),e.writeln("} catch (_ex) {"),e.increaseIndent(),e.writeln("this.$logError(this.EXCEPTION_IN_MACRO,[",e.stringify(i),", this['"+Aria.FRAMEWORK_PREFIX+"currentLineNumber']],_ex);"),e.decreaseIndent(),e.writeln("}"),
e.decreaseIndent(),e.writeln("},"),e.leaveBlock()}},memo:{inMacro:!0,container:!0,paramRegexp:/^[\S\s]*$/,process:function(e,t,n){e.processContent(t.content)}},call:{inMacro:!0,container:!1,paramRegexp:/^(\$?[_\w]+\.)?([_\w]+)\s*\(([\s\S]*)\)\s*$/,process:function(e,t,n){var r=n[1],i=n[2],s=n[3],o,u;r?(o="this."+r+"macro_"+i,r.charAt(0)=="$"?u=o+".apply(this,["+s+"]);":u=o+"("+s+");"):(o="this.macro_"+i,u=o+"("+s+");");if(e.debug){var a=r?r+i:i;e.writeln("if (",o," == null) {"),e.increaseIndent(),e.writeln("this.$logError(this.MACRO_NOT_FOUND,["
,t.lineNumber,",",e.stringify(a),"]);"),e.decreaseIndent(),e.writeln("}")}e.writeln(u)}},section:{inMacro:!0,container:null,process:function(e,t){var n=t.paramBlock,r=t.content?"true":"false";e.writeln("this.__$beginSection(",t.lineNumber,",",r,",",n,");"),t.content&&e.processContent(t.content),e.writeln("this.__$endSection();")}},"var":{inMacro:undefined,container:!1,paramRegexp:/^([_\w]+)\s*=([\s\S]*)$/,process:function(e,t,n){var i=n[1],s=n[2];if(Aria.isJsReservedWord(i))return e.logError(t,r.INCORRECT_VARIABLE_NAME
,[i]);e.isOutputReady()?(e.debug&&(s=e.wrapExpression(s,t,"this.EXCEPTION_IN_VAR_EXPRESSION")),e.writeln("var ",i,"=(",s,");")):(e.enterBlock("globalVars"),e.debug&&(s=e.wrapExpression(s,t,"this.EXCEPTION_IN_VAR_EXPRESSION")),e.writeln("this.",i,"=(",s,");"),e.leaveBlock())}},set:{inMacro:!0,container:!1,paramRegexp:/^([_\w]+(?:\.[_\w]+)*)\s*([\+\-]?\=)([\s\S]*)$/,process:function(e,t,n){var i=n[1],s=n[2],o=n[3],u=i.split(".");for(var a=0,f=u.length;a<f;a++)if(Aria.isJsReservedWord(u[a]))return e.logError(t,
r.INCORRECT_VARIABLE_NAME,[i]);e.debug&&(o=e.wrapExpression(o,t,"this.EXCEPTION_IN_SET_EXPRESSION")),e.writeln(i,s,"(",o,");")}},checkDefault:{inMacro:!0,container:!1,paramRegexp:/^([_\w]+)\s*\=([\s\S]*)$/,process:function(e,t,n){var i=n[1],s=n[2];if(Aria.isJsReservedWord(i))return e.logError(t,r.INCORRECT_VARIABLE_NAME,[i]);e.debug&&(s=e.wrapExpression(s,t,"this.EXCEPTION_IN_CHECKDEFAULT_EXPRESSION")),e.writeln("if (",i,"===undefined) {"),e.increaseIndent(),e.writeln(i,"=(",s,");"),e.decreaseIndent(),e.writeln
("}")}},"@":{inMacro:!0,container:null,process:function(e,t){var n=/^@(\w+):(\w+)$/.exec(t.name);if(!n||n.length!=3)return e.logError(t,r.INVALID_WIDGET_SYNTAX);var i=n[1],s=n[2],o=e.templateParam.$wlibs[i];if(o===undefined)return e.logError(t,r.UNDECLARED_WIDGET_LIBRARY,[i]);var u=e.wlibs[i];if(!u){u=Aria.getClassRef(o);if(!aria.utils.Type.isInstanceOf(u,"aria.widgetLibs.WidgetLib"))return e.logError(t,r.INVALID_WIDGET_LIBRARY,[i,o]);e.wlibs[i]=u}var a=u.getWidgetDependencies(s,e.allDependencies);if(!a)return e
.logError(t,r.UNKNOWN_WIDGET,[t.name]);e.addDependencies(a);var f=t.paramBlock;if(f.length===0)f="undefined";else{var l=[],c=/[\'\"](aria\.widgets\.transform\.(.+))[\'\"]/g,h=c.exec(f);while(h)l.push(h[1]),h=c.exec(f);e.addDependencies(l)}e.debug&&f!="undefined"&&(f=e.wrapExpression(f,t,"this.EXCEPTION_IN_CONTROL_PARAMETERS")),t.content?(e.writeln("if (this.__$beginContainerWidget(",e.stringify(o),",",e.stringify(s),",(",f,"),",t.lineNumber,")) {"),e.increaseIndent(),e.processContent(t.content),e.writeln("this.__$endContainerWidget();"
),e.decreaseIndent(),e.writeln("}")):e.writeln("this.__$processWidgetMarkup(",e.stringify(o),",",e.stringify(s),",(",f,"),",t.lineNumber,");")}}}}});
//*******************
//LOGICAL-PATH:aria/templates/Template.js
//*******************
(function(){var e=function(e){(!e||!e.changedProperties||aria.utils.Array.contains(e.changedProperties,"contextualMenu"))&&Aria.load({classes:[n]})},t=function(){var e=aria.core.AppEnvironment.applicationSettings.contextualMenu;return e&&e.enabled},n="aria.tools.contextual.ContextualMenu",r=["aria.tools.contextual.environment.ContextualMenu","aria.templates.TemplateCtxt","aria.utils.Array","aria.utils.Json","aria.templates.ITemplate","aria.utils.environment.VisualFocus"];t()&&r.push(n),Aria.classDefinition({
$classpath:"aria.templates.Template",$extends:"aria.templates.BaseTemplate",$dependencies:r,$statics:{EXCEPTION_IN_CONTROL_PARAMETERS:"line %2: Uncaught runtime exception in control %3 for parameters '%1'",EXCEPTION_IN_REPEATER_PARAMETER:"line %2: Uncaught runtime exception in repeater parameter '%1'"},$onload:function(){var t=aria.tools.contextual.environment.ContextualMenu;t.getContextualMenu().enabled||aria.core.AppEnvironment.$on({environmentChanged:e,scope:{}})},$prototype:{$width:undefined,$height:undefined
,$init:function(e,t){e.$BaseTemplate.constructor.classDefinition.$prototype.$init(e,t);var n=aria.templates.ITemplate.prototype;for(var r in n)n.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=n[r]);e.$json=aria.utils.Json},onModuleEvent:function(e){},onFlowEvent:function(e){},$dataReady:function(){},$viewReady:function(){},$displayReady:function(){}}})})();
//*******************
//LOGICAL-PATH:aria/templates/TemplateCtxt.js
//*******************
(function(){var e,t,n,r=["$refresh","$getChild","$getElementById","$focus","$hdim","$vdim","getContainerScroll","setContainerScroll","__$writeId","__$processWidgetMarkup","__$beginContainerWidget","$getId","__$endContainerWidget","__$statementOnEvent","__$statementRepeater","__$createView","__$beginSection","__$endSection","__$bindAutoRefresh","$setFocusedWidget","$getFocusedWidget"],i=["data","moduleCtrl","flowCtrl","moduleRes"],s={},o=function(e){var t=s[e];return t==null&&(t=Aria.getClassRef(e),s[e]=t),t===
undefined&&this.$logError(this.WIDGET_LIBRARY_NOT_FOUND,[e,this.tplClasspath]),t},u=0;Aria.classDefinition({$classpath:"aria.templates.TemplateCtxt",$dependencies:["aria.templates.Layout","aria.templates.CfgBeans","aria.utils.Array","aria.utils.Function","aria.utils.Type","aria.templates.TemplateCtxtManager","aria.templates.RefreshManager","aria.templates.CSSMgr","aria.utils.Path","aria.utils.Delegate","aria.templates.NavigationManager","aria.templates.SectionWrapper","aria.core.environment.Customizations","aria.utils.Dom"
,"aria.templates.DomElementWrapper","aria.templates.MarkupWriter","aria.utils.DomOverlay"],$implements:["aria.templates.ITemplate","aria.templates.ITemplateCtxt"],$extends:"aria.templates.BaseCtxt",$onload:function(){e=aria.templates.Layout,t=aria.core.JsonValidator},$onunload:function(){e=null,t=null},$events:{Ready:{description:""}},$constructor:function(){this.$BaseCtxt.constructor.apply(this,arguments),this._differed=null,this._ready=!1,this.__dataGround=null,this.__wrappers=[],this.__loadingOverlays=[],
this.__loadingOverlaysSection={},this._cfg=null,this._persistentStorage=null,this._focusedWidgetPath=[],this._globalCssDepsLoaded=!1},$destructor:function(){aria.templates.TemplateCtxtManager.remove(this),this._cssClasses&&(aria.templates.CSSMgr.unloadDependencies(this),this._globalCssDepsLoaded&&(aria.templates.CSSMgr.unloadWidgetDependencies("aria.templates.Template",["aria.templates.GlobalStyle","aria.widgets.GlobalStyle"]),this._globalCssDepsLoaded=!1),this._cssClasses=null),this.__dataGround&&(aria.utils
.Json.setValue(this.__dataGround,"data",null),this.__dataGround=null),this.__disposeProcessingIndicators(),this.__disposeWrappers();var t=this._tpl;if(t){try{this.flowCtrl&&this.flowCtrl.$unregisterListeners(t),this.moduleCtrl&&this.moduleCtrl.$removeListeners({"*":{fn:t.onModuleEvent,scope:t,firstOnly:!0},beforeDispose:{fn:this._beforeModuleDispose,scope:this,firstOnly:!0}})}catch(n){this.$logError(this.TEMPLATE_EXCEPTION_REMOVING_LISTENERS,[this.tplClasspath],n)}try{t.$dispose()}catch(n){this.$logError(this
.TEMPLATE_DESTR_ERROR,[this.tplClasspath],n)}t.__$write=null;for(var s=0,o;o=i[s];s++)delete t[o];for(s=0;o=r[s];s++)delete t[o];this._tpl=null}var u=this._mainSection;u&&(u.$dispose(),this._mainSection=null);var a=this._cfg;if(a){var f=a.tplDiv;f&&(this.__removeDebugInfo(f),a.tplDiv=null);if(a.div){var l=aria.utils.Type.isObject;(l(a.width)||l(a.height))&&e.unregisterAutoresize(a.div),aria.utils.Dom.replaceHTML(a.div,""),a.div=null}if(a.toDispose){var c=a.toDispose;for(var h=c.length-1;h>=0;h--)c[h].$dispose
();a.toDispose=null,c=null}a.data=null,a.macro=null,this._cfg=null}this.data=null,this.moduleRes=null,this.moduleCtrl=null,this.moduleCtrlPrivate=null,this.flowCtrl=null,this.flowCtrlPrivate=null,this.$BaseCtxt.$destructor.call(this)},$statics:{WIDGET_LIBRARY_NOT_FOUND:"Error in template '%2': widget library '%1' was not found.",INVALID_STATE_FOR_REFRESH:"Error in template '%1': calling $refresh while the template is being refreshed is not allowed.",SECTION_OUTPUT_NOT_FOUND:"Error while refreshing template '%1': output section '%2' was not found."
,VAR_NULL_OR_UNDEFINED:"Template %2 \nLine %1: expression is null or undefined.",SECTION_BINDING_ERROR_SINGLE_VAR:"line %1: Cannot bind section to single variable except data. Binding must be something like container.parameter",SECTION_MACRO_MISUSED:"Template %1 \nline %2: section statement must either be a container or have a non-null macro property.",TEMPLATE_EXCEPTION_REMOVING_LISTENERS:"Error in template '%1' while removing module or flow listeners.",TEMPLATE_NOT_READY_FOR_REFRESH:"Error in template '%1': the $refresh method was called, but the template is not yet ready to be refreshed."
,FOCUS_FAILURE:"Focus failure: widget/element with id '%1' in '%2' does not exist or it is not yet ready for focus.",DATA_READY_EXCEPTION:"Error in template %1: an exception happened in $dataReady.",VIEW_READY_EXCEPTION:"Error in template %1: an exception happened in $viewReady.",DISPLAY_READY_EXCEPTION:"Error in template %1: an exception happened in $displayReady.",BEFORE_REFRESH_EXCEPTION:"Error in template %1: an exception happened in $beforeRefresh.",AFTER_REFRESH_EXCEPTION:"Error in template %1: an exception happened in $afterRefresh."
,ALREADY_REFRESHING:"$refresh was called while another refresh is happening on the same template (%1). This is not allowed. Please check bindings.",MISSING_MODULE_CTRL_FACTORY:"Template %1 cannot be initialized without aria.templates.ModuleCtrlFactory, make sure it is loaded"},$prototype:{dataReady:function(){try{this._tpl.$dataReady()}catch(e){this.$logError(this.DATA_READY_EXCEPTION,[this.tplClasspath],e)}},viewReady:function(){try{this._tpl.$viewReady()}catch(e){this.$logError(this.VIEW_READY_EXCEPTION,[this
.tplClasspath],e)}},displayReady:function(){try{this._tpl.$displayReady()}catch(e){this.$logError(this.DISPLAY_READY_EXCEPTION,[this.tplClasspath],e)}},beforeRefresh:function(e){if(this._tpl.$beforeRefresh)try{this._tpl.$beforeRefresh(e)}catch(t){this.$logError(this.BEFORE_REFRESH_EXCEPTION,[this.tplClasspath],t)}},afterRefresh:function(e){if(this._tpl.$afterRefresh)try{this._tpl.$afterRefresh(e)}catch(t){this.$logError(this.AFTER_REFRESH_EXCEPTION,[this.tplClasspath],t)}},$refresh:function(e){if(aria.templates
.RefreshManager.isStopped()){if(e){var n=e.outputSection||e.filterSection;if(n&&this._mainSection){var r=this._mainSection.getSectionById(n);if(r){r.notifyRefreshPlanned(e);return}}}aria.templates.RefreshManager.queue({fn:this.$refresh,args:e,scope:this},this)}else{if(!this._cfg.tplDiv){this.$logError(this.TEMPLATE_NOT_READY_FOR_REFRESH,[this.tplClasspath]);return}this._refreshing&&this.$logError(this.ALREADY_REFRESHING,[this.tplClasspath]),this._refreshing=!0,aria.templates.RefreshManager.stop(),aria.templates
.CSSMgr.stop(),this.$assert(304,!!this._tpl);var i={json:e,beanName:"aria.templates.CfgBeans.RefreshCfg"};t.normalize(i),e=i.json,this.beforeRefresh(e);var r=this.getRefreshedSection({filterSection:e.filterSection,outputSection:e.outputSection,macro:e.macro});this.__disposeProcessingIndicators(r),r&&!r.id&&this.__disposeWrappers(),aria.templates.CSSMgr.resume(),r!=null&&this.insertSection(r),this._refreshing=!1,aria.templates.RefreshManager.resume(),r!=null&&(this.afterRefresh(e),this.$raiseEvent({name:"SectionRefreshed"
,sectionID:r.id}))}},$getFocusedWidget:function(){return this._focusedWidgetPath},$setFocusedWidget:function(){var e=Aria.$window.document.activeElement;this._focusedWidgetPath=this._getWidgetPath(e)},_getWidgetPath:function(e){if(e.tagName==="BODY"||!aria.utils.Dom.isInDom(e))return[];var t=[];while(!e.__widget)e=e.parentElement||e.parentNode;var n=e.__widget.getId();if(!n)return[];t.unshift(n);var r=e.__widget._context;while(this!==r&&r!==null){n=r.getOriginalId();if(!n)return[];t.unshift(n),r=r.parent}return r===
null?[]:t},getOriginalId:function(){return this._cfg.originalId},getMarkup:function(e,t){this.$assert(299,this._cfg.tplDiv==null),this.$assert(301,this._mainSection==null);var n=this.getRefreshedSection({macro:e,filterSection:t,outputSection:null});return n.html},linkToPreviousMarkup:function(e){var t=this._cfg;this.$assert(320,e!=null),this.$assert(322,t.tplDiv==null),this.$assert(324,this._mainSection!=null),t.tplDiv=e,t.div=e.parentNode?e.parentNode:null,this.__addDebugInfo(e),this.insertSection(this._mainSection
,!0),this.afterRefresh(),this.$raiseEvent({name:"SectionRefreshed",sectionID:null})},__addDebugInfo:function(e){e&&e.setAttribute&&(e.setAttribute("_template",this.tplClasspath),e.__template=this._tpl,e.__moduleCtrl=this.moduleCtrlPrivate?this.moduleCtrlPrivate:this.moduleCtrl,e.__data=this.data)},__removeDebugInfo:function(e){e&&(e.__data=null,e.__moduleCtrl=null,e.__template=null)},getRefreshedSection:function(e){var n={json:e,beanName:"aria.templates.CfgBeans.GetRefreshedSectionCfg"};t.normalize(n),e=n.json
;var r=e.outputSection,i=e.filterSection;r===undefined&&(r=i);var s=null;if(r!=null){s=this._mainSection?this._mainSection.getSectionById(r):null;if(s==null)return this.$logError(this.SECTION_OUTPUT_NOT_FOUND,[this.tplClasspath,r]),null;s.beforeRefresh(e),s.stopListeners()}var o=e.writerCallback;o==null&&(o={fn:this._callMacro,args:e.macro,scope:this});var u=this.createSection(o,{filterSection:i,ownIdMap:s==null});if(u==null)return null;if(s==null)this._mainSection&&this._mainSection.$dispose(),this._mainSection=
u;else if(i){s.copyConfigurationTo(u);var a=s.parent;this.$assert(402,a!=null),s.$dispose(),a.addSubSection(u)}else s.removeContent(),s.removeDelegateIdsAndCallbacks(),u.moveContentTo(s),s.html=u.html,u.$dispose(),u=s,u.resumeListeners();return u},_setOut:function(e){this._out=e;var t=this._macrolibs||[];for(var n=0,r=t.length;n<r;n++)t[n]._setOut(e)},insertAdjacentSections:function(e){var n=e.position,r={json:e,beanName:"aria.templates.CfgBeans.InsertAdjacentSectionsCfg"};t.normalize(r);var i=this.createSection
({fn:this.__dynamicSectionWriter,scope:this,args:e});aria.utils.Dom.insertAdjacentHTML(e.refSection.domElt,n,i.html),aria.utils.Dom.refreshDomElt(this._cfg.tplDiv);var s=e.refSection.object;if(n=="beforeBegin"||n=="afterEnd")s=s.parent;this.$assert(459,s);var o=i.moveContentTo(s);i.$dispose(),this.$assert(466,o),this.__processDifferedItems(o);for(var u=0;u<e.sections.length;u++)this.afterRefresh({outputSection:e.sections[u].id})},__dynamicSectionWriter:function(e,t){var n=t.sections;for(var r=0,i=n.length;r<
i;r++)this.__$beginSection(null,!1,n[r]),this.__$endSection()},createSection:function(e,t){if(this._out!=null)return this.$logError(this.INVALID_STATE_FOR_REFRESH,[this.tplClasspath]),null;var n=new aria.templates.MarkupWriter(this,t),r=null;return this._setOut(n),this.$callback(e,n),r=n.getSection(),n.$dispose(),this._setOut(null),r},insertSection:function(t,n){var r,i=this._cfg,s=this._tpl,o=t.id?t.getDom():i.tplDiv;o&&(n||(o=aria.utils.Dom.replaceHTML(o,t.html),t.setDom(o)),t.id||e.setDivSize(o,s.$width,s
.$height,"hidden"),aria.utils.Delegate.addExpando(o,t.delegateId),r=t.initWidgets(),this.__processDifferedItems(r)),n||(this.$assert(743,i.tplDiv&&s),aria.utils.Dom.refreshDomElt(i.tplDiv))},__processDifferedItems:function(e){if(e.length>0){for(var t=0,n=e.length;t<n;t++)e[t].$onOnce({ElementReady:this.__checkContextReadyCb,scope:this});this._differed=e}else this.__checkContextReadyCb()},__checkContextReadyCb:function(e){if(e){var t=e.src,n=this._differed;n&&aria.utils.Array.remove(n,t)}if(!n||!n.length)this
._differed=null,this._ready=!0,this.displayReady(),this.$raiseEvent("Ready")},__$processWidgetMarkup:function(e,t,n,r){var i=this._out;if(i.sectionState!=i.SECTION_KEEP)return;var s=o.call(this,e);if(!s)return;s.processWidgetMarkup(t,i,n,r)},__$beginContainerWidget:function(e,t,n,r){var i=this._out;if(i.sectionState==i.SECTION_SKIP)return!1;i.skipContent=!1;var s=o.call(this,e);if(!s)return!1;var u=s.processWidgetMarkupBegin(t,i,n,r);return i.skipContent||u==null?(u&&u.writeMarkupEnd(i),!1):(i.addToCtrlStack
(u),!0)},__$endContainerWidget:function(){var e=this._out,t=e.removeFromCtrlStack();t.writeMarkupEnd(e)},__$statementOnEvent:function(e,t,n){this._out.pushDelegate(e,t)},__$statementRepeater:function(e,t){this._out.repeater(t)},initTemplate:function(s){if(!t.normalize({json:s,beanName:"aria.templates.CfgBeans.InitTemplateCfg"}))return!1;this._out=null,this._cfg=s,s.id?this._id=s.id:(this._id="tpl"+u,u++),Aria.testMode&&(this._prefixIds={}),this.tplClasspath=s.classpath;var o;try{o=Aria.getClassInstance(s.classpath
)}catch(a){return this.$logError(this.TEMPLATE_CONSTR_ERROR,[s.classpath],a),!1}this._tpl=o,s.macro==null&&(s.macro={name:"main",args:s.args,scope:o}),s.macro=this.checkMacro(s.macro);var f=s.context,l=s.moduleCtrl,c=s.data,h,p;f&&!l&&(c||(c=f.data),l=f.moduleCtrl);if(l)if(!aria.templates.ModuleCtrlFactory)this.$logError(this.MISSING_MODULE_CTRL_FACTORY,[s.classpath]);else{n||(n=aria.templates.ModuleCtrlFactory.__getModulePrivateInfoMethod()),h=n.call(this,l);if(!h)return!1;p=h.moduleCtrlPrivate;if(!c)c=p.getData
();else if(f){var d=p.getSubModuleCtrl(c);if(d!=l){l=d,h=n.call(this,l);if(!h)return!1;p=h.moduleCtrlPrivate}}}this.data=c,this.moduleCtrl=l,h&&(this.flowCtrl=h.flowCtrl,this.flowCtrlPrivate=h.flowCtrlPrivate,this.moduleCtrlPrivate=p,this.moduleRes=p.getResourceSet()),s.data=c,s.moduleCtrl=l,aria.templates.TemplateCtxtManager.add(this),this.data!=null&&(this.__dataGround={data:this.data});var v=this,m,g;for(m=0;g=i[m];m++)o[g]=this[g];var y=aria.utils.Function;for(m=0;g=r[m];m++)o[g]=y.bind(this[g],this);o.__$write=
function(e,t){return v.__$write(e,t,this.$classpath)},this.moduleCtrl&&this.moduleCtrl.$on({"*":{fn:o.onModuleEvent,scope:o},beforeDispose:{fn:this._beforeModuleDispose,scope:this}}),this.flowCtrl&&this.flowCtrl.$on({"*":o.onFlowEvent,scope:o}),this._width={},this._height={},this.$setViewportWidth(e.realWidth(s.width)),this.$setViewportHeight(e.realHeight(s.height)),this.$setSizeCfg(o.__$width,o.__$height),this.__addDebugInfo(s.tplDiv);var b=o.__$initTemplate();return this.__loadLibs(o.__$macrolibs,"macrolibs"
),b},__$beginSection:function(e,t,n,r){aria.utils.Type.isString(n)&&(n={id:n},r&&(n.type=r)),t===(n!=null&&n.macro!=null)&&(this.$logError(this.SECTION_MACRO_MISUSED,[this.tplClasspath,e]),t&&(n.macro=null)),this._out.beginSection(n)},__$endSection:function(){return this._out.endSection()},__$write:function(e,t,n){return(e===undefined||e===null)&&this.$logWarn(this.VAR_NULL_OR_UNDEFINED,[t,n]),this._out.write(e)},$hdim:function(t,n,r){return e.getSODim(this._width,t,n,r)},$vdim:function(t,n,r){return e.getSODim
(this._height,t,n,r)},getContainerDiv:function(){return this._cfg&&this._cfg.div?this._cfg.div:null},$setViewportWidth:function(t){var n=this._width;return e.setSOViewport(n,t),this._tpl.$width!=n.value?(this._tpl.$width=n.value,!0):!1},$setViewportHeight:function(t){var n=this._height;return e.setSOViewport(n,t),this._tpl.$height!=n.value?(this._tpl.$height=n.value,!0):!1},$setSizeCfg:function(t,n){t&&e.setSOSizeCfg(this._width,t),this._tpl.$width=this._width.value,n&&e.setSOSizeCfg(this._height,n),this._tpl
.$height=this._height.value},evalCallback:function(e,t,n){return this._tpl.$callback(e,t,n)},$getId:function(e){return[this._id,e].join("_")},$getAutoId:function(e){e=this._id+"_"+e.replace(/\+/g,"");var t=this._prefixIds,n=t[e]=(t[e]||0)+1;return e+"_auto_"+n},__$writeId:function(e){var t=this._out.tplCtxt.getDomId(e);t&&this._out.write('id="'+t+'"')},getDomId:function(e){var e=e+"";return e&&e.indexOf("+")!=-1?Aria.testMode?this.$getAutoId(e):null:this.$getId(e)},$getElementById:function(e){var t=this.$getId
(e),n=aria.utils.Dom.getElementById(t);if(!n)return null;var r=this._mainSection.getSectionById(e),i;return r?i=new aria.templates.SectionWrapper(n,r):i=new aria.templates.DomElementWrapper(n,this),this.__wrappers&&this.__wrappers.push(i),i},$getChild:function(e,t){var n=aria.utils.Dom,r=this.$getId(e),i=n.getElementById(r);if(i)var s=n.getDomElementChild(i,t);if(s){var o=new aria.templates.DomElementWrapper(s,this);return this.__wrappers&&this.__wrappers.push(o),o}return null},getBehaviorById:function(e){return this
._mainSection==null?null:this._mainSection.getBehaviorById(e)},getPersistentStorage:function(){var e=this._persistentStorage;return e==null&&(this.data?(e=this.data[Aria.FRAMEWORK_PREFIX+"persist::"+this.tplClasspath],e==null&&(e={},this.data[Aria.FRAMEWORK_PREFIX+"persist::"+this.tplClasspath]=e)):e={},this._persistentStorage=e),e},$focus:function(e){(aria.core.Browser.isIE7||aria.core.Browser.isIE8)&&Aria.$window.document.body.focus();var t;aria.utils.Type.isArray(e)?(e=e.slice(0),t=e.shift()):(t=e,e=[]);if(!
t)return;var n=!1,r=this.getBehaviorById(t);r&&typeof r.focus!="undefined"&&(r.focus(e),n=!0);if(!n){var i=this.$getId(t),s=aria.utils.Dom.getElementById(i);s&&(s.focus(),n=!0)}n||this.$logError(this.FOCUS_FAILURE,[t,this.tplClasspath])},$focusFromParent:function(){if(this._tpl.$focusFromParent)return this._tpl.$focusFromParent();var e=aria.utils.Dom.getElementById(this._id);return aria.templates.NavigationManager.focusFirst(e)},__$createView:function(e,t,n){var r=this.getPersistentStorage();t.unshift(e);var i=
t.length,s=r,o;for(var u=0;u<i-1;u++)o=t[u],s[o]||(s[o]=[]),s=s[o];return o=t[i-1],s[o]?(s=s[o],s.initialArray=n):(s[o]=new aria.templates.View(n),s=s[o]),s.refresh(),r[e]},isReady:function(){return this._ready},_beforeModuleDispose:function(e){var t=e.reloadingObject,n=this._getReloadCfg(),r=t&&this.moduleCtrl.getData()==n.data;Aria.disposeTemplate(n.div);if(t){var i=this;t.$on({scope:{},objectLoaded:function(e){n.moduleCtrl=e.object,r&&(n.data=e.object.getData()),i._callLoadTemplate(n)}})}},_getReloadCfg:function(
){var e=this.getContainerDiv(),t=this._cfg.origClasspath?this._cfg.origClasspath:this._cfg.classpath,n={classpath:t,width:this._cfg.width,height:this._cfg.height,printOptions:this._cfg.printOptions,div:e,data:this._cfg.data,moduleCtrl:this.moduleCtrlPrivate,provideContext:!0,args:this._cfg.args};return this._cfg.toDispose=[],n},_callLoadTemplate:function(e,t){var n=e.div;if(!aria.utils.Dom.isInDom(n)){this.$callback(t);return}var r=n.__widget;Aria.loadTemplate(e,function(e){if(e.success&&r){var n=e.tplCtxt,i=
aria.templates.TemplateCtxtManager;i.remove(n),e.tplCtxt._cfg.isRootTemplate=!1,i.add(n),r.subTplCtxt=n}t!=null&&this.$callback(t)})},$reload:function(e,t){var n=this._getReloadCfg();e&&aria.templates.TemplateManager.$onOnce({unloadTemplate:{fn:function(){var t=n.classpath.replace(/\./g,"/")+".tpl",r=aria.core.Cache.getItem("files",t,!0);r.status=3,r.value=e},scope:this}}),n.reload=!0,n.reloadByPassCache=!0;var r=Aria.disposeTemplate(n.div);r?this._callLoadTemplate(n,t):this.$logError("Could not reload template: "+
n.classpath)},__$bindAutoRefresh:function(e,t,n){if(this._out._currentSection){var r={inside:e,to:t};t===null&&(e==this.data?(r.inside=this.__dataGround,r.to="data"):this.$logError(this.SECTION_BINDING_ERROR_SINGLE_VAR,[n])),this._out._currentSection.registerBinding(r)}},getCSSDependencies:function(){var e;return this._tpl&&(e=this._tpl.$css),e==null&&(e=[]),e},getCSSClassNames:function(e){var t=this._cssClasses;t||(this._cfg.isRootTemplate&&(aria.templates.CSSMgr.loadWidgetDependencies("aria.templates.Template"
,["aria.templates.GlobalStyle","aria.widgets.GlobalStyle"]),this._globalCssDepsLoaded=!0),t=aria.templates.CSSMgr.loadDependencies(this),this._cssClasses=t);if(e)return t.join(" ");var n=["xTplContent"];return t.length&&(n=n.concat(t)),aria.core.TplClassLoader.addPrintOptions(n.join(" "),this._cfg.printOptions)},registerProcessingIndicator:function(e,t,n){this.$assert(1200,t!=null),e?n?this.__loadingOverlaysSection[n]=t:this.__loadingOverlays.push(t):n?delete this.__loadingOverlaysSection[n]:aria.utils.Array
.remove(this.__loadingOverlays,t)},refreshProcessingIndicator:function(){this._mainSection&&this._mainSection.refreshProcessingIndicator(!0)},__disposeProcessingIndicators:function(e){var t=aria.utils.DomOverlay;t.disposeOverlays(this.__loadingOverlays),this.__loadingOverlays=[],!e||e.isRoot?(t.disposeOverlays(aria.utils.Array.extractValuesFromMap(this.__loadingOverlaysSection)),this.__loadingOverlaysSection={}):(t.disposeOverlays([this.__loadingOverlaysSection[e.id]]),delete this.__loadingOverlaysSection[e.
id])},__disposeWrappers:function(){for(var e=this.__wrappers.length;e--;)this.__wrappers[e].$dispose(),this.__wrappers.splice(e,1)},getContainerScroll:function(){var e=null,t=this.getContainerDiv();return t&&(e={scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}),e},setContainerScroll:function(e){var t=this.getContainerDiv();t&&e&&(e.hasOwnProperty("scrollLeft")&&e.scrollLeft!=null&&(t.scrollLeft=e.scrollLeft),e.hasOwnProperty("scrollTop")&&e.scrollTop!=null&&(t.scrollTop=e.scrollTop))}}})})();
//*******************
//LOGICAL-PATH:aria/templates/TemplateCtxtManager.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.TemplateCtxtManager",$extends:"aria.utils.Store",$dependencies:["aria.utils.Array","aria.utils.AriaWindow"],$singleton:!0,$constructor:function(){this.$Store.constructor.call(this),this._rootTemplateContexts=[],Aria.rootTemplates=this._rootTemplateContexts,aria.utils.AriaWindow.$on({unloadWindow:this._unloadWindow,scope:this})},$destructor:function(){Aria.rootTemplates=this._templateContexts=null,aria.utils.AriaWindow.$unregisterListeners(this),this.$Store.$destructor
.call(this)},$prototype:{_unloadWindow:function(e){var t=Aria.rootTemplates;for(var n=t.length-1;n>=0;n--)t[n].$dispose()},add:function(e){e._cfg&&e._cfg.isRootTemplate&&(this._rootTemplateContexts.push(e),aria.utils.AriaWindow.attachWindow()),this.$Store.add.call(this,e)},remove:function(e){return e._cfg&&e._cfg.isRootTemplate&&aria.utils.Array.remove(this._rootTemplateContexts,e)&&aria.utils.AriaWindow.detachWindow(),this.$Store.remove.call(this,e)},getFromDom:function(e){var t=function(t){return e==t.getContainerDiv
()};return this.getMatch(t)},disposeFromDom:function(e){var t=function(t){return e==t.getContainerDiv()},n=this.removeMatch(t);return n?(n.$dispose(),!0):!1},getRootCtxts:function(){return this._rootTemplateContexts}}});
//*******************
//LOGICAL-PATH:aria/templates/TemplateManager.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.TemplateManager",$singleton:!0,$events:{unloadTemplate:{description:"",properties:{classpath:"classpath of the template that has been unloaded"}}},$prototype:{unloadTemplate:function(e,t,n){var r=aria.core.ClassMgr,i=e+"Script";(Aria.nspace(i,!1)||aria.core.Cache.getItem("classes",i))&&r.unloadClass(i,t);var s=Aria.$classDefinitions[e];if(s){!Aria.nspace(e,!1)&&s.$css&&aria.templates.CSSMgr.unregisterDependencies(e,s.$css,!0,t);if(s.$resources!=null){var o=s.$resources
;for(var u in o)o.hasOwnProperty(u)&&r.unloadClass(o[u],t)}var a=s.$extends;a!=null&&a!="aria.templates.Template"&&n!==undefined&&n!=e&&this.unloadTemplate(a,t,n)}r.unloadClass(e,t),this.$raiseEvent({name:"unloadTemplate",classpath:e})}}});
//*******************
//LOGICAL-PATH:aria/templates/TplClassGenerator.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.TplClassGenerator",$extends:"aria.templates.ClassGenerator",$singleton:!0,$dependencies:["aria.templates.TplParser","aria.widgetLibs.environment.WidgetLibsSettings"],$constructor:function(){this.$ClassGenerator.constructor.call(this),this._loadStatements(["Template","id","on","createView","section","@","bindRefreshTo","repeater"]),this._parser=aria.templates.TplParser,this._superClass="aria.templates.Template",this._classType="TPL",this._rootStatement="Template"
,this._templateParamBean="aria.templates.CfgBeans.TemplateCfg",this.escapeModifier="escapeForHTML"},$prototype:{_writeClassInit:function(e){var t=e.templateParam;e.enterBlock("classInit"),this._writeMapInheritance(e,"__$macrolibs",e.templateParam.$macrolibs,"{}"),this._writeValueInheritance(e,"__$width",t.$width,"{}"),this._writeValueInheritance(e,"__$height",t.$height,"{}"),e.leaveBlock(),this.$ClassGenerator._writeClassInit.call(this,e)},_processTemplateContent:function(e){var t=e.out,n=t.templateParam,r=n
.$wlibs,i=[],s=aria.widgetLibs.environment.WidgetLibsSettings.getWidgetLibs();for(var o in s)s.hasOwnProperty(o)&&r[o]==null&&(r[o]=s[o]);for(var o in r)r.hasOwnProperty(o)&&(t.allDependencies&&t.addDependency(r[o]),i.push(r[o]));Aria.load({classes:i,oncomplete:{fn:this.$ClassGenerator._processTemplateContent,scope:this,args:e}})}}});
//*******************
//LOGICAL-PATH:aria/templates/TplParser.js
//*******************
Aria.classDefinition({$classpath:"aria.templates.TplParser",$extends:"aria.templates.Parser",$singleton:!0,$prototype:{parseTemplate:function(e,t,n){return this.context=t,this._prepare(e),this._computeLineNumbers(),this._buildTree()}}});
//*******************
//LOGICAL-PATH:aria/templates/TreeBeans.js
//*******************
Aria.beanDefinitions({$package:"aria.templates.TreeBeans",$description:"",$namespaces:{json:"aria.core.JsonTypes"},$beans:{Root:{$type:"Statement",$description:"",$mandatory:!0,$properties:{name:{$type:"Statement.name",$regExp:/^#ROOT#$/},content:{$type:"Statement.content",$mandatory:!0},parent:{$type:"Statement.parent",$description:"",$mandatory:!1}}},Statement:{$type:"json:Object",$description:"",$properties:{name:{$type:"json:String",$description:"",$mandatory:!0},lineNumber:{$type:"json:Integer",$description
:"",$mandatory:!0},parent:{$type:"json:ObjectRef",$description:"",$mandatory:!0},content:{$type:"json:Array",$mandatory:!1,$description:"",$contentType:{$type:"Statement",$mandatory:!0}},firstCharContentIndex:{$type:"json:Integer",$description:"",$minValue:0,$mandatory:!1},lastCharContentIndex:{$type:"json:Integer",$description:"",$minValue:0,$mandatory:!1},paramBlock:{$type:"json:String",$description:"",$mandatory:!0},firstCharParamIndex:{$type:"json:Integer",$description:"",$minValue:0,$mandatory:!1},lastCharParamIndex
:{$type:"json:Integer",$description:"",$minValue:0,$mandatory:!1}}}}});
//*******************
//LOGICAL-PATH:aria/tools/contextual/environment/ContextualMenu.js
//*******************
Aria.classDefinition({$classpath:"aria.tools.contextual.environment.ContextualMenu",$dependencies:["aria.tools.contextual.environment.ContextualMenuCfgBeans"],$extends:"aria.core.environment.EnvironmentBase",$singleton:!0,$prototype:{_cfgPackage:"aria.tools.contextual.environment.ContextualMenuCfgBeans.AppCfg",getContextualMenu:function(){return this.checkApplicationSettings("contextualMenu")}}});
//*******************
//LOGICAL-PATH:aria/tools/contextual/environment/ContextualMenuCfgBeans.js
//*******************
Aria.beanDefinitions({$package:"aria.tools.contextual.environment.ContextualMenuCfgBeans",$description:"",$namespaces:{json:"aria.core.JsonTypes",environmentBase:"aria.core.environment.EnvironmentBaseCfgBeans"},$beans:{AppCfg:{$type:"json:Object",$description:"",$restricted:!1,$properties:{contextualMenu:{$type:"ContextualMenuCfg",$default:{}}}},ContextualMenuCfg:{$type:"json:Object",$description:"",$properties:{enabled:{$type:"json:Boolean",$description:"",$default:Aria.debug},template:{$type:"json:PackageName"
,$description:"",$default:"aria.tools.contextual.ContextualDisplay"},moduleCtrl:{$type:"json:PackageName",$description:"",$default:"aria.tools.contextual.ContextualModule"}}}}});
//*******************
//LOGICAL-PATH:aria/utils/dragdrop/DragDropBean.js
//*******************
Aria.beanDefinitions({$package:"aria.utils.dragdrop.DragDropBean",$beans:{}});
//*******************
//LOGICAL-PATH:aria/utils/environment/VisualFocus.js
//*******************
Aria.classDefinition({$classpath:"aria.utils.environment.VisualFocus",$extends:"aria.core.environment.EnvironmentBase",$dependencies:["aria.utils.environment.VisualFocusCfgBeans"],$singleton:!0,$prototype:{_cfgPackage:"aria.utils.environment.VisualFocusCfgBeans.AppCfg",getAppOutlineStyle:function(){return this.checkApplicationSettings("appOutlineStyle")},_applyEnvironment:function(e){var t=this.checkApplicationSettings("appOutlineStyle");t?Aria.load({classes:["aria.utils.VisualFocus"],oncomplete:e?{fn:function(
){this.$callback(e)},scope:this}:null}):this.$callback(e)}}});
//*******************
//LOGICAL-PATH:aria/utils/environment/VisualFocusCfgBeans.js
//*******************
Aria.beanDefinitions({$package:"aria.utils.environment.VisualFocusCfgBeans",$description:"",$namespaces:{json:"aria.core.JsonTypes"},$beans:{AppCfg:{$type:"json:Object",$description:"",$restricted:!1,$properties:{appOutlineStyle:{$type:"json:String",$description:"",$default:null}}}}});
//*******************
//LOGICAL-PATH:aria/utils/overlay/LoadingOverlay.js
//*******************
Aria.classDefinition({$classpath:"aria.utils.overlay.LoadingOverlay",$extends:"aria.utils.overlay.Overlay",$constructor:function(e,t,n){this.__text=n,this.$Overlay.constructor.call(this,e,{id:t,className:"xLDI"})},$prototype:{_createOverlay:function(e){var t=this.$Overlay._createOverlay.call(this,e);return this.__text&&(t.innerHTML="<span class='xLDI-text'>"+this.__text+"</span>"),t},_appendToDOM:function(e){var t=Aria.$window.document;t.body.appendChild(e)},_setInPosition:function(e,t){var n=aria.utils.Dom.
getGeometry(e),r=t.style;n?(r.top=n.y+"px",r.left=n.x+"px",r.width=n.width+"px",r.height=n.height+"px",r.display="block"):r.display="none"}}});
//*******************
//LOGICAL-PATH:aria/utils/overlay/Overlay.js
//*******************
Aria.classDefinition({$classpath:"aria.utils.overlay.Overlay",$dependencies:["aria.utils.Dom"],$constructor:function(e,t){var n=this._createOverlay(t);this.overlay=n,this.element=e,this._appendToDOM(n),this._setInPosition(e,n),this._computeZIndex(e,n)},$destructor:function(){this.overlay.parentNode.removeChild(this.overlay),this.overlay=null,this.element=null},$prototype:{_createOverlay:function(e){var t=Aria.$window.document,n=t.createElement(e.type||"div");return e.id&&(n.id="xOverlay"+e.id),n.className=e.
className||"xOverlay",n.style.position=e.position||"fixed",n},_appendToDOM:function(e){var t=Aria.$window.document;t.body.appendChild(e)},_setInPosition:function(e,t){var n=aria.utils.Dom,r=t.style,i=["Top","Right","Bottom","Left"],s,o={};for(var u=0,a=i.length;u<a;u++)s=n.getStyle(t,"border"+i[u]+"Width").split("px")[0],o[i[u].toLowerCase()]=s?+s:0;var f=aria.utils.Dom.getGeometry(e);f&&(r.position="absolute",r.top=f.y+"px",r.left=f.x+"px",r.width=f.width-o.left-o.right+"px",r.height=f.height-o.top-o.bottom+"px"
,r.display="block")},_computeZIndex:function(e,t){var n=Aria.$window.document,r=2e4,i=n.body;while(e&&e!=i){var s=e.style,o=s.zIndex;if(o){var u=parseInt(o,10);u>r&&(r=u+1)}e=e.parentNode}t.style.zIndex=""+r},refreshPosition:function(){this._setInPosition(this.element,this.overlay)},refresh:function(){this._setInPosition(this.element,this.overlay),this._computeZIndex(this.element,this.overlay)}}});
//*******************
//LOGICAL-PATH:aria/utils/sandbox/DOMProperties.js
//*******************
(function(){var e={abbr:{TD:"rw",TH:"rw"},accept:{INPUT:"rw"},acceptCharset:{FORM:"rw"},accessKey:"rw",action:{FORM:"rw"},align:{IFRAME:"rw",IMG:"rw"},alt:{AREA:"rw",IMG:"rw"},axis:{TD:"rw",TH:"rw"},baseURI:"r-",border:{IMG:"rw"},cellIndex:{TD:"r-",TH:"r-"},cellPadding:{TABLE:"rw"},cellSpacing:{TABLE:"rw"},ch:{TD:"rw",TH:"rw",TR:"rw"},charset:{A:"rw"},checked:{INPUT:"rw"},chOff:{TD:"rw",TH:"rw",TR:"rw"},className:"rw",clientHeight:"r-",clientWidth:"r-",cols:{TEXTAREA:"rw"},colSpan:{TD:"rw",TH:"rw"},complete:
{IMG:"r-"},coords:{AREA:"rw"},defaultChecked:{INPUT:"rw"},defaultSelected:{OPTION:"rw"},defaultValue:{INPUT:"rw",TEXTAREA:"rw"},dir:"rw",disabled:{BUTTON:"rw",INPUT:"rw",OPTION:"rw",SELECT:"rw",TEXTAREA:"rw"},enctype:{FORM:"rw"},frame:{TABLE:"rw"},frameBorder:{IFRAME:"rw"},hash:{AREA:"rw"},headers:{TD:"rw",TH:"rw"},height:{IFRAME:"rw",IMG:"rw"},host:{AREA:"rw"},hostname:{AREA:"rw"},href:{A:"rw",AREA:"rw"},hreflang:{A:"rw"},hspace:{IMG:"rw"},id:"r-",index:{OPTION:"rw"},innerHTML:"r-",lang:"rw",length:{FORM:"r-"
,SELECT:"r-"},localName:"r-",longDesc:{IFRAME:"rw",IMG:"rw"},lowsrc:{IMG:"rw"},marginHeight:{IFRAME:"rw"},marginWidth:{IFRAME:"rw"},maxLength:{INPUT:"rw"},method:{FORM:"rw"},multiple:{SELECT:"rw"},name:{A:"rw",BUTTON:"rw",FORM:"rw",IFRAME:"rw",IMG:"rw",INPUT:"rw",SELECT:"rw",TEXTAREA:"rw"},namespaceURI:"r-",naturalWidth:{IMG:"r-"},naturalHeight:{IMG:"r-"},nodeName:"r-",nodeType:"r-",nodeValue:"r-",noHref:{AREA:"rw"},noResize:{IFRAME:"rw"},offsetHeight:"r-",offsetLeft:"r-",offsetTop:"r-",offsetWidth:"r-",pathname
:{AREA:"rw"},port:{AREA:"rw"},prefix:"r-",protocol:{AREA:"rw"},readOnly:{INPUT:"rw",TEXTAREA:"rw"},rel:{A:"rw"},rev:{A:"rw"},rowIndex:{TR:"r-"},rows:{TEXTAREA:"rw"},rowSpan:{TD:"rw",TH:"rw"},rules:{TABLE:"rw"},schemaTypeInfo:"r-",scrollHeight:"r-",scrolling:{IFRAME:"rw"},scrollLeft:"rw",scrollTop:"rw",scrollWidth:"r-",search:{AREA:"rw"},sectionRowIndex:{TR:"r-"},selected:{OPTION:"rw"},selectedIndex:{SELECT:"rw"},shape:{AREA:"rw"},size:{INPUT:"rw",SELECT:"rw"},src:{IFRAME:"rw",IMG:"rw"},style:"r-",summary:{TABLE
:"rw"},tabIndex:"rw",tagName:"r-",target:{A:"rw",AREA:"rw",FORM:"rw"},text:{OPTION:"rw"},textContent:"r-",title:"rw",type:{A:"rw",BUTTON:"rw",INPUT:"r-",SELECT:"r-",TEXTAREA:"r-"},useMap:{IMG:"rw"},vAlign:{TD:"rw",TH:"rw",TR:"rw"},value:{BUTTON:"rw",INPUT:"rw",OPTION:"rw",SELECT:"rw",TEXTAREA:"rw"},vspace:{IMG:"rw"},width:{IFRAME:"rw",IMG:"rw"}};Aria.classDefinition({$classpath:"aria.utils.sandbox.DOMProperties",$singleton:!0,$prototype:{getPropertyAccess:function(t,n){if(!e.hasOwnProperty(n))return"--";var r=
e[n];if(typeof r=="object"){t=t.toUpperCase();if(!r.hasOwnProperty(t))return"--";r=r[t]}return r},isReadSafe:function(e,t){return this.getPropertyAccess(e,t).charAt(0)=="r"},isWriteSafe:function(e,t){return this.getPropertyAccess(e,t).charAt(1)=="w"}}})})();
//*******************
//LOGICAL-PATH:aria/utils/AriaWindow.js
//*******************
Aria.classDefinition({$classpath:"aria.utils.AriaWindow",$dependencies:["aria.utils.Event"],$singleton:!0,$constructor:function(){this._windowUsages=0},$destructor:function(){this._unloadWindow()},$events:{attachWindow:"This event is raised when Aria Templates is starting to store references on Aria.$window (when a call of attachWindow makes the counter pass from 0 to 1).",unloadWindow:"This event is raised when setWindow is called with a different window, or if the document is unloaded (for example on page navigation), and only if the window is used by Aria Templates (the counter is non-zero). Listeners should do the necessary to remove references to elements inside the Aria.$window."
,detachWindow:"This event is raised when Aria Templates no longer stores references on Aria.$window (when a call of detachWindow makes the counter pass from 1 to 0)."},$statics:{NEGATIVE_WINDOW_USAGES:"Calls to attachWindow/detachWindow lead to a negative counter: %1. The counter will be reset to 0.",WINDOW_STILL_USED_AFTER_UNLOAD:"Counter is not null after raising unloadWindow: %1. The counter will be reset to 0.",ALREADY_UNLOADING_WINDOW:"Aria.$window is already being unloaded."},$prototype:{attachWindow:function(
){this._windowUsages++,this._windowUsages===1&&(aria.utils.Event.addListener(Aria.$window,"unload",{fn:this._unloadWindow,scope:this}),this.$raiseEvent("attachWindow"))},detachWindow:function(){this._windowUsages<=0?this.$logError(this.NEGATIVE_WINDOW_USAGES,[this._windowUsages-1]):this._windowUsages--,this._windowUsages===0&&!this._isUnloadingWindow&&this._raiseDetachWindow()},_raiseDetachWindow:function(){this.$assert(42,this._windowUsages===0),this.$raiseEvent("detachWindow"),aria.utils.Event.removeListener
(Aria.$window,"unload",{fn:this._unloadWindow,scope:this}),aria.utils.Event.reset()},_unloadWindow:function(){if(this._isUnloadingWindow){this.$logError(this.ALREADY_UNLOADING_WINDOW);return}if(!this.isWindowUsed())return;this._isUnloadingWindow=!0;try{this.$raiseEvent("unloadWindow"),this._windowUsages>0&&(this.$logError(this.WINDOW_STILL_USED_AFTER_UNLOAD,[this._windowUsages]),this._windowUsages=0),this._raiseDetachWindow()}finally{this._isUnloadingWindow=!1}},setWindow:function(e){if(e===Aria.$window)return;
this._unloadWindow(),Aria.$window=e},isWindowUsed:function(){return this._windowUsages>0}}});
//*******************
//LOGICAL-PATH:aria/utils/Callback.js
//*******************
Aria.classDefinition({$classpath:"aria.utils.Callback",$dependencies:["aria.utils.Type"],$statics:{INVALID_CALLBACK:"The callback function is invalid or missing or it was called after $dispose."},$constructor:function(e){e=this.$normCallback(e);var t=aria.utils.Type.isFunction(e.fn);this._scope=t?e.scope:this,this._function=t?e.fn:this._warnDisposed,this._args=e.args,this._resIndex=e.resIndex,this._apply=e.apply},$destructor:function(){this._scope=this,this._function=this._warnDisposed,this._args=null},$prototype
:{call:function(e){var t=this._apply===!0&&aria.utils.Type.isArray(this._args)?this._args:[this._args],n=this._resIndex===undefined?0:this._resIndex;return n>-1&&t.splice(n,0,e),this._function.apply(this._scope,t)},_warnDisposed:function(){this.$logError(this.INVALID_CALLBACK)},apply:function(e){this.call(e)}}});
//*******************
//LOGICAL-PATH:aria/utils/ClassList.js
//*******************
Aria.classDefinition({$classpath:"aria.utils.ClassList",$constructor:function(e){this.setClassName=function(t){e.className=t},this.getClassName=function(){return e.className},this._dispose=function(){e=null,this._dispose=null}},$destructor:function(){this._dispose&&this._dispose()},$prototype:{add:function(e){this.contains(e)||this.setClassName(this.getClassName()+" "+e)},remove:function(e){var t=this.getClassName().split(" ");for(var n=0,r=t.length;n<r;n++)if(t[n]==e){t.splice(n,1);break}this.setClassName(t
.join(" "))},toggle:function(e){this.contains(e)?this.remove(e):this.add(e)},contains:function(e){var t=this.getClassName().split(" ");for(var n=0,r=t.length;n<r;n++)if(t[n]==e)return!0;return!1},setClassName:function(e){},getClassName:function(){}}});
//*******************
//LOGICAL-PATH:aria/utils/Delegate.js
//*******************
Aria.classDefinition({$classpath:"aria.utils.Delegate",$dependencies:["aria.utils.Event","aria.DomEvent","aria.utils.IdManager","aria.utils.Callback","aria.utils.Array","aria.core.Browser","aria.utils.AriaWindow"],$singleton:!0,$events:{elementFocused:{description:"",properties:{focusedElement:"{HTMLElement} element that has received the focus"}},elementBlurred:{description:"",properties:{blurredElement:"{HTMLElement} element that has lost the focus"}}},$constructor:function(){this.depth=-1,this.checkCSSPrefix=
function(){if(Aria.$window&&Aria.$window.document){var e=Aria.$window.document.createElement("div"),t=["ms","O","Webkit","Moz",""];for(var n=0;n<t.length;n+=1){var r=t[n];if(e.style[r+"Transition"]!==undefined)return r}}return null},this.delegatedOnBody=["click","focus","blur","focusin","focusout","mousedown","mouseup","mousemove","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove","mousewheel"],this.vendorPrefix=this.checkCSSPrefix(),this.vendorPrefix!==null&&this.delegatedOnBody.push("transitionend"
,"animationstart","animationiteration","animationend"),this.vendorPrefix==="O"&&this.delegatedOnBody.push("oanimationstart","oanimationiteration","oanimationend","otransitionEnd"),this.vendorPrefix==="ms"&&this.delegatedOnBody.push("MSAnimationStart","MSAnimationIteration","MSAnimationEnd","MSTransitionEnd"),this.vendorPrefix==="Webkit"&&this.delegatedOnBody.push("webkitAnimationIteration","webkitAnimationEnd","webkitAnimationStart","webkitTransitionEnd"),this.delegatedOnWindow=["keydown","keyup","keypress"]
,this.delegatedGestures={tap:"aria.touch.Tap",swipe:"aria.touch.Swipe"},this.rootListener=null,this.supportedEvents={dblclick:!0,mouseleave:!0,mouseenter:!0,copy:!0,change:!0,paste:!0,cut:!0,submit:!0,error:!0,mousewheel:!0},aria.core.Browser.isIE||this.delegatedOnBody.push("change","paste","cut"),this._delegatedMap={};var e,t;for(e=0,t=this.delegatedOnBody.length;e<t;e++){var n=this.delegatedOnBody[e];this._delegatedMap[n]=!0}for(e=0,t=this.delegatedOnWindow.length;e<t;e++){var n=this.delegatedOnWindow[e];this
._delegatedMap[n]=!0}for(var r in this.delegatedGestures)this.delegatedGestures.hasOwnProperty(r)&&(this._delegatedMap[r]=!0);for(var r in this._delegatedMap)this._delegatedMap.hasOwnProperty(r)&&(this.supportedEvents[r]=!0);this.delegateExpando="atdelegate",this.__delegateMapping=null,this.__idMgr=new aria.utils.IdManager("d"),this.__stackCache=null,this._changed=null,this._focusTracking=null,aria.utils.AriaWindow.$on({unloadWindow:this.reset,scope:this})},$destructor:function(){this.reset(),this.__idMgr.$dispose
(),this.__idMgr=null,aria.utils.AriaWindow.$unregisterListeners(this)},$statics:{DELEGATE_UTIL_CALLBACK_FAIL:"Error caught in callback for event %1"},$prototype:{reset:function(){this.cleanCache();var e=this.__delegateMapping;if(e){for(var t in e)e.hasOwnProperty(t)&&this.remove(t);var n=Aria.$window.document.body,r=aria.utils.Event,i,s;for(i=0,s=this.delegatedOnBody.length;i<s;i++)r.removeListener(n,this.delegatedOnBody[i],{fn:this.delegate});for(i=0,s=this.delegatedOnWindow.length;i<s;i++)r.removeListener(
this.rootListener,this.delegatedOnWindow[i],{fn:this.delegate});this.__delegateMapping=null,this.rootListener=null,this._focusTracking=null,aria.utils.AriaWindow.detachWindow()}},isDelegated:function(e){return this._delegatedMap[e]},add:function(e){this.cleanCache();if(!this.__delegateMapping){aria.utils.AriaWindow.attachWindow();var t=Aria.$window.document.body;this.rootListener=aria.core.Browser.isIE?t:Aria.$window,this.__delegateMapping={};var n=aria.utils.Event,r,i;for(r=0,i=this.delegatedOnBody.length;r<
i;r++)n.addListener(t,this.delegatedOnBody[r],{fn:this.delegate,scope:this});for(r=0,i=this.delegatedOnWindow.length;r<i;r++)n.addListener(this.rootListener,this.delegatedOnWindow[r],{fn:this.delegate,scope:this})}var s=this.__idMgr.getId();while(this._changed&&this._changed[s])this._changed[s]=!1,s=this.__idMgr.getId();return this.__delegateMapping[s]=new aria.utils.Callback(e),s},getMarkup:function(e){return this.delegateExpando+"='"+e+"'"},addExpando:function(e,t){e.setAttribute(this.delegateExpando,t)},getFallbackMarkup
:function(e,t,n){return aria.core.Browser.isIE?this.getFallbackMarkup=function(e,t,n){return n=n?"true":"false"," on"+e+"=\"aria.utils.Delegate.directCall(event, '"+t+"', "+n+', this)"'}:this.getFallbackMarkup=function(e,t,n){var r="directCall";n=n?"true":"false";if("mouseleave"==e||"mouseenter"==e)e="mouseleave"==e?"mouseout":"mouseover",r="mouseMovement";return" on"+e+'="aria.utils.Delegate.'+r+"(event, '"+t+"', "+n+', this)"'},this.getFallbackMarkup(e,t,n)},__wrapEvent:function(e,t){return e.$DomEvent?e:t?new
aria.templates.DomEventWrapper(e):new aria.DomEvent(e)},directCall:function(e,t,n,r){this.$assert(286,this.__delegateMapping);var i=this.__wrapEvent(e,n),s,o=this.__delegateMapping[t];return o&&(s=o.call(i)),i.$dispose(),s},mouseMovement:function(e,t,n,r){if(aria.utils.Dom.isAncestor(e.relatedTarget,r)===!1){var i=this.__wrapEvent(e,n);return i.type=e.type=="mouseover"?"mouseenter":"mouseleave",i.setTarget(r),this.directCall(i,t,n,r)}},remove:function(e){this.cleanCache(),this._changed&&(this._changed[e]=!0)
,this.__delegateMapping&&(this.__delegateMapping[e].$dispose(),delete this.__delegateMapping[e],this.__idMgr.releaseId(e))},delegate:function(e){this.__stackCache||(this.__stackCache={});var t=this.depth,n=[],r,i,s,o,u,a,f=Aria.$window.document.body;e=this.__wrapEvent(e),s=e.target;var l=!1;while(t&&s&&s!=f){if(s.attributes){i=s.attributes[this.delegateExpando];if(i){l=!0,i=i.nodeValue,r=this.__stackCache[i];if(r){n=n.concat(r);break}n.push({expandoValue:i,target:s})}}s=s.parentNode,t--}var c=aria.utils.Array
,h,p,d=!1;this._changed?d=!0:this._changed={};for(var v=0,m=n.length;v<m;v++){p=n[v],i=p.expandoValue,s=p.target,v===0&&(this.__stackCache[i]=n);if(this._changed[i])continue;h=this.__delegateMapping[i],e.delegateTarget=s;var g;if(h)try{g=h.call(e)}catch(y){this.$logError(this.DELEGATE_UTIL_CALLBACK_FAIL,[e.type],{event:e})}if(g===!1||e.hasStopPropagation)break;s=null}d||(this._changed=null);if(g!==!1&&!e.hasStopPropagation&&aria.templates){var b=aria.templates.NavigationManager;b&&b.handleGlobalNavigation(e)
}e.type=="focus"?(this._focusTracking=e.target,this._focusTracking&&l&&this.$raiseEvent({name:"elementFocused",focusedElement:this._focusTracking})):e.type=="blur"&&(l&&this.$raiseEvent({name:"elementBlurred",blurredElement:this._focusTracking}),this._focusTracking=null),e.$dispose()},cleanCache:function(){if(this.__stackCache){for(var e in this.__stackCache)if(this.__stackCache.hasOwnProperty(e)){var t=this.__stackCache[e];for(var n=0,r=t.length;n<r;n++)t.target=null,t.expandoValue=null,delete t.target,delete
t.expandoValue;delete this.__stackCache[n]}this.__stackCache=null}},getFocus:function(){return this._focusTracking}}});
//*******************
//LOGICAL-PATH:aria/utils/Dom.js
//*******************
Aria.classDefinition({$classpath:"aria.utils.Dom",$dependencies:["aria.core.JsonValidator","aria.core.Browser"],$singleton:!0,$statics:{VIEWPORT:"__$viewport",DIV_NOT_FOUND:"Missing div '%1' in DOM.",INSERT_ADJACENT_INVALID_POSITION:"Invalid position %1. Expected one of: beforeBegin, afterBegin, beforeEnd or afterEnd."},$prototype:{getElementById:function(e){return aria.core.Browser.isIE6||aria.core.Browser.isIE7?this.getElementById=function(e){var t=Aria.$window.document,n=t.getElementById(e);if(n){if(n.getAttribute
("id")==e)return n;for(var r in t.all)if(r.id==e)return r}return null}:this.getElementById=function(e){var t=Aria.$window.document;return t.getElementById(e)},this.getElementById(e)},getNextSiblingElement:function(e,t){t==null&&(t=1);while(e&&t>0)e=e.nextSibling,e&&e.nodeType==1&&t--;return e},getPreviousSiblingElement:function(e,t){t==null&&(t=1);while(e&&t>0)e=e.previousSibling,e&&e.nodeType==1&&t--;return e},getDomElementChild:function(e,t,n){if(!e)return null;var r=e.childNodes,i=0,s=r.length;for(var o=n?
s-1:0;n?o>=0:o<s;n?o--:o++)if(r[o].nodeType==1){if(i==t)return r[o];i++}return null},getDomElementsChildByTagName:function(e,t){return e?e.getElementsByTagName(t):null},getDomElementChildReverse:function(e,t){return this.getDomElementChild(e,t,!0)},refreshDomElt:function(e){aria.core.Browser.isIE7?this.refreshDomElt=function(e){try{var t=e.parentNode.style,n=e.style,r="foo:foo;";t.cssText+="",t.zoom=1,n.cssText+=r,n.cssText=n.cssText.replace(r,"")}catch(i){}}:aria.core.Browser.isIE8?this.refreshDomElt=function(
e){for(var t=0,n=Aria.rootTemplates.length;t<n;t++){var r=Aria.rootTemplates[t];if(r._cfg&&r._cfg.tplDiv){var i=r._cfg.tplDiv;i.className=i.className,i=null}}}:this.refreshDomElt=function(e){},this.refreshDomElt(e)},replaceHTML:function(e,t){var n=e;typeof n=="string"&&(n=this.getElementById(n));if(!n)return this.$logError(this.DIV_NOT_FOUND,[e]),null;try{n.innerHTML="",n.innerHTML=t}catch(r){var i=this._createTableElement(n.tagName,t,n.ownerDocument);if(!i)throw r;this.replaceDomElement(n,i),this.copyAttributes
(n,i),n=i}return aria.utils&&aria.utils.Delegate&&aria.utils.Delegate.delegate(aria.DomEvent.getFakeEvent("contentchange",n)),n},_createTableElement:function(e,t,n){e=e.toUpperCase();var r=n.createElement("DIV"),i;return e=="TBODY"||e=="THEAD"||e=="TFOOT"?(r.innerHTML=["<TABLE><",e,">",t,"</",e,"></TABLE>"].join(""),i=r.children[0].children[0]):e=="TR"?(r.innerHTML=["<TABLE><TBODY><",e,">",t,"</",e,"></TBODY></TABLE>"].join(""),i=r.children[0].children[0].children[0]):(r.innerHTML=["<",e,">",t,"</",e,">"].join
(""),i=r.children[0]),this.$assert(194,!i||i.tagName.toUpperCase()==e),i},replaceDomElement:function(e,t){var n=e.parentNode;n.insertBefore(t,e),n.removeChild(e)},insertAdjacentHTML:function(e,t,n){Aria.$window.document.body.insertAdjacentHTML?this.insertAdjacentHTML=function(e,t,n){try{e.insertAdjacentHTML(t,n)}catch(r){var i,s;if(t=="afterBegin"||t=="beforeEnd")i=e;else{if(t!="beforeBegin"&&t!="afterEnd"){this.$logError(this.INSERT_ADJACENT_INVALID_POSITION,[t]);return}i=e.parentNode}s=this._createTableElement
(i.tagName,n,e.ownerDocument);if(!s)throw r;var o=s.lastChild;if(o){this.insertAdjacentElement(e,t,o);var u=s.lastChild;while(u)i.insertBefore(u,o),o=u,u=s.lastChild}}}:this.insertAdjacentHTML=function(e,t,n){var r=e.ownerDocument,i=r.createRange();t=="beforeBegin"||t=="afterEnd"?i.selectNode(e):i.selectNodeContents(e);var s=i.createContextualFragment(n);this.insertAdjacentElement(e,t,s),i.detach()},this.insertAdjacentHTML(e,t,n)},insertAdjacentElement:function(e,t,n){Aria.$window.document.body.insertAdjacentElement?
this.insertAdjacentElement=function(e,t,n){e.insertAdjacentElement(t,n)}:this.insertAdjacentElement=function(e,t,n){t=="beforeBegin"?e.parentNode.insertBefore(n,e):t=="afterBegin"?e.insertBefore(n,e.firstChild):t=="beforeEnd"?e.appendChild(n):t=="afterEnd"?e.parentNode.insertBefore(n,e.nextSibling):this.$logError(this.INSERT_ADJACENT_INVALID_POSITION,[t])},this.insertAdjacentElement(e,t,n)},copyAttributes:function(e,t){Aria.$window.document.body.mergeAttributes?this.copyAttributes=function(e,t){t.mergeAttributes
(e,!1)}:this.copyAttributes=function(e,t){var n=e.attributes;for(var r=0,i=n.length;r<i;r++){var s=n[r];t.setAttribute(s.name,s.value)}},this.copyAttributes(e,t)},_getViewportSize:function(){var e=Aria.$window.document,t=e.documentElement,n={width:t.clientWidth,height:t.clientHeight};return n},getViewportSize:function(){return this._getViewportSize()},_getDocumentScroll:function(e){var t=e&&e.ownerDocument?e.ownerDocument:Aria.$window.document,n=0,r=0,i=this.getDocumentScrollElement(t);if(e!=null){var s=e;while(
s!=null)s.scrollLeft&&(n+=s.scrollLeft),s.scrollTop&&(r+=s.scrollTop),s=s.parentNode;n-=i.scrollLeft,r-=i.scrollTop}else n=i.scrollLeft,r=i.scrollTop;i!=t.body&&(n+=t.body.scrollLeft,r+=t.body.scrollTop);var o={scrollLeft:n,scrollTop:r};return o},getFullPageSize:function(){var e=this.getDocumentScrollElement(),t={width:e.scrollWidth,height:e.scrollHeight},n=this._getViewportSize();return{width:Math.max(t.width,n.width),height:Math.max(t.height,n.height)}},calculatePosition:function(e,t){if(!e)return;var n=e.
ownerDocument,r=aria.core.Browser,i=0,s=0,o=0,u=0,a=!0,f=0,l=e,c;if(l.getBoundingClientRect&&!t){var h=r.isIE6||r.isIE7?2:0;try{var p=l.getBoundingClientRect();a=!1,i=p.left-h,s=p.top-h}catch(d){i=0,s=0}}else while(l&&l.parentNode){c=aria.utils.Dom.getStyle(l,"position");if(t&&f>0&&c=="absolute")break;i+=l.offsetLeft,s+=l.offsetTop,l=l.offsetParent,f++}f=0,l=e;while(l&&l.parentNode&&l.parentNode!=n.body&&l.parentNode.tagName){!r.isOpera&&l.nodeName!="HTML"?l.scrollTop!==0&&l.scrollTop?(o=l.scrollTop,a&&(s-=l
.scrollTop)):l.scrollLeft!==0&&l.scrollLeft&&(u=l.scrollLeft,a&&(i-=l.scrollLeft)):r.isOpera&&(l.scrollTop!==0&&l.scrollTop!=l.offsetTop?(a&&(s-=l.scrollTop),o=l.scrollTop):l.scrollLeft!==0&&l.scrollLeft!=l.offsetLeft&&(u=l.scrollLeft,a&&(i-=l.scrollLeft))),c=aria.utils.Dom.getStyle(l,"position");if(f>0&&c=="absolute")break;f++,l=l.parentNode}var v={top:s,left:i,scrollTop:o,scrollLeft:u};return v},getClientGeometry:function(e){var t=this.calculatePosition(e);return{x:t.left+e.clientLeft,y:t.top+e.clientTop,width
:e.clientWidth,height:e.clientHeight}},getGeometry:function(e){if(!e)return null;var t=e.ownerDocument,n,r,i=aria.core.Browser,s=this.calculatePosition(e);if(e===t.body){var o=this.getFullPageSize();return{x:0,y:0,width:o.width,height:o.height}}if(i.isChrome||i.isSafari){var u=e.getBoundingClientRect();n=u.width,r=u.height}else n=e.offsetWidth,r=e.offsetHeight;var a={x:s.left,y:s.top,width:n,height:r},f=e.parentNode,l=t.documentElement,c=t.body;while(f&&f!=l&&f!=c){var h=this.getClientGeometry(f),p=this.getStyle
(f,"overflowX"),d=this.getStyle(f,"overflowY"),v;if(p=="auto"||p=="scroll"){v=h.x-a.x;if(v>0){a.x+=v,a.width-=v;if(a.width<0)return null}v=a.x+a.width-h.x-h.width;if(v>0){a.width-=v;if(a.width<0)return null}}if(d=="auto"||d=="scroll"){v=h.y-a.y;if(v>0){a.y+=v,a.height-=v;if(a.height<0)return null}v=a.y+a.height-h.y-h.height;if(v>0){a.height-=v;if(a.height<0)return null}}f=f.parentNode}return a},getStyle:function(e,t){var n=aria.core.Browser;if(n.isIE){var r=n.isIE8||n.isIE7||n.isIE6;this.getStyle=function(e,
t){if(r&&t=="opacity"){var n=100;try{n=e.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(i){try{n=e.filters("alpha").opacity}catch(s){}}return(n/100).toString(10)}t=="float"&&(t="styleFloat");var o=e.currentStyle?e.currentStyle[t]:null;return e.style[t]||o}}else this.getStyle=function(e,t){var n=Aria.$window,r=null;t=="float"&&(t="cssFloat");var i=n.getComputedStyle(e,"");return i&&(r=i[t]),e.style!==null?e.style[t]||r:r};return this.getStyle(e,t)},centerInViewport:function(e,t){var n=this._getViewportSize
(),r=this._getDocumentScroll(t);return{left:parseInt(r.scrollLeft+(n.width-e.width)/2,10),top:parseInt(r.scrollTop+(n.height-e.height)/2,10)}},isInViewport:function(e,t,n){var r=this._getViewportSize(),i=this._getDocumentScroll(n);return e.top<i.scrollTop||e.left<i.scrollLeft||e.top+t.height>i.scrollTop+r.height||e.left+t.width>i.scrollLeft+r.width?!1:!0},isInside:function(e,t){return e.width=e.width||0,e.height=e.height||0,t==this.VIEWPORT?this.isInViewport({left:e.x,top:e.y},{width:e.width,height:e.height}
):(t.width=t.width||0,t.height=t.height||0,e.x<t.x||e.y<t.y||e.x+e.width>t.x+t.width||e.y+e.height>t.y+t.height?!1:!0)},fitInViewport:function(e,t,n){var r=this._getViewportSize(),i=this._getDocumentScroll(n),s=i.scrollTop,o=Math.max(0,i.scrollTop+r.height-t.height),u=aria.utils.Math.normalize(e.top,s,o),a=i.scrollLeft,f=Math.max(0,i.scrollLeft+r.width-t.width),l=aria.utils.Math.normalize(e.left,a,f);return{top:u,left:l}},fitInside:function(e,t){e.width=e.width||0,e.height=e.height||0;if(t==this.VIEWPORT)return this
.fitInViewport({left:e.x,top:e.y},{width:e.width,height:e.height});t.width=t.width||0,t.height=t.height||0;var n=e.x<t.x?t.x:e.x,r=e.y<t.y?t.y:e.y;return e.x+e.width>t.x+t.width&&(n=t.x+t.width-e.width),e.y+e.height>t.y+t.height&&(r=t.y+t.height-e.height),{top:r,left:n}},isAncestor:function(e,t){if(!e||!e.ownerDocument)return!1;var n=e.ownerDocument,r=n.body,i=e;while(i&&i!=r){if(i==t)return!0;i=i.parentNode}return i==t},isInDom:function(e){return e?this.isAncestor(e,e.ownerDocument.body):!1},removeElement:function(
e){e.parentNode&&e.parentNode.removeChild(e)},scrollIntoView:function(e,t){var n=e.ownerDocument,r=e,i=r.getBoundingClientRect(),s,o=!1,u=!1,a=this.getDocumentScrollElement(n);while(e){e==n.body?e=a:e=e.parentNode;if(e){var f=e.clientHeight?e.scrollHeight>e.clientHeight:!1;if(!f){e==a&&(e=null);continue}var l;e==a?l={left:0,top:0}:l=e.getBoundingClientRect();var c=i.left-(l.left+(parseInt(e.style.borderLeftWidth,10)|0)),h=i.right-(l.left+e.clientWidth+(parseInt(e.style.borderLeftWidth,10)|0)),p=i.top-(l.top+
(parseInt(e.style.borderTopWidth,10)|0)),d=i.bottom-(l.top+e.clientHeight+(parseInt(e.style.borderTopWidth,10)|0));c<0?e.scrollLeft+=c:h>0&&(e.scrollLeft+=h),t===!0&&!o?e.scrollTop+=p:t===!1&&!o?e.scrollTop+=d:p<0?e.scrollTop+=p:d>0&&(e.scrollTop+=d);if(e==a)e=null;else{var v=r.getBoundingClientRect();v.top!=i.top&&(o=!0),i=v}}}},getDocumentScrollElement:function(e){return e==null&&(e=Aria.$window.document),!aria.core.Browser.isSafari&&!aria.core.Browser.isChrome&&e.compatMode=="CSS1Compat"?e.documentElement
:e.body},setOpacity:function(e,t){var n=aria.core.Browser,r=n.isIE8||n.isIE7||n.isIE6;this.setOpacity=r?this._setOpacityLegacyIE:this._setOpacityW3C,this.setOpacity(e,t)},_setOpacityLegacyIE:function(e,t){e.style.cssText+=";filter:alpha(opacity="+t*100+");"},_setOpacityW3C:function(e,t){e.style.opacity=t}}});
//*******************
//LOGICAL-PATH:aria/utils/DomOverlay.js
//*******************
Aria.classDefinition({$classpath:"aria.utils.DomOverlay",$dependencies:["aria.utils.overlay.LoadingOverlay","aria.utils.Type","aria.utils.Event","aria.utils.AriaWindow"],$singleton:!0,$statics:{UNIQUE_ID_GENERATOR:12},$constructor:function(){this.overlays=null,this._nbOverlays=0,this.bodyOverlay=null,aria.utils.AriaWindow.$on({unloadWindow:this._reset,scope:this})},$destructor:function(){this._reset(),aria.utils.AriaWindow.$unregisterListeners(this)},$prototype:{_init:function(){this.overlays==null&&(this.overlays=
{},aria.utils.AriaWindow.attachWindow(),aria.utils.Event.addListener(Aria.$window,"scroll",{fn:this.__onScroll,scope:this},!0))},_reset:function(){this.overlays!=null&&(aria.utils.Event.removeListener(Aria.$window,"scroll",{fn:this.__onScroll}),aria.utils.AriaWindow.detachWindow(),this.overlays=null,this._nbOverlays=0)},create:function(e,t){var n=this.__getOverlay(e);if(n)return n.overlay.refresh(),n.id;var r=++this.UNIQUE_ID_GENERATOR;return n=new aria.utils.overlay.LoadingOverlay(e,r,t),this._init(),e!==Aria
.$window.document.body?(this.overlays[r]=n,this._nbOverlays++,e.__overlay=r):this.bodyOverlay=n,r},detachFrom:function(e){var t=this.__getOverlay(e);if(!t)return;t.overlay.$dispose();var n=t.id;return e===Aria.$window.document.body?this.bodyOverlay=null:(delete this.overlays[n],this._nbOverlays--),t=null,this._nbOverlays===0&&this.bodyOverlay==null&&this._reset(),n},__getOverlay:function(e){if(e===Aria.$window.document.body)return this.bodyOverlay?{overlay:this.bodyOverlay}:null;var t=e.__overlay;if(!t||this
.overlays==null)return;var n=this.overlays[t];if(!n){e.__overlay=null;return}return{overlay:n,id:t}},__onScroll:function(){this.$assert(184,this.overlays!=null);var e=this.overlays;for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];n.refreshPosition()}},disposeOverlays:function(e){if(!aria.utils.Type.isArray(e)||this.overlays==null)return;for(var t=0,n=e.length;t<n;t+=1){var r=this.overlays[e[t]];r&&(r.$dispose(),delete this.overlays[e[t]],this._nbOverlays--)}this._nbOverlays===0&&this.bodyOverlay==null&&this
._reset()}}});
//*******************
//LOGICAL-PATH:aria/utils/Event.js
//*******************
(function(){var e="focusin",t="focusout",n=[],r=2,i=3,s=0,o=1,u=null,a=null,f=4,l=5,c=6;Aria.classDefinition({$classpath:"aria.utils.Event",$dependencies:["aria.utils.Type","aria.utils.Callback","aria.core.Browser"],$singleton:!0,$statics:{INVALID_TARGET:"Unable to add '%2' event on element %1"},$constructor:function(){this.typesUtil=aria.utils.Type,this.UA=aria.core.Browser,this.isIE=this.UA.ie;var e=this;this._unload=function(t){e._unloadEvent(t)}},$destructor:function(){this.reset(),this._unload=null},$prototype
:{reset:function(){a&&(a=null,this._simpleRemove(Aria.$window,"unload",this._unload));for(var e=n.length-1;e>=0;e--){var t=n[e];t&&this.removeListener(t[s],t[o],t[r],e)}},_checkUnloadListeners:function(){a==null&&(a=[],this._simpleAdd(Aria.$window,"unload",this._unload))},_unloadEvent:function(e){var t=a;for(var n=0,r=t.length;n<r;++n){var i=t[n];i&&(i[l].call(this.getEvent(e)),t[n]=null,i=null)}},addListener:function(n,r,i,s,o,u){if(!i)return!1;"mousewheel"==r&&(this.UA.isIE?n==Aria.$window&&(n=n.document):
this.UA.isOpera||this.UA.isSafari||this.UA.isWebkit||(r="DOMMouseScroll")),this.typesUtil.isFunction(i)||(u=s);var a=r!=e&&r!=t||!!this.UA.ie?u:!0;return this._addListener(n,this._getType(r),i,s,o,a)},_simpleAdd:function(){if(Aria.$window){if(Aria.$window.addEventListener)return function(e,t,n,r){e.addEventListener(t,n,r)};if(Aria.$window.attachEvent)return function(e,t,n,r){e.attachEvent("on"+t,n)}}return function(){}}(),_addListener:function(e,t,r,i,s,o){if(this._isValidCollection(e)){var u=!0;for(var f=0,
l=e.length;f<l;++f)u=this._addListener(e[f],t,r,i,s,o)&&u;return u}if(this.typesUtil.isString(e)){var c=this.getElement(e);if(!c)return this.$logError(this.INVALID_TARGET,[e,t]),e=c,!1;e=c}if(!this.typesUtil.isHTMLElement(e))return!1;var h=r;if(!r.$Callback){if(!h.fn||!this.typesUtil.isFunction(h.fn))return!1;h.scope||(h.scope=e)}var p=r;r.$Callback||(p=new aria.utils.Callback(h));var d=function(t){return p.call(aria.utils.Event.getEvent(t,e))},v=function(){p={call:Aria.empty},d=null,v=null,m=null,e=null},m=
[e,t,r,d,o,p,v];if("unload"==t&&s!==this)return this._checkUnloadListeners(),a[a.length]=m,!0;var g=n.length;n[g]=m;try{this._simpleAdd(e,t,d,o)}catch(y){return this.$logError(this.INVALID_TARGET,[e,t],y),this.removeListener(e,t,r),!1}return!0},_isValidCollection:function(e){try{return e&&typeof e!="string"&&e.length&&!e.tagName&&!e.alert&&typeof e[0]!="undefined"}catch(t){return!1}},getEvent:function(e,t){var n=e||Aria.$window.event;if(!n){var r=Aria.$window.Event,i=this.getEvent.caller;while(i){n=i.arguments
[0];if(n&&r==n.constructor)break;i=i.caller}}return n},_getType:function(e){return this._specialTypes[e]||e},_specialTypes:{focusin:aria.core.Browser.isIE?"focusin":"focus",focusout:aria.core.Browser.isIE?"focusout":"blur"},removeListener:function(e,t,s){var o,h,p;"mousewheel"==t&&(this.UA.isIE?e==Aria.$window&&(e=e.document):!this.UA.isOpera&&!this.UA.isSafari&&(t="DOMMouseScroll")),t=this._getType(t);if(this.typesUtil.isString(e)){e=this.getElement(e);if(!e)return!1}else if(this._isValidCollection(e)){var d=!0
;for(o=e.length-1;o>-1;o--)d=this.removeListener(e[o],t,s)&&d;return d}if(!s||!s.call&&!s.fn)return this.purgeElement(e,!1,t);if("unload"==t){if(a)for(o=a.length-1;o>-1;o--){p=a[o];var v;p&&aria.utils.Type.isObject(p[r])&&!p[r].$Callback?v="fn"in s&&p[r].fn==s.fn:v=p[r]==s;if(p&&p[0]==e&&p[1]==t&&v)return p[r]!=p[l]&&p[l].$dispose(),p[c](),delete p[c],a.splice(o,1),!0}return!1}var m=null,g=arguments[3];"undefined"==typeof g&&(g=this._getCacheIndex(n,e,t,s)),g>=0&&(m=n[g]);if(!e||!m)return!1;var y=m[f]===!0?!0
:!1;try{this._simpleRemove(e,t,m[i],y)}catch(b){return u=b,!1}return delete n[g][i],n[g][r]!=n[g][l]&&n[g][l].$dispose(),n[g][c](),delete n[g][c],n.splice(g,1),!0},getElement:function(e){return typeof e=="string"?Aria.$window.document.getElementById(e):e},_getCacheIndex:function(e,t,n,i){var u;for(var a=0,f=e.length;a<f;a+=1){var l=e[a];l&&this.typesUtil.isObject(l[r])&&!l[r].$Callback?u="fn"in i&&l[r].fn==i.fn:u=l[r]==i;if(l&&u&&l[s]==t&&l[o]==n)return a}return-1},_simpleRemove:function(){if(Aria.$window){if(
Aria.$window.removeEventListener)return function(e,t,n,r){e.removeEventListener(t,n,r)};if(Aria.$window.detachEvent)return function(e,t,n){e.detachEvent("on"+t,n)}}return function(){}}(),purgeElement:function(e,t,n){var r=this.typesUtil.isString(e)?this.getElement(e):e,i=this.getListeners(r,n),s,o;if(i)for(s=i.length-1;s>-1;s--){var u=i[s];this.removeListener(r,u.type,u.fn)}if(t&&r&&r.childNodes)for(s=0,o=r.childNodes.length;s<o;++s)this.purgeElement(r.childNodes[s],t,n)},getListeners:function(e,t){var i=[],
u;t?t==="unload"?u=[a]:(t=this._getType(t),u=[n]):u=[n,a];var f=this.typesUtil.isString(e)?this.getElement(e):e;for(var l=0;l<u.length;l+=1){var c=u[l];if(c)for(var h=0,p=c.length;h<p;++h){var d=c[h];d&&d[s]===f&&(!t||t===d[o])&&i.push({type:d[o],fn:d[r],index:h})}}return i.length?i:null}}})})();
//*******************
//LOGICAL-PATH:aria/utils/Function.js
//*******************
Aria.classDefinition({$classpath:"aria.utils.Function",$singleton:!0,$prototype:{bind:function(e,t){var n=[];for(var r=2;r<arguments.length;r++)n.push(arguments[r]);return function(){var r=n.slice(0);for(var i=0;i<arguments.length;i++)r.push(arguments[i]);return e.apply(t,r)}},wrapObjectFn:function(e,t,n,r){r||(r="");for(var i=0,s=n.length;i<s;i++){var o=n[i];t[r+o]=this.bind(e[o],e)}},bindCallback:function(e){return e=this.$normCallback(e),function(){e.fn.call(e.scope,arguments,e.args)}}}});
//*******************
//LOGICAL-PATH:aria/utils/FunctionWriter.js
//*******************
Aria.classDefinition({$classpath:"aria.utils.FunctionWriter",$dependencies:["aria.utils.String"],$constructor:function(e){this.functionArguments=e,this.variables=[],this.out=[],this._varIndex=0,this._unusedTempVariables=[],this._usedTempVariables={},this._shortcuts={}},$statics:{INVALID_RELEASE_TEMP_VAR:"releaseTempVariable was called with parameter %1, but this is not the name of a currently used variable created with createTempVariable.",INVALID_RELEASE_SHORTCUT:"releaseShortcut was called with parameter %1, but there was no previous call of createShortcut which returned that value."
,REGULARNAME_REGEXP:/^[A-Za-z_][A-Za-z_0-9]*$/},$prototype:{$init:function(e){e.stringify=aria.utils.String.stringify},addVariable:function(e){this.variables.push(e)},createTempVariable:function(e){var t,n=this._unusedTempVariables;return n.length>0?t=n.pop():(this._varIndex++,t="v"+this._varIndex,this.addVariable(t)),this._usedTempVariables[t]=!0,e&&this.out.push(t,"=",e,";"),t},releaseTempVariable:function(e){this._usedTempVariables.hasOwnProperty(e)?(delete this._usedTempVariables[e],this._unusedTempVariables
.push(e)):this.$logError(this.INVALID_RELEASE_TEMP_VAR,[e])},isRegularVarName:function(e){return this.REGULARNAME_REGEXP.test(e)&&!Aria.isJsReservedWord(e)},createShortcut:function(e){var t=this.isRegularVarName(e),n=t?e:this.createTempVariable(e);return this._shortcuts[n]==null&&(this._shortcuts[n]=[]),this._shortcuts[n].push(!t),n},releaseShortcut:function(e){var t=this._shortcuts[e];if(t&&t.length>0){var n=t.pop();n&&this.releaseTempVariable(e)}else this.$logError(this.INVALID_RELEASE_SHORTCUT,[e])},getCode
:function(){var e=this.out.join("");return this.out=[e],this.variables.length>0&&(e=["var ",this.variables.join(","),";\n",e].join("")),e},write:function(){this.out.push.apply(this.out,arguments)},createFunction:function(){var e=this.functionArguments.slice();return e.push(this.getCode()),Function.apply(Function,e)},getDotProperty:function(e){return this.isRegularVarName(e)?"."+e:"["+this.stringify(e)+"]"},writeEnsureObjectExists:function(e){this.out.push("if (!",e,"){",e,"={};}")}}});
//*******************
//LOGICAL-PATH:aria/utils/HashManager.js
//*******************
Aria.classDefinition({$classpath:"aria.utils.HashManager",$singleton:!0,$dependencies:["aria.core.Browser","aria.utils.Type","aria.utils.Event","aria.utils.Object","aria.utils.AriaWindow"],$statics:{INVALID_SETHASH_ARGUMENT:"Invalid argument passed to aria.utils.HashManager.setHash method.",INVALID_SETSEPARATORS_ARGUMENTS:"Invalid argument passed to aria.utils.HashManager.setSeparators method.",INVALID_SEPARATOR:"Expression %1 cannot be used as separator.",INVALID_HASHPOLLING_TRIGGER:"Enabling hash polling is allowed only in IE7."
,INVALID_HASHOBJECT_TYPE:"Invalid hash object: value corresponding to key %1 is not a string.",INVALID_HASHOBJECT_VALUE:"Invalid hash object: value '%1' corresponding to key '%2' of the hashObject contains one the non encodable separators '%3'",INVALID_HASHOBJECT_KEY:"Invalid hash object: key '%1' of the hashObject contains one the non encodable separators '%2'",IFRAME_ID:"at_hash_manager_iframe"},$constructor:function(){this._separators=[",","&"],this._separatorRegExp=this.__buildRegExpFromArray(this._separators
),this._nonEncodableSeparators=this.__getNonEncodedSeparators(this._separators),this._nonEncodableSepRegExp=this.__buildRegExpFromArray(this._nonEncodableSeparators),this._hashChangeCallbacks=null,this._currentHashString=decodeURIComponent(this.getHashString()),this._isIE7OrLess=aria.core.Browser.isIE&&aria.core.Browser.majorVersion<8,this._enableIEpolling=this._isIE7OrLess,this._typeUtil=aria.utils.Type,this.ie7PollDelay=75,this._iframe=null,this._currentIframeHashString=null,this._isIE7OrLess&&this._createIframe
()},$destructor:function(){this._removeHashChangeInternalCallback(),this._isIE7OrLess&&this._destroyIframe()},$prototype:{getHashObject:function(e){return aria.utils.Json.copy(this._extractHashObject(this.getHashString(e)))},getHashString:function(e){e=e||Aria.$window;var t=e.location.href,n=t.indexOf("#");return n!=-1?t.substring(n+1):""},setHash:function(e,t){t=t||Aria.$window;var n="";if(this._typeUtil.isObject(e)){if(!this._validateHashObject(e))return;n=this._stringifyHashObject(e)}else this._typeUtil.isString
(e)?n=e?e:"":this.$logError(this.INVALID_SETHASH_ARGUMENT);this.getHashString(t)!=n&&(t.location.hash=n)},addCallback:function(e){this._hashChangeCallbacks==null&&(this._hashChangeCallbacks=[],this._addHashChangeInternalCallback()),this._hashChangeCallbacks.push(e)},removeCallback:function(e){var t=this._hashChangeCallbacks;if(t!=null){var n=t.length,r=0;while(r<n&&t[r]!=e)r++;r<n&&(t.splice(r,1),t.length===0&&(this._hashChangeCallbacks=null,this._removeHashChangeInternalCallback()))}},setSeparators:function(
e){var t,n=this.getHashObject(),r=this.__buildRegExpFromArray(["#","%","^","[","]","{","}","\\",'"',"<",">","="]);if(this._typeUtil.isString(e))t=[e];else{if(!this._typeUtil.isArray(e))return;t=e}for(var i=0,s=t.length;i<s;i++)if(t[i].match(r)){this.$logError(this.INVALID_SEPARATOR,t[i]);return}this._separators=t,this._separatorRegExp=this.__buildRegExpFromArray(this._separators),this._nonEncodableSeparators=this.__getNonEncodedSeparators(this._separators),this._nonEncodableSepRegExp=this.__buildRegExpFromArray
(this._nonEncodableSeparators),aria.utils.Object.isEmpty(n)||this.setHash(n)},addSeparators:function(e){var t,n=this._separators;if(this._typeUtil.isString(e))t=[e];else{if(!this._typeUtil.isArray(e))return;t=e}for(var r=0,i=t.length;r<i;r++)aria.utils.Array.contains(this._separators,t[r])||n.push(t[r]);this.setSeparators(n)},setIE7polling:function(e){e&&!this._isIE7OrLess&&this.$logWarn(this.INVALID_HASHPOLLING_TRIGGER),e=e&&this._isIE7OrLess,e&&!this._enableIEpolling?(this._enableIEpolling=e,this._hashPoll
()):this._enableIEpolling=e},_stringifyHashObject:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join(this._separators[0])},_extractHashObject:function(e){var t=e,n={},r,i;t=t?t.split(this._separatorRegExp):[];for(var s=0,o=t.length;o>s;s++)i=t[s],r=decodeURIComponent(i).split("="),r.length==2?n[r[0]]=r[1]:i.indexOf("=")==i.length?n[r[0]]="":n["param"+s]=r[0];return n},_addHashChangeInternalCallback:function(){this._hashPoll(),this
._isIE7OrLess||aria.utils.Event.addListener(Aria.$window,"hashchange",{fn:this._internalCallback,scope:this},!0)},_hashPoll:function(){if(this._enableIEpolling){aria.core.Timer.addCallback({fn:this._hashPoll,scope:this,delay:this.ie7PollDelay});var e=this._iframe.contentWindow,t=this.getHashString(),n=this.getHashString(e);n!=this._currentIframeHashString?(this._currentIframeHashString=n,this._currentHashString=n,this.setHash(n),this._internalCallback()):t!=this._currentHashString&&(this._addIframeHistoryEntry
(t),this._internalCallback())}},_internalCallback:function(){var e=this._hashChangeCallbacks,t;if(e==null)return;this._currentHashString=this.getHashString();var n=this._extractHashObject(this._currentHashString);for(var r=0,i=e.length;i>r;r++)t=e[r],t=this.$normCallback(t),this.$callback(t,n)},_removeHashChangeInternalCallback:function(){this._isIE7OrLess||aria.utils.Event.removeListener(Aria.$window,"hashchange",{fn:this._internalCallback})},_validateHashObject:function(e){var t,n=this._nonEncodableSepRegExp
;for(var r in e)if(e.hasOwnProperty(r)){if(n&&r.match(n))return this.$logError(this.INVALID_HASHOBJECT_KEY,[r,this._nonEncodableSeparators.join("")]),!1;t=e[r];if(!this._typeUtil.isString(t))return this.$logError(this.INVALID_HASHOBJECT_TYPE,r),!1;if(n&&t.match(n))return this.$logError(this.INVALID_HASHOBJECT_VALUE,[t,r,this._nonEncodableSeparators.join("")]),!1}return!0},__getNonEncodedSeparators:function(e){var t=[];for(var n=0,r=e.length;n<r;n++)e[n]==encodeURIComponent(e[n])&&t.push(e[n]);return t},__buildRegExpFromArray
:function(e){var t=/([\^\$\.\*\+\?\=\!\:\|\\\/\(\)\[\]\{\}]){1,1}/g,n=[];for(var r=0,i=e.length;r<i;r++)n.push(e[r].replace(t,"\\$1"));return n.length===0?null:new RegExp(n.join("|"))},_createIframe:function(){var e,t=Aria.$window.document;e=t.createElement("iframe"),e.setAttribute("id",this.IFRAME_ID),e.style.display="none",t.body.appendChild(e),this._iframe=e,this._addIframeHistoryEntry(this._currentHashString)},_addIframeHistoryEntry:function(e){var t=this._iframe;if(!t)return;e=e||"",this._currentIframeHashString!=
e&&(t.contentWindow.document.open(),t.contentWindow.document.close(),this._currentIframeHashString=e,this.setHash(e,t.contentWindow))},_destroyIframe:function(){Aria.$window.document.body.removeChild(this._iframe),this._iframe=null}}});
//*******************
//LOGICAL-PATH:aria/utils/Html.js
//*******************
Aria.classDefinition({$classpath:"aria.utils.Html",$extends:"aria.core.JsObject",$dependencies:["aria.templates.DomElementWrapper","aria.utils.String","aria.utils.Json"],$singleton:!0,$statics:{INVALID_CONFIGURATION:"Invalid attribute %1."},$prototype:{buildAttributeList:function(e){var t=[],n=aria.templates.DomElementWrapper.attributesWhiteList,r=aria.utils.Json,i=aria.utils.String;for(var s in e)if(e.hasOwnProperty(s)&&!r.isMetadata(s)){var o=e[s];if(s==="classList")t.push(' class="'),t.push(i.encodeForQuotedHTMLAttribute
(o.join(" "))),t.push('"');else if(s==="dataset")for(var u in o)o.hasOwnProperty(u)&&u.substr(0,5)!="data-"&&!r.isMetadata(u)&&(t.push(" data-",u,'="'),t.push(i.encodeForQuotedHTMLAttribute(o[u])),t.push('"'));else n.test(s)?(o=o!=null?o+"":"",t.push(" ",s,'="'),t.push(i.encodeForQuotedHTMLAttribute(o)),t.push('"')):this.$logError(this.INVALID_CONFIGURATION,s)}return t.join("")}}});
//*******************
//LOGICAL-PATH:aria/utils/IdManager.js
//*******************
Aria.classDefinition({$classpath:"aria.utils.IdManager",$dependencies:["aria.utils.Array"],$constructor:function(e){this._freeIdMap={},this._idCounter=0,this.prefix=e||""},$destructor:function(){this._freeIdMap=null},$prototype:{getId:function(){for(var e in this._freeIdMap){if(!this._freeIdMap.hasOwnProperty(e))continue;return delete this._freeIdMap[e],e}var t=this.prefix+this._idCounter;return this._idCounter++,t},releaseId:function(e){e&&(this._freeIdMap[e]=!0)}}});
//*******************
//LOGICAL-PATH:aria/utils/InheritanceNormalization.js
//*******************
Aria.classDefinition({$classpath:"aria.utils.InheritanceNormalization",$dependencies:["aria.core.JsonValidator","aria.utils.FunctionWriter"],$singleton:!0,$prototype:{writeInheritanceNormalization:function(e){if(e.excludes===!0)return;var t=e.writer,n=t.out,r=e.varToNormalize,i=e.parentVars,s=e.beanDef||aria.core.JsonValidator.getBean(e.beanName),o=s["aria:baseType"].typeName,u=o=="Object";if(u){n.push("if (",r,"==null) {",r,"={};","}");var a=e.excludes||{};r=t.createShortcut(r);var f=[],l=e.emptyObjectVar;l==
null&&(l=t.createTempVariable("{}"));var c="||"+l;for(var h=0,p=i.length;h<p;h++)f[h]=t.createTempVariable(i[h]+c);var d=s.$properties;for(var v in d)if(d.hasOwnProperty(v)){var m=t.getDotProperty(v),g=[];for(var h=0,p=f.length;h<p;h++)g[h]=f[h]+m;this.writeInheritanceNormalization({writer:t,beanDef:d[v],varToNormalize:r+m,parentVars:g,emptyObjectVar:l,excludes:a[v]})}for(var h=0,p=f.length;h<p;h++)t.releaseTempVariable(f[h]);t.releaseShortcut(r)}else{var y=i.slice();"$strDefault"in s&&y.push(s.$strDefault);
if(y.length>0){n.push("if (",r,"==null) {");if(y.length==1)n.push(r,"=",y[0],";");else{for(var h=0,p=y.length-1;h<p;h++){var b=y[h];h>0&&n.push("} else "),n.push("if (",b,"!=null){",r,"=",b,";")}n.push("} else {",r,"=",y[y.length-1],";}")}}n.push("}")}}}});
//*******************
//LOGICAL-PATH:aria/utils/Path.js
//*******************
Aria.classDefinition({$classpath:"aria.utils.Path",$dependencies:["aria.utils.String","aria.utils.Type"],$singleton:!0,$statics:{WRONG_PATH_SYNTAX:"Syntax for path %1 is not valid. Note that variables cannot be used in paths.",RESOLVE_FAIL:"Resolve for path %1 failed, root element does not contain this path"},$prototype:{setValue:function(e,t,n){var r=aria.utils.Type;if(!e||!t||!r.isObject(e))return;r.isString(t)&&(t=this.parse(t));if(!r.isArray(t)||r.isNumber(t[0]))return;var i=e,s,o,u;for(var a=0,f=t.length
;a<f;a+=1)s=t[a],a===f-1?i[s]=n:(u=t[a+1],r.isNumber(u)&&!r.isArray(i[s])&&(i[s]=[]),r.isString(u)&&(!r.isObject(i[s])||!(s in i))&&(i[s]={}),i=i[s])},resolve:function(e,t){aria.utils.Type.isString(e)&&(e=this.parse(e));if(aria.utils.Type.isArray(e)){for(var n=0,r,i=e.length;n<i;n++){r=e[n],t=t[r];if(!t&&n!=i-1)throw{error:this.RESOLVE_FAIL,args:[e],object:t}}return t}throw{error:this.RESOLVE_FAIL,args:[e],object:t}},parse:function(e){return this._paramParse("."+e)},_paramParse:function(e){if(!e)return[];var t=
e.charAt(0),n,r,i,s;if(t=="["){n=e.indexOf("]");if(n!=-1){r=e.substring(1,n),i=e.substring(n+1);if(/^\d+$/.test(r))return s=this._paramParse(i),s.unshift(parseInt(r,10)),s;var o=r.charAt(0),u=aria.utils.String;if((o=="'"||o=='"')&&u.indexOfNotEscaped(r,o,1)==r.length-1)return s=this._paramParse(i),s.unshift(r.substring(1,r.length-1).replace(new RegExp("\\\\"+o,"gi"),o)),s}}else if(t=="."){r=/^[_A-z]\w*/.exec(e.substring(1));if(r.length)return r=r[0],i=e.substring(r.length+1),s=this._paramParse(i),s.unshift(r
),s}throw{error:this.WRONG_PATH_SYNTAX,args:[e]}},pathArrayToString:function(e){var t=[e[0]];for(var n=1,r=e.length;n<r;n++)t.push('["'+(""+e[n]).replace(/"/gi,'\\"')+'"]');return t.join("")},describe:function(e,t){var n=aria.utils.Type;if(!e||!t||!n.isObject(e))return;n.isString(t)&&(t=this.parse(t));if(!n.isArray(t)||n.isNumber(t[0]))return;var r=e,i,s;for(var o=0,u=t.length;o<u;o+=1){i=t[o];if(n.isNumber(i)&&!n.isArray(r))return null;if(!(!n.isString(i)||!!n.isObject(r)&&i in r))return null;if(o===u-1)return{
container:r,property:i,value:r[i]};r=r[i]}}}});
//*******************
//LOGICAL-PATH:aria/utils/Profiling.js
//*******************
Aria.classDefinition({$classpath:"aria.utils.Profiling",$singleton:!0,$constructor:function(){this._startTime=null,this._logs=null,this._logsPerClasspath=null,this._nbLogs=0,this._ids=1,this._displayDiv=null,this._counters={},this._counterSplits={},Aria.enableProfiling&&this.restartProfiling(!0)},$destructor:function(){this._logs=null,this._logsPerClasspath=null,this._displayDiv=null},$prototype:{restartProfiling:function(e){this._startTime=e?Aria._start:new Date,e?(this._logs=[{classpath:"Aria",msg:"Framework initialization"
,start:Aria._start},{classpath:"Aria",stop:(new Date).getTime()}],this._nbLogs=2):(this._logs=[],this._nbLogs=0),aria.core.JsObject.prototype.$logTimestamp=function(e,t){t=t?t:this.$classpath,aria.utils.Profiling.logTimestamp(t,e)},aria.core.JsObject.prototype.$startMeasure=function(e,t){return t=t?t:this.$classpath,aria.utils.Profiling.startMeasure(t,e)},aria.core.JsObject.prototype.$stopMeasure=function(e,t){t=t?t:this.$classpath,aria.utils.Profiling.stopMeasure(t,e)}},process:function(){this._logsPerClasspath=
{};var e,t,n,r,i,s;i=0;for(e=0;e<this._nbLogs;e++){n=this._logs[e];if(!n.start||"length"in n)n.timestamp&&(n.start=n.timestamp-this._startTime,n.length=0,delete n.timestamp);else{for(t=e+1;t<this._nbLogs;t++){r=this._logs[t];if(r.stop&&r.classpath==n.classpath)if(!r.id||n.id===r.id){this._logs.splice(t,1),this._nbLogs--,n.length=r.stop-n.start,n.start=n.start-this._startTime;break}}"length"in n||(n.length=0,n.start=n.start-this._startTime)}"msg"in n||(n.msg="NO MESSAGE"),s=n.start+n.length,s>i&&(i=s),this._logsPerClasspath
[n.classpath]||(this._logsPerClasspath[n.classpath]={});var o=this._logsPerClasspath[n.classpath];o[n.msg]||(o[n.msg]=[0]),o[n.msg].push(n),o[n.msg][0]+=n.length}this._logsPerClasspath._max=i},showProfilingData:function(e){if(this._displayDiv!=null)return;this.process();var t=Aria.$window.document;this._displayDiv=t.createElement("div"),this._displayDiv.style.cssText="position:absolute;top:0px;left:0px;width:100%;height:100%; z-index:99999999;overflow:auto;background:white",t.body.appendChild(this._displayDiv
),Aria.loadTemplate({classpath:"aria.utils.ProfilingDisplay",div:this._displayDiv,data:aria.utils.Json.copy(this._logsPerClasspath,!0)})},hideProfilingData:function(){this._displayDiv.innerHTML="",this._displayDiv!=null&&aria.utils.Dom.removeElement(this._displayDiv),this._displayDiv=null},logTimestamp:function(e,t){this._logs[this._nbLogs++]={classpath:e,msg:t,timestamp:(new Date).getTime()}},startMeasure:function(e,t){return this._logs[this._nbLogs++]={classpath:e,msg:t,id:this._ids,start:(new Date).getTime
()},this._ids++},stopMeasure:function(e,t){this._logs[this._nbLogs++]={classpath:e,id:t,stop:(new Date).getTime()}},incrementCounter:function(e,t){this._counters.hasOwnProperty(e)?this._counters[e]+=t||1:this._counters[e]=t||1},resetCounter:function(e,t){if(!this._counters[e])return;this._counterSplits[e]||(this._counterSplits[e]=[]),this._counterSplits[e].push({value:this._counters[e],reason:t}),this._counters[e]=0},getCounterValue:function(e){return this._counters[e]||0},getAvgSplitCounterValue:function(e,
t){if(!this._counterSplits[e])return 0;var n=0;for(var r=0,i=this._counterSplits[e].length;r<i;r+=1)n+=this._counterSplits[e][r].value;return n/i}}});
//*******************
//LOGICAL-PATH:aria/utils/Store.js
//*******************
Aria.classDefinition({$classpath:"aria.utils.Store",$dependencies:["aria.utils.Array","aria.utils.Callback"],$constructor:function(){this._store=null,this._storeLength=0},$destructor:function(){var e;if(this._store){for(var t=0,n=this._store.length;t<n;t++)e=this._store[t],e.$dispose&&e.$dispose();this._store=null}},$prototype:{add:function(e){this._store||(this._store=[],this.initialize()),this._store[this._storeLength++]=e},initialize:function(){},remove:function(e){return this._store&&aria.utils.Array.remove
(this._store,e)?(this._storeLength--,!0):!1},getSize:function(){return this._storeLength},getMatch:function(e,t){t=t===!0;var n=null,r=t?[]:null,i=0;for(var s=0;s<this._storeLength;s++){n=this._store[s];if(this.$callback(e,n)){if(!t)return n;r[i++]=n}}return r},removeMatch:function(e,t){e=new aria.utils.Callback(e),t=t===!0;var n=null,r=t?[]:null;for(var i=0;i<this._storeLength;i++){n=this._store[i];if(e.call(n)){this._store.splice(i,1),this._storeLength--,i-=1;if(!t)return e.$dispose(),n;r.push(n)}}return e
.$dispose(),r},foreach:function(e,t){var n=null;e=new aria.utils.Callback(e),t&&(t=new aria.utils.Callback(t));for(var r=0;r<this._storeLength;r++){n=this._store[r];if(t&&!t.call(n))continue;e.call(n)}e.$dispose(),t&&t.$dispose()}}});
//*******************
//LOGICAL-PATH:aria/widgetLibs/environment/WidgetLibsSettings.js
//*******************
Aria.classDefinition({$classpath:"aria.widgetLibs.environment.WidgetLibsSettings",$extends:"aria.core.environment.EnvironmentBase",$dependencies:["aria.widgetLibs.environment.WidgetLibsSettingsCfgBeans"],$singleton:!0,$prototype:{_cfgPackage:"aria.widgetLibs.environment.WidgetLibsSettingsCfgBeans.AppCfg",getWidgetLibs:function(){var e=this.checkApplicationSettings("defaultWidgetLibs"),t=this.checkApplicationSettings("defaultWidgetLib");return t&&(e=aria.utils.Json.copy(e,!1),e.aria=t),e}}});
//*******************
//LOGICAL-PATH:aria/widgetLibs/environment/WidgetLibsSettingsCfgBeans.js
//*******************
Aria.beanDefinitions({$package:"aria.widgetLibs.environment.WidgetLibsSettingsCfgBeans",$namespaces:{json:"aria.core.JsonTypes"},$description:"",$beans:{AppCfg:{$type:"json:Object",$description:"",$restricted:!1,$properties:{defaultWidgetLibs:{$type:"json:Map",$description:"",$contentType:{$type:"json:PackageName",$description:""},$default:{aria:"aria.widgets.AriaLib"}}}}}});
//*******************
//LOGICAL-PATH:aria/widgetLibs/BaseWidget.js
//*******************
(function(){var e=null,t=null,n=function(e,t){return e._context&&(t||(t=[]),t.unshift("Template: "+e._context.tplClasspath+", Line: "+e._lineNumber+"\n")),t};Aria.classDefinition({$classpath:"aria.widgetLibs.BaseWidget",$dependencies:["aria.utils.IdManager","aria.templates.CSSMgr"],$onload:function(){e=new aria.utils.IdManager("w"),t=aria.utils.Array},$onunload:function(){e.$dispose(),e=null,t=null},$constructor:function(e,t,n){this._cfg=e,this._context=t,this._lineNumber=n,this._dynamicIds=null,aria.templates
.CSSMgr.loadWidgetDependencies(this.$classpath,this.$css),this.__cssLoaded=!0},$destructor:function(){this._releaseAllDynamicIds(),this.__cssLoaded?(aria.templates.CSSMgr.unloadWidgetDependencies(this.$classpath,this.$css),this.__cssLoaded=!1):this.$logError(this.WIDGET_DISPOSED_TWICE),this._context=null,this._cfg=null},$statics:{WIDGET_CONTAINER_ONLY:"%1This widget must be used as a container.",WIDGET_NOT_CONTAINER:"%1This widget cannot be used as a container.",WIDGET_DISPOSED_TWICE:"This widget was disposed twice."
},$prototype:{writeMarkup:function(e){this.$logError(this.WIDGET_CONTAINER_ONLY)},writeMarkupBegin:function(e){this.$logError(this.WIDGET_NOT_CONTAINER)},getDom:function(){return null},$logError:function(e,t,r){this.$JsObject.$logError.call(this,e,n(this,t),r)},$logWarn:function(e,t,r){this.$JsObject.$logWarn.call(this,e,n(this,t),r)},$logInfo:function(e,t,r){this.$JsObject.$logInfo.call(this,e,n(this,t),r)},$logDebug:function(e,t,r){this.$JsObject.$logDebug.call(this,e,n(this,t),r)},writeMarkupEnd:function(
e){},initWidget:function(){},_createDynamicId:function(){var t=e.getId();return this._dynamicIds?this._dynamicIds.push(t):this._dynamicIds=[t],t},_releaseDynamicId:function(n){var r=this._dynamicIds;if(r){var i=t.indexOf(r,n);i!=-1&&(e.releaseId(n),r.length==1?this._dynamicIds=null:t.removeAt(r,i))}},_releaseAllDynamicIds:function(){var t=this._dynamicIds;if(t){for(var n=t.length-1;n>=0;n--)e.releaseId(t[n]);this._dynamicIds=null}}}})})();
//*******************
//LOGICAL-PATH:aria/widgetLibs/BindableWidget.js
//*******************
Aria.classDefinition({$classpath:"aria.widgetLibs.BindableWidget",$extends:"aria.widgetLibs.BaseWidget",$statics:{INVALID_BEAN:"Invalid propety '%1' in widget's '%2' configuration."},$dependencies:["aria.utils.Json","aria.utils.Type"],$constructor:function(e,t,n){this.$BaseWidget.constructor.call(this,e,t,n),this._bindingListeners={}},$destructor:function(){var e=this._bindingListeners,t=aria.utils.Json;for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];t.removeListener(r.inside,r.to,r.cb)}this._bindingListeners=
null,this.$BaseWidget.$destructor.call(this)},$prototype:{_registerBindings:function(){var e=this._cfg.bind,t=aria.utils.Json;if(e)for(var n in e){if(!e.hasOwnProperty(n))continue;var r=e[n];if(r){var i={fn:this._notifyDataChange,scope:this,args:n};try{t.addListener(r.inside,r.to,i,!0),this._bindingListeners[n]={inside:r.inside,to:r.to,transform:r.transform,cb:i};var s=this._transform(r.transform,r.inside[r.to],"toWidget");this.setWidgetProperty(n,s)}catch(o){this.$logError(this.INVALID_BEAN,[n,"bind"])}}}},
_notifyDataChange:Aria.empty,setWidgetProperty:Aria.empty,_transform:function(e,t,n){var r=t;if(e){var i=!1,s=aria.utils.Type;s.isString(e)&&e.indexOf(".")!=-1&&(e=Aria.getClassInstance(e),i=!0),e[n]?r=this.evalCallback(e[n],r):s.isFunction(e)&&(r=this.evalCallback(e,r)),i&&e.$dispose()}return r},evalCallback:function(e,t){return this._context.evalCallback(e,t)}}});
//*******************
//LOGICAL-PATH:aria/widgetLibs/CommonBeans.js
//*******************
Aria.beanDefinitions({$package:"aria.widgetLibs.CommonBeans",$description:"",$namespaces:{json:"aria.core.JsonTypes"},$beans:{Callback:{$type:"json:MultiTypes",$description:"",$contentTypes:[{$type:"json:Object",$description:"",$properties:{fn:{$type:"FunctionName",$description:""},scope:{$type:"json:ObjectRef",$description:""},args:{$type:"json:MultiTypes",$description:""}}},{$type:"FunctionName",$description:""}]},FunctionName:{$type:"json:MultiTypes",$description:"",$contentTypes:[{$type:"json:String",$description
:""},{$type:"json:FunctionRef",$description:""}]},BindingRef:{$type:"json:Object",$description:"",$properties:{to:{$type:"json:JsonProperty",$description:""},inside:{$type:"json:ObjectRef",$description:""},transform:{$type:"TransformRef",$description:""}}},TransformRef:{$type:"json:MultiTypes",$description:"",$contentTypes:[{$type:"json:Object",$description:"",$properties:{toWidget:{$type:"FunctionName",$description:""},fromWidget:{$type:"FunctionName",$description:""}}},{$type:"FunctionName",$description:""
}]}}});
//*******************
//LOGICAL-PATH:aria/widgetLibs/WidgetLib.js
//*******************
Aria.classDefinition({$classpath:"aria.widgetLibs.WidgetLib",$statics:{UNKWOWN_WIDGET:"Unknown widget name in the library.",ERROR_WIDGET_INIT:"Template %1, line %2: an error occurred while initializing widget %3. Please check the name and classpath of the widget in the library, the constructor of the widget and its %4 method."},$prototype:{widgets:{},getWidgetDependencies:function(e,t){var n=this.widgets[e];return n==null?null:t||Aria.getClassRef(n)==null?[n]:[]},processWidgetMarkup:function(e,t,n,r){var i=this
.widgets[e];try{if(!i)throw this.UNKWOWN_WIDGET;n||(n={});var s=Aria.getClassRef(i),o=new s(n,t.tplCtxt,r);t.registerBehavior(o),o.writeMarkup(t)}catch(u){t.write("#Error in widget:"+e+"#"),this.$logError(this.ERROR_WIDGET_INIT,[t.tplCtxt.tplClasspath,r,e,"writeMarkup"],u)}},processWidgetMarkupBegin:function(e,t,n,r){var i=this.widgets[e];try{if(i){n||(n={});var s=Aria.getClassRef(i),o=new s(n,t.tplCtxt,r);return t.registerBehavior(o),o.writeMarkupBegin(t),o}throw this.UNKWOWN_WIDGET}catch(u){t.write("#Error in widget:"+
e+"#"),this.$logError(this.ERROR_WIDGET_INIT,[t.tplCtxt.tplClasspath,r,e,"writeMarkupBegin"],u)}}}});
//*******************
//LOGICAL-PATH:aria/widgets/environment/WidgetSettings.js
//*******************
Aria.classDefinition({$classpath:"aria.widgets.environment.WidgetSettings",$extends:"aria.core.environment.EnvironmentBase",$dependencies:["aria.widgets.environment.WidgetSettingsCfgBeans","aria.widgetLibs.environment.WidgetLibsSettings"],$singleton:!0,$prototype:{_cfgPackage:"aria.widgets.environment.WidgetSettingsCfgBeans.AppCfg",getWidgetLib:function(){return Aria.getClassRef(this.getWidgetLibClassName())},getWidgetLibClassName:function(){return this.$logWarn("The getWidgetLibClassName and getWidgetLib methods are deprecated. There is no longer a single default library. Instead of these methods, you can consider using the getWidgetLibs method in aria.widgetLibs.environment.WidgetLibsSettings."
),aria.widgetLibs.environment.WidgetLibsSettings.getWidgetLibs().aria},getWidgetSettings:function(){return this.checkApplicationSettings("widgetSettings")}}});
//*******************
//LOGICAL-PATH:aria/widgets/environment/WidgetSettingsCfgBeans.js
//*******************
Aria.beanDefinitions({$package:"aria.widgets.environment.WidgetSettingsCfgBeans",$namespaces:{json:"aria.core.JsonTypes",dragDrop:"aria.utils.dragdrop.DragDropBean"},$description:"",$beans:{AppCfg:{$type:"json:Object",$description:"",$restricted:!1,$properties:{widgetSettings:{$type:"WidgetSettingsCfg",$description:"",$default:{}},defaultWidgetLib:{$type:"json:String",$description:""}}},WidgetSettingsCfg:{$type:"json:Object",$description:"",$properties:{directOnBlurValidation:{$type:"json:Boolean",$description
:"",$default:!0},autoselect:{$type:"json:Boolean",$description:"",$default:!1},middleAlignment:{$type:"json:Boolean",$description:"",$default:!0},dialog:{$type:"json:Object",$description:"",$properties:{movable:{$type:"json:Boolean",$description:"",$default:!1},movableProxy:{$type:"dragDrop:ProxyCfg",$description:""}},$default:{}}}}}});
//*******************
//LOGICAL-PATH:aria/widgets/AriaLib.js
//*******************
Aria.classDefinition({$classpath:"aria.widgets.AriaLib",$singleton:!0,$prototype:{}});
//*******************
//LOGICAL-PATH:aria/widgets/AriaSkinBeans.js
//*******************
Aria.beanDefinitions({$package:"aria.widgets.AriaSkinBeans",$beans:{}});
//*******************
//LOGICAL-PATH:aria/widgets/AriaSkinInterface.js
//*******************
Aria.classDefinition({$classpath:"aria.widgets.AriaSkinInterface",$singleton:!0,$prototype:{}});
//*******************
//LOGICAL-PATH:aria/widgets/AriaSkinNormalization.js
//*******************
Aria.classDefinition({$classpath:"aria.widgets.AriaSkinNormalization",$singleton:!0,$prototype:{normalizeSkin:function(e){}}});
//*******************
//LOGICAL-PATH:aria/widgets/GlobalStyle.tpl.css
//*******************
{CSSTemplate {
    $classpath : "aria.widgets.GlobalStyle"
}}

{macro main()}
{/macro}

{/CSSTemplate}
//*******************
//LOGICAL-PATH:aria/widgets/WidgetStyle.tpl.css
//*******************
{CSSTemplate {
    $classpath : "aria.widgets.WidgetStyle"
}}
    {macro main()}
    {/macro}
{/CSSTemplate}
//*******************
//LOGICAL-PATH:aria/widgets/WidgetStyleScript.js
//*******************
Aria.tplScriptDefinition({$classpath:"aria.widgets.WidgetStyleScript",$prototype:{}});